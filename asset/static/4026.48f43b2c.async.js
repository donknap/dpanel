!(function(){var oe=Object.defineProperty,le=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var ee=(B,C,e)=>C in B?oe(B,C,{enumerable:!0,configurable:!0,writable:!0,value:e}):B[C]=e,te=(B,C)=>{for(var e in C||(C={}))ue.call(C,e)&&ee(B,e,C[e]);if(q)for(var e of q(C))de.call(C,e)&&ee(B,e,C[e]);return B},ne=(B,C)=>le(B,_e(C));(self.webpackChunk=self.webpackChunk||[]).push([[4026],{86615:function(B,C,e){"use strict";var R=e(1413),h=e(45987),y=e(22270),c=e(78045),m=e(67294),p=e(90789),M=e(40284),I=e(85893),t=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],r=m.forwardRef(function(n,l){var _=n.fieldProps,f=n.options,v=n.radioType,u=n.layout,E=n.proFieldProps,b=n.valueEnum,P=(0,h.Z)(n,t);return(0,I.jsx)(M.Z,(0,R.Z)((0,R.Z)({valueType:v==="button"?"radioButton":"radio",ref:l,valueEnum:(0,y.h)(b,void 0)},P),{},{fieldProps:(0,R.Z)({options:f,layout:u},_),proFieldProps:E,filedConfig:{customLightMode:!0}}))}),o=m.forwardRef(function(n,l){var _=n.fieldProps,f=n.children;return(0,I.jsx)(c.ZP,(0,R.Z)((0,R.Z)({},_),{},{ref:l,children:f}))}),s=(0,p.G)(o,{valuePropName:"checked",ignoreWidth:!0}),a=s;a.Group=r,a.Button=c.ZP.Button,a.displayName="ProFormComponent",C.Z=a},90672:function(B,C,e){"use strict";var R=e(1413),h=e(45987),y=e(67294),c=e(40284),m=e(85893),p=["fieldProps","proFieldProps"],M=function(t,r){var o=t.fieldProps,s=t.proFieldProps,a=(0,h.Z)(t,p);return(0,m.jsx)(c.Z,(0,R.Z)({ref:r,valueType:"textarea",fieldProps:o,proFieldProps:s},a))};C.Z=y.forwardRef(M)},74026:function(B,C,e){"use strict";var R=e(15009),h=e.n(R),y=e(99289),c=e.n(y),m=e(5574),p=e.n(m),M=e(66554),I=e(184),t=e(86615),r=e(97462),o=e(90672),s=e(64317),a=e(5966),n=e(62370),l=e(52688),_=e(83622),f=e(42075),v=e(71230),u=e(15746),E=e(67294),b=e(12491),P=e(75544),T=e(77865),W=e(82346),O=e(3616),L=e(36146),g=e(85893),x=(0,E.forwardRef)(function(U,F){var j=(0,E.useState)(!1),d=p()(j,2),D=d[0],A=d[1],i=(0,E.useRef)(),z=(0,E.useRef)(),$=(0,E.useState)([]),Z=p()($,2),H=Z[0],X=Z[1],re=(0,W.useModel)("subscriber"),se=(0,E.useState)(),Q=p()(se,2),ae=Q[0],J=Q[1],w=new L.Uo("components.appDomain");return re.addDataHandler("domain:apply",function(k){var K;(K=z.current)===null||K===void 0||K.write(k.data)}),(0,E.useImperativeHandle)(F,function(){return{edit:function(K){var S,G;J(K),(S=i.current)===null||S===void 0||S.resetFields(),(G=i.current)===null||G===void 0||G.setFieldsValue({type:K.CA=="import"?"upload":"apply",domain:K.domain,dnsApi:K.dnsApi,sslKeyContent:K.sslKeyContent,sslCrtContent:K.sslCrtContent}),A(!0)}}}),(0,E.useEffect)(function(){(0,M.q2)().then(function(k){X(k.data.setting.map(function(K){return{label:K.title,value:K.serverName}}))})},[]),(0,g.jsx)(g.Fragment,{children:(0,g.jsxs)(I.a,{title:w.format("certTitle"),drawerProps:{forceRender:!0,width:O.R_},trigger:(0,g.jsx)(_.ZP,{type:"primary",children:w.format("certTitle")}),formRef:i,onFinish:function(){var k=c()(h()().mark(function K(S){var G,V,N,ie;return h()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if((G=z.current)===null||G===void 0||G.clear(),S.type!="upload"){Y.next=7;break}return Y.next=4,(0,M.ui)({type:S.type,sslKeyContent:S.sslKeyContent,sslCrtContent:S.sslCrtContent});case 4:V=Y.sent,Y.next=11;break;case 7:return localStorage.setItem("email",(N=S.email)!==null&&N!==void 0?N:""),Y.next=10,(0,M.Pf)({type:S.type,domain:S.domain,email:S.email,certServer:S.certServer,autoUpgrade:S.autoUpgrade,renew:S.renew,debug:S.debug,dnsApi:S.dnsApi});case 10:ie=Y.sent;case 11:return U.onFinish&&U.onFinish(),Y.abrupt("return",!0);case 13:case"end":return Y.stop()}},K)}));return function(K){return k.apply(this,arguments)}}(),onOpenChange:function(K){var S,G;if(!K){var V;J(void 0),(V=i.current)===null||V===void 0||V.resetFields()}if(U.domain&&U.domain.length>0){var N;(N=i.current)===null||N===void 0||N.setFieldValue("domain",U.domain)}(S=i.current)===null||S===void 0||S.setFieldsValue({email:(G=localStorage.getItem("email"))!==null&&G!==void 0?G:""}),A(K)},open:D,children:[(0,g.jsx)(t.Z.Group,{label:w.format("certFormType"),name:"type",initialValue:"apply",disabled:!!ae,options:w.option("certFormTypeOption",["upload","apply"])}),(0,g.jsx)(r.Z,{name:["type"],children:function(K){var S=K.type;return S=="upload"?[(0,g.jsx)(o.Z,{fieldProps:{rows:10},label:w.format("certFormSslCrtContent"),name:"sslCrtContent",tooltip:w.format("certFormSslCrtContentTip"),placeholder:"-----BEGIN CERTIFICATE-----",required:!0},"sslCrt"),(0,g.jsx)(b.Z,{title:w.format("certFormImportCrt"),onImport:function(V){var N;return(N=i.current)===null||N===void 0||N.setFieldValue("sslCrtContent",V),!0},onLoad:function(V){if(V.indexOf("BEGIN CERTIFICATE")<0)throw new Error(L.FD.format("commonFileIncorrectFormat",{name:".crt"}));return!0}},"importCrt"),(0,g.jsx)(o.Z,{fieldProps:{rows:10},label:w.format("certFormSslKeyContent"),name:"sslKeyContent",tooltip:w.format("certFormSslKeyContentTip"),placeholder:"-----BEGIN PRIVATE KEY-----",required:!0},"sslKey"),(0,g.jsx)(b.Z,{title:w.format("certFormImportKey"),onImport:function(V){var N;return(N=i.current)===null||N===void 0||N.setFieldValue("sslKeyContent",V),!0},onLoad:function(V){if(V.indexOf("PRIVATE KEY")<0)throw new Error(L.FD.format("commonFileIncorrectFormat",{name:".key"}));return!0}},"importKey")]:(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(s.Z,{mode:"tags",name:"domain",label:w.format("certFormDomain"),placeholder:w.format("certFormDomainEmpty"),required:!0,rules:[{required:!0}]},"domain"),(0,g.jsx)(a.Z,{label:w.format("certFormEmail"),name:"email",required:!0,rules:[{required:!0}]}),(0,g.jsxs)(f.Z.Compact,{children:[(0,g.jsx)(s.Z,{label:w.format("certFormDnsApi"),tooltip:w.format("certFormDnsApiTip"),name:"dnsApi",width:"lg",required:!0,rules:[{required:!0}],options:H}),(0,g.jsx)(n.Z,{label:" ",children:(0,g.jsx)(T.Z,{onFinish:function(V){X(V.map(function(N){return{label:N.title,value:N.serverName}}))}},"dns")})]}),(0,g.jsx)(s.Z,{label:w.format("certFormCertServer"),name:"certServer",tooltip:w.format("certFormCertServerTip"),initialValue:"letsencrypt",options:[{value:"letsencrypt",label:"Let's Encrypt"},{value:"zerossl",label:"ZeroSSL"}]}),(0,g.jsxs)(v.Z,{gutter:[20,10],children:[(0,g.jsx)(u.Z,{children:(0,g.jsx)(l.Z,{label:w.format("certFormAutoUpgrade"),name:"autoUpgrade",initialValue:!0})}),(0,g.jsx)(u.Z,{children:(0,g.jsx)(l.Z,{tooltip:w.format("certFormRenewTip"),label:w.format("certFormRenew"),name:"renew",initialValue:!1})}),(0,g.jsx)(u.Z,{children:(0,g.jsx)(l.Z,{tooltip:w.format("certFormDebugTip"),label:"Debug",name:"debug",initialValue:!1})}),(0,g.jsx)(u.Z,{})]}),(0,g.jsx)(P.Z,{height:"200px",style:{fontSize:12},ref:z})]})}})]})})});C.Z=x},77865:function(B,C,e){"use strict";var R=e(15009),h=e.n(R),y=e(99289),c=e.n(y),m=e(5574),p=e.n(m),M=e(184),I=e(86615),t=e(97462),r=e(5966),o=e(83622),s=e(67294),a=e(44349),n=e(52255),l=e(66554),_=e(3616),f=e(36146),v=e(85893),u=new f.Uo("components.appDomain"),E=[{value:"dns_cf",label:"CloudFlare",fields:[{name:"CF_Token"}],help:"https://dash.cloudflare.com/profile/api-tokens"},{value:"dns_dp",label:"DNSPod",fields:[{name:"DP_Id"},{name:"DP_Key"}],help:"https://console.dnspod.cn/account/token/token"},{value:"dns_tencent",label:u.format("dnsApiOption.dns_tencent"),fields:[{name:"Tencent_SecretId"},{name:"Tencent_SecretKey"}],help:"https://console.cloud.tencent.com/cam/capi"},{label:u.format("dnsApiOption.dns_ali"),value:"dns_ali",fields:[{name:"Ali_Key"},{name:"Ali_Secret"}],help:"https://ram.console.aliyun.com/users"},{label:u.format("dnsApiOption.dns_huaweicloud"),value:"dns_huaweicloud",fields:[{name:"HUAWEICLOUD_Username"},{name:"HUAWEICLOUD_Password"},{name:"HUAWEICLOUD_DomainName"}],help:"https://support.huaweicloud.com/api-iam/iam_01_0006.html"},{label:"GoDaddy",value:"dns_gd",fields:[{name:"GD_Key"},{name:"GD_Secret"}],help:"https://developer.godaddy.com/keys/"},{label:u.format("dnsApiOption.user"),value:"user",help:"https://github.com/acmesh-official/acme.sh/wiki/dnsapi"}],b=(0,s.forwardRef)(function(P,T){(0,s.useImperativeHandle)(T,function(){return{show:function(){g(!0)}}});var W=(0,s.useState)(!1),O=p()(W,2),L=O[0],g=O[1],x=(0,s.useRef)();return(0,v.jsxs)(M.a,{drawerProps:{width:_.R_},title:u.format("dnsApiTitle"),trigger:(0,v.jsx)(o.ZP,{children:u.format("dnsApiTitle")}),formRef:x,open:L,onFinish:function(){var U=c()(h()().mark(function F(j){var d,D;return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,l.q2)({account:Object.keys((d=j.account)!==null&&d!==void 0?d:{}).map(function(z){var $;return{title:($=E.find(function(Z){return Z.value==z}))===null||$===void 0?void 0:$.label,serverName:z,env:Object.keys(j.account[z]).map(function(Z){return{name:Z,value:j.account[z][Z]}})}}),user:j.user});case 2:return D=i.sent,P.onFinish&&P.onFinish(D.data.setting),i.abrupt("return",!0);case 5:case"end":return i.stop()}},F)}));return function(F){return U.apply(this,arguments)}}(),onOpenChange:function(){var U=c()(h()().mark(function F(j){var d,D,A,i;return h()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(g(j),!j){$.next=9;break}return(d=x.current)===null||d===void 0||d.resetFields(),$.next=5,(0,l.q2)();case 5:A=$.sent,i=[],A.data.setting&&A.data.setting.map(function(Z){E.find(function(H){return H.value==Z.serverName})?Z.env&&Z.env.map(function(H){var X;(X=x.current)===null||X===void 0||X.setFieldValue(["account",Z.serverName,H.name],H.value)}):Z.env&&i.push(Z)}),(D=x.current)===null||D===void 0||D.setFieldValue("user",i);case 9:case"end":return $.stop()}},F)}));return function(F){return U.apply(this,arguments)}}(),children:[(0,v.jsx)(I.Z.Group,{label:u.format("dnsApiServerNameSelect"),name:"serverNameSelect",radioType:"button",initialValue:"dns_dp",options:E.map(function(U){return{label:U.label,value:U.value}})}),(0,v.jsx)(t.Z,{name:["serverNameSelect"],children:function(F){var j,d=F.serverNameSelect,D=(j=E.find(function(A){return A.value===d}))===null||j===void 0?void 0:j.help;return(0,v.jsxs)("div",{style:{marginBottom:20},children:[u.format("dnsApiServerNameTip"),": ",(0,v.jsx)("a",{href:D,target:"_blank",children:D})]})}}),(0,v.jsx)(t.Z,{name:["serverNameSelect"],children:function(F){var j=F.serverNameSelect;return(0,v.jsxs)(v.Fragment,{children:[E.map(function(d){if(d.fields)return(0,v.jsx)(n.Z,{show:j==d.value,children:d.fields.map(function(D,A){return(0,v.jsx)(r.Z,{label:D.name,name:["account",d.value,D.name]},"".concat(d.value,"-").concat(A,"-").concat(D.name))})},d.value)}),(0,v.jsx)(n.Z,{show:j=="user",children:(0,v.jsx)(a.Z,{gap:20,name:"user",label:u.format("dnsApiUser"),showAddButton:!0,hideCopyButton:!0,items:[{name:"serverName",label:u.format("dnsApiUserServerName")},{name:"env",render:function(D,A,i){return(0,v.jsx)(a.Z,{gap:20,name:"env",label:u.format("dnsApiUserEnv"),showAddButton:!0,hideCopyButton:!0,items:[{name:"name",label:u.format("dnsApiUserEnvName")},{name:"value",label:u.format("dnsApiUserEnvValue")}]},"env")}}]})},"user")]})}})]})});C.Z=b},52255:function(B,C,e){"use strict";e.d(C,{Z:function(){return y}});var R=e(67294),h=e(85893);function y(c){return(0,h.jsx)("div",{style:{display:c.show?"block":"none"},children:c.children})}},75544:function(B,C,e){"use strict";var R=e(5574),h=e.n(R),y=e(12323),c=e(78267),m=e.n(c),p=e(75458),M=e.n(p),I=e(67294),t=e(4244),r=e.n(t),o=e(24078),s=e(85893),a,n,l,_=(0,I.forwardRef)(function(f,v){var u,E=(0,I.useState)(!0),b=h()(E,2),P=b[0],T=b[1];return(0,I.useEffect)(function(){return a=new t.Terminal(y.X),n=new p.SearchAddon,l=new c.FitAddon,window.addEventListener("resize",function(){f.showInModal||l.fit()}),f.style&&f.style.fontSize&&(a.options.fontSize=f.style.fontSize),a.loadAddon(l),a.loadAddon(n),a.open(document.getElementById(f.id?f.id:"terminal-container")),f.showInModal||l.fit(),function(){a.reset(),T(!0)}},[]),(0,I.useImperativeHandle)(v,function(){return{write:function(O){P&&(l.fit(),T(!1)),a.write(O)},clear:function(){a.clear()},getTerminal:function(){return a},findNext:function(O){n.findNext(O)},findPrev:function(O){n.findPrevious(O)},fit:function(){l.fit()},onData:function(O){return a.onData(O)}}}),(0,s.jsx)("div",{id:f.id?f.id:"terminal-container",style:{width:f.width?f.width:"100%",height:f.height?f.height:"500px",marginTop:(u=f.style)===null||u===void 0?void 0:u.marginTop}})});C.Z=_},44349:function(B,C,e){"use strict";var R=e(97857),h=e.n(R),y=e(15009),c=e.n(y),m=e(99289),p=e.n(m),M=e(74763),I=e(17186),t=e(5966),r=e(86250),o=e(67294),s=e(85893),a=(0,o.forwardRef)(function(n,l){var _=(0,o.useRef)();(0,o.useImperativeHandle)(l,function(){return{addItem:function(v){function u(E,b,P){return v.apply(this,arguments)}return u.toString=function(){return v.toString()},u}(function(v,u,E){var b,P=(b=_.current)===null||b===void 0?void 0:b.getList(),T;if(P==null||P.forEach(function(L,g){L[v]==u[v]&&(T=g)}),!(0,M.k)(T)&&E){var W;(W=_.current)===null||W===void 0||W.remove(T),T=void 0}if(!T){var O;(O=_.current)===null||O===void 0||O.add(u)}}),removeItemByKey:function(u,E){return p()(c()().mark(function b(){var P,T;return c()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return T=(P=_.current)===null||P===void 0?void 0:P.getList(),T==null||T.forEach(function(L,g){if(L[u]==E){var x;(x=_.current)===null||x===void 0||x.remove(g);return}}),O.abrupt("return");case 3:case"end":return O.stop()}},b)}))()},clear:function(u){if(!u){var E;u=(E=_.current)===null||E===void 0||(E=E.getList())===null||E===void 0?void 0:E.map(function(P,T){return T})}if(u){var b;(b=_.current)===null||b===void 0||b.remove(u)}},getList:function(){var u;return(u=_.current)===null||u===void 0?void 0:u.getList()}}});var f={};return n.hideCopyButton===!0&&(f.copyIconProps=!1),n.hideDeleteButton===!0&&(f.deleteIconProps=!1),(0,s.jsx)(I.u,h()(h()({initialValue:n.initialValue,label:n.label,name:n.name,actionRef:_,creatorButtonProps:n.showAddButton?{creatorButtonText:n.label?n.label:n.showAddButtonLabel?n.showAddButtonLabel:n.name}:!1,min:n.min?n.min:0},f),{},{children:function(u,E,b){return(0,s.jsx)(r.Z,{justify:n.justify,gap:n.gap,children:n.items.map(function(P){return P.render?(0,s.jsx)("div",{children:P.render&&P.render(u,E,b)},"".concat(n.name,"-").concat(P.name,"-").concat(u.key)):(0,s.jsx)(t.Z,{width:P.width,name:P.name,label:P.label,required:P.required,rules:[{required:P.required}],disabled:P.disabled,placeholder:P.placeholder},"".concat(n.name,"-").concat(P.name,"-").concat(u.key))})})}}))});C.Z=a},12491:function(B,C,e){"use strict";e.d(C,{Z:function(){return l}});var R=e(5574),h=e.n(R),y=e(3616),c=e(24963),m=e(36146),p=e(88484),M=e(57546),I=e(62370),t=e(11106),r=e(42075),o=e(83622),s=e(85576),a=e(67294),n=e(85893);function l(_){var f=(0,a.useContext)(c.Z),v=f.message,u=f.notice,E=(0,a.useRef)(null),b=(0,a.useState)(!1),P=h()(b,2),T=P[0],W=P[1],O=(0,a.useState)(""),L=h()(O,2),g=L[0],x=L[1];(0,a.useEffect)(function(){_.data&&x(_.data)},[_.data]);var U=function(){E.current&&(E.current.click(),E.current.onchange=function(j){if(!j||!j.target)return"";var d=new FileReader;d.onload=function(i){var z,$,Z=(z=i.target)===null||z===void 0?void 0:z.result;if(_.onLoad)try{_.onLoad&&_.onLoad(Z)}catch(H){u.error(H);return}x(Z),typeof _.onImport=="function"&&(v.success(m.FD.format("finish")),_.onImport(Z)),($=E.current)!==null&&$!==void 0&&$.value&&(E.current.value="")};var D=j.target;if(D.files&&D.files[0]){var A=D.files[0];try{d.readAsText(A)}catch(i){u.error(m.FD.format("commonContentIncorrectFormat",{name:D.files[0].name}))}}})};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(I.Z,{children:(0,n.jsxs)(r.Z.Compact,{block:!0,children:[(0,n.jsx)(o.ZP,{icon:(0,n.jsx)(p.Z,{}),block:!0,onClick:U,children:_.title}),_.showPaset&&(0,n.jsx)(o.ZP,{icon:(0,n.jsx)(M.Z,{}),onClick:function(){W(!0)}})]})}),(0,n.jsx)("input",{style:{display:"none"},type:"file",ref:E,name:"importFileInput"}),(0,n.jsx)(s.Z,{width:y.ob,open:T,onCancel:function(){W(!1)},onOk:function(){typeof _.onImport=="function"&&(v.success(m.FD.format("finish")),_.onImport(g)),W(!1)},children:(0,n.jsx)(t.ZP,{height:y.Ed,theme:"dark",value:g,onChange:function(j){x(j)}})})]})}},3616:function(B,C,e){"use strict";e.d(C,{Ed:function(){return c},FK:function(){return h},R_:function(){return R},ob:function(){return y}});var R=window.innerWidth<=1024?"90vw":"65vw",h="90vw",y="60vw",c="50vh"},12323:function(B,C,e){"use strict";e.d(C,{X:function(){return R},n:function(){return h}});var R={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,lineHeight:1,cursorStyle:"block",cursorInactiveStyle:"outline",cursorBlink:!0,letterSpacing:0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},h=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"]},66554:function(B,C,e){"use strict";e.d(C,{Fj:function(){return I},KK:function(){return x},Pf:function(){return _},Ss:function(){return P},dZ:function(){return L},dj:function(){return s},hZ:function(){return E},i7:function(){return p},lQ:function(){return n},ll:function(){return F},q2:function(){return W},ui:function(){return v}});var R=e(15009),h=e.n(R),y=e(99289),c=e.n(y),m=e(82346);function p(d){return M.apply(this,arguments)}function M(){return M=c()(h()().mark(function d(D){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/dpanel/api/app/site-domain/get-list",{method:"POST",data:D}));case 1:case"end":return i.stop()}},d)})),M.apply(this,arguments)}function I(d){return t.apply(this,arguments)}function t(){return t=c()(h()().mark(function d(D){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/dpanel/api/app/site-domain/create",{method:"POST",data:D}));case 1:case"end":return i.stop()}},d)})),t.apply(this,arguments)}function r(d){return o.apply(this,arguments)}function o(){return o=_asyncToGenerator(_regeneratorRuntime().mark(function d(D){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request("/dpanel/api/app/site-domain/update",{method:"POST",data:D}));case 1:case"end":return i.stop()}},d)})),o.apply(this,arguments)}function s(d){return a.apply(this,arguments)}function a(){return a=c()(h()().mark(function d(D){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/dpanel/api/app/site-domain/delete",{method:"POST",data:D}));case 1:case"end":return i.stop()}},d)})),a.apply(this,arguments)}function n(d){return l.apply(this,arguments)}function l(){return l=c()(h()().mark(function d(D){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/dpanel/api/app/site-domain/get-detail",{method:"POST",data:D}));case 1:case"end":return i.stop()}},d)})),l.apply(this,arguments)}function _(d){return f.apply(this,arguments)}function f(){return f=c()(h()().mark(function d(D){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/dpanel/api/app/site-cert/apply",{method:"POST",data:D}));case 1:case"end":return i.stop()}},d)})),f.apply(this,arguments)}function v(d){return u.apply(this,arguments)}function u(){return u=c()(h()().mark(function d(D){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/dpanel/api/app/site-cert/import",{method:"POST",data:D}));case 1:case"end":return i.stop()}},d)})),u.apply(this,arguments)}function E(){return b.apply(this,arguments)}function b(){return b=c()(h()().mark(function d(){return h()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,m.request)("/dpanel/api/app/site-domain/restart-nginx",{method:"POST"}));case 1:case"end":return A.stop()}},d)})),b.apply(this,arguments)}function P(d){return T.apply(this,arguments)}function T(){return T=c()(h()().mark(function d(D){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/dpanel/api/app/site-domain/update-vhost",{method:"POST",data:D}));case 1:case"end":return i.stop()}},d)})),T.apply(this,arguments)}function W(d){return O.apply(this,arguments)}function O(){return O=c()(h()().mark(function d(D){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/dpanel/api/app/site-cert/dns-api",{method:"POST",data:D}));case 1:case"end":return i.stop()}},d)})),O.apply(this,arguments)}function L(d){return g.apply(this,arguments)}function g(){return g=c()(h()().mark(function d(D){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/dpanel/api/app/site-cert/get-list",{method:"POST",data:D}));case 1:case"end":return i.stop()}},d)})),g.apply(this,arguments)}function x(d){return U.apply(this,arguments)}function U(){return U=c()(h()().mark(function d(D){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/dpanel/api/app/site-cert/delete",{method:"POST",data:D}));case 1:case"end":return i.stop()}},d)})),U.apply(this,arguments)}function F(d){return j.apply(this,arguments)}function j(){return j=c()(h()().mark(function d(D){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,m.request)("/dpanel/api/app/site-cert/download",{method:"POST",data:D,responseType:"blob"}));case 1:case"end":return i.stop()}},d)})),j.apply(this,arguments)}},75458:function(B){(function(C,e){B.exports=e()})(self,()=>(()=>{"use strict";var C={345:(y,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.runAndSubscribe=c.forwardEvent=c.EventEmitter=void 0,c.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=m=>(this._listeners.push(m),{dispose:()=>{if(!this._disposed){for(let p=0;p<this._listeners.length;p++)if(this._listeners[p]===m)return void this._listeners.splice(p,1)}}})),this._event}fire(m,p){const M=[];for(let I=0;I<this._listeners.length;I++)M.push(this._listeners[I]);for(let I=0;I<M.length;I++)M[I].call(void 0,m,p)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},c.forwardEvent=function(m,p){return m(M=>p.fire(M))},c.runAndSubscribe=function(m,p){return p(void 0),m(M=>p(M))}},859:(y,c)=>{function m(p){for(const M of p)M.dispose();p.length=0}Object.defineProperty(c,"__esModule",{value:!0}),c.getDisposeArrayDisposable=c.disposeArray=c.toDisposable=c.MutableDisposable=c.Disposable=void 0,c.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const p of this._disposables)p.dispose();this._disposables.length=0}register(p){return this._disposables.push(p),p}unregister(p){const M=this._disposables.indexOf(p);M!==-1&&this._disposables.splice(M,1)}},c.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(p){var M;this._isDisposed||p===this._value||((M=this._value)==null||M.dispose(),this._value=p)}clear(){this.value=void 0}dispose(){var p;this._isDisposed=!0,(p=this._value)==null||p.dispose(),this._value=void 0}},c.toDisposable=function(p){return{dispose:p}},c.disposeArray=m,c.getDisposeArrayDisposable=function(p){return{dispose:()=>m(p)}}}},e={};function R(y){var c=e[y];if(c!==void 0)return c.exports;var m=e[y]={exports:{}};return C[y](m,m.exports,R),m.exports}var h={};return(()=>{var y=h;Object.defineProperty(y,"__esModule",{value:!0}),y.SearchAddon=void 0;const c=R(345),m=R(859),p=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?";class M extends m.Disposable{constructor(t){var r;super(),this._highlightedLines=new Set,this._highlightDecorations=[],this._selectedDecoration=this.register(new m.MutableDisposable),this._linesCacheTimeoutId=0,this._linesCacheDisposables=new m.MutableDisposable,this._onDidChangeResults=this.register(new c.EventEmitter),this.onDidChangeResults=this._onDidChangeResults.event,this._highlightLimit=(r=t==null?void 0:t.highlightLimit)!=null?r:1e3}activate(t){this._terminal=t,this.register(this._terminal.onWriteParsed(()=>this._updateMatches())),this.register(this._terminal.onResize(()=>this._updateMatches())),this.register((0,m.toDisposable)(()=>this.clearDecorations()))}_updateMatches(){var t;this._highlightTimeout&&window.clearTimeout(this._highlightTimeout),this._cachedSearchTerm&&((t=this._lastSearchOptions)!=null&&t.decorations)&&(this._highlightTimeout=setTimeout(()=>{const r=this._cachedSearchTerm;this._cachedSearchTerm=void 0,this.findPrevious(r,ne(te({},this._lastSearchOptions),{incremental:!0,noScroll:!0}))},200))}clearDecorations(t){this._selectedDecoration.clear(),(0,m.disposeArray)(this._highlightDecorations),this._highlightDecorations=[],this._highlightedLines.clear(),t||(this._cachedSearchTerm=void 0)}clearActiveDecoration(){this._selectedDecoration.clear()}findNext(t,r){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const o=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,r);this._lastSearchOptions=r,r!=null&&r.decorations&&(this._cachedSearchTerm===void 0||t!==this._cachedSearchTerm||o)&&this._highlightAllMatches(t,r);const s=this._findNextAndSelect(t,r);return this._fireResults(r),this._cachedSearchTerm=t,s}_highlightAllMatches(t,r){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!t||t.length===0)return void this.clearDecorations();r=r||{},this.clearDecorations(!0);const o=[];let s,a=this._find(t,0,0,r);for(;a&&((s==null?void 0:s.row)!==a.row||(s==null?void 0:s.col)!==a.col)&&!(o.length>=this._highlightLimit);)s=a,o.push(s),a=this._find(t,s.col+s.term.length>=this._terminal.cols?s.row+1:s.row,s.col+s.term.length>=this._terminal.cols?0:s.col+1,r);for(const n of o){const l=this._createResultDecoration(n,r.decorations);l&&(this._highlightedLines.add(l.marker.line),this._highlightDecorations.push({decoration:l,match:n,dispose(){l.dispose()}}))}}_find(t,r,o,s){var l;if(!this._terminal||!t||t.length===0)return(l=this._terminal)==null||l.clearSelection(),void this.clearDecorations();if(o>this._terminal.cols)throw new Error(`Invalid col: ${o} to search in terminal of ${this._terminal.cols} cols`);let a;this._initLinesCache();const n={startRow:r,startCol:o};if(a=this._findInLine(t,n,s),!a)for(let _=r+1;_<this._terminal.buffer.active.baseY+this._terminal.rows&&(n.startRow=_,n.startCol=0,a=this._findInLine(t,n,s),!a);_++);return a}_findNextAndSelect(t,r){var _;if(!this._terminal||!t||t.length===0)return(_=this._terminal)==null||_.clearSelection(),this.clearDecorations(),!1;const o=this._terminal.getSelectionPosition();this._terminal.clearSelection();let s=0,a=0;o&&(this._cachedSearchTerm===t?(s=o.end.x,a=o.end.y):(s=o.start.x,a=o.start.y)),this._initLinesCache();const n={startRow:a,startCol:s};let l=this._findInLine(t,n,r);if(!l)for(let f=a+1;f<this._terminal.buffer.active.baseY+this._terminal.rows&&(n.startRow=f,n.startCol=0,l=this._findInLine(t,n,r),!l);f++);if(!l&&a!==0)for(let f=0;f<a&&(n.startRow=f,n.startCol=0,l=this._findInLine(t,n,r),!l);f++);return!l&&o&&(n.startRow=o.start.y,n.startCol=0,l=this._findInLine(t,n,r)),this._selectResult(l,r==null?void 0:r.decorations,r==null?void 0:r.noScroll)}findPrevious(t,r){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const o=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,r);this._lastSearchOptions=r,r!=null&&r.decorations&&(this._cachedSearchTerm===void 0||t!==this._cachedSearchTerm||o)&&this._highlightAllMatches(t,r);const s=this._findPreviousAndSelect(t,r);return this._fireResults(r),this._cachedSearchTerm=t,s}_didOptionsChange(t,r){return!!r&&(t.caseSensitive!==r.caseSensitive||t.regex!==r.regex||t.wholeWord!==r.wholeWord)}_fireResults(t){if(t!=null&&t.decorations){let r=-1;if(this._selectedDecoration.value){const o=this._selectedDecoration.value.match;for(let s=0;s<this._highlightDecorations.length;s++){const a=this._highlightDecorations[s].match;if(a.row===o.row&&a.col===o.col&&a.size===o.size){r=s;break}}}this._onDidChangeResults.fire({resultIndex:r,resultCount:this._highlightDecorations.length})}}_findPreviousAndSelect(t,r){var f;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!this._terminal||!t||t.length===0)return(f=this._terminal)==null||f.clearSelection(),this.clearDecorations(),!1;const o=this._terminal.getSelectionPosition();this._terminal.clearSelection();let s=this._terminal.buffer.active.baseY+this._terminal.rows-1,a=this._terminal.cols;const n=!0;this._initLinesCache();const l={startRow:s,startCol:a};let _;if(o&&(l.startRow=s=o.start.y,l.startCol=a=o.start.x,this._cachedSearchTerm!==t&&(_=this._findInLine(t,l,r,!1),_||(l.startRow=s=o.end.y,l.startCol=a=o.end.x))),_||(_=this._findInLine(t,l,r,n)),!_){l.startCol=Math.max(l.startCol,this._terminal.cols);for(let v=s-1;v>=0&&(l.startRow=v,_=this._findInLine(t,l,r,n),!_);v--);}if(!_&&s!==this._terminal.buffer.active.baseY+this._terminal.rows-1)for(let v=this._terminal.buffer.active.baseY+this._terminal.rows-1;v>=s&&(l.startRow=v,_=this._findInLine(t,l,r,n),!_);v--);return this._selectResult(_,r==null?void 0:r.decorations,r==null?void 0:r.noScroll)}_initLinesCache(){const t=this._terminal;this._linesCache||(this._linesCache=new Array(t.buffer.active.length),this._linesCacheDisposables.value=(0,m.getDisposeArrayDisposable)([t.onLineFeed(()=>this._destroyLinesCache()),t.onCursorMove(()=>this._destroyLinesCache()),t.onResize(()=>this._destroyLinesCache())])),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(()=>this._destroyLinesCache(),15e3)}_destroyLinesCache(){this._linesCache=void 0,this._linesCacheDisposables.clear(),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)}_isWholeWord(t,r,o){return(t===0||p.includes(r[t-1]))&&(t+o.length===r.length||p.includes(r[t+o.length]))}_findInLine(t,r,o={},s=!1){var W;const a=this._terminal,n=r.startRow,l=r.startCol,_=a.buffer.active.getLine(n);if(_!=null&&_.isWrapped)return s?void(r.startCol+=a.cols):(r.startRow--,r.startCol+=a.cols,this._findInLine(t,r,o));let f=(W=this._linesCache)==null?void 0:W[n];f||(f=this._translateBufferLineToStringWithWrap(n,!0),this._linesCache&&(this._linesCache[n]=f));const[v,u]=f,E=this._bufferColsToStringOffset(n,l),b=o.caseSensitive?t:t.toLowerCase(),P=o.caseSensitive?v:v.toLowerCase();let T=-1;if(o.regex){const O=RegExp(b,"g");let L;if(s)for(;L=O.exec(P.slice(0,E));)T=O.lastIndex-L[0].length,t=L[0],O.lastIndex-=t.length-1;else L=O.exec(P.slice(E)),L&&L[0].length>0&&(T=E+(O.lastIndex-L[0].length),t=L[0])}else s?E-b.length>=0&&(T=P.lastIndexOf(b,E-b.length)):T=P.indexOf(b,E);if(T>=0){if(o.wholeWord&&!this._isWholeWord(T,P,t))return;let O=0;for(;O<u.length-1&&T>=u[O+1];)O++;let L=O;for(;L<u.length-1&&T+t.length>=u[L+1];)L++;const g=T-u[O],x=T+t.length-u[L],U=this._stringLengthToBufferSize(n+O,g);return{term:t,col:U,row:n+O,size:this._stringLengthToBufferSize(n+L,x)-U+a.cols*(L-O)}}}_stringLengthToBufferSize(t,r){const o=this._terminal.buffer.active.getLine(t);if(!o)return 0;for(let s=0;s<r;s++){const a=o.getCell(s);if(!a)break;const n=a.getChars();n.length>1&&(r-=n.length-1);const l=o.getCell(s+1);l&&l.getWidth()===0&&r++}return r}_bufferColsToStringOffset(t,r){const o=this._terminal;let s=t,a=0,n=o.buffer.active.getLine(s);for(;r>0&&n;){for(let l=0;l<r&&l<o.cols;l++){const _=n.getCell(l);if(!_)break;_.getWidth()&&(a+=_.getCode()===0?1:_.getChars().length)}if(s++,n=o.buffer.active.getLine(s),n&&!n.isWrapped)break;r-=o.cols}return a}_translateBufferLineToStringWithWrap(t,r){var l;const o=this._terminal,s=[],a=[0];let n=o.buffer.active.getLine(t);for(;n;){const _=o.buffer.active.getLine(t+1),f=!!_&&_.isWrapped;let v=n.translateToString(!f&&r);if(f&&_){const u=n.getCell(n.length-1);u&&u.getCode()===0&&u.getWidth()===1&&((l=_.getCell(0))==null?void 0:l.getWidth())===2&&(v=v.slice(0,-1))}if(s.push(v),!f)break;a.push(a[a.length-1]+v.length),t++,n=_}return[s.join(""),a]}_selectResult(t,r,o){const s=this._terminal;if(this._selectedDecoration.clear(),!t)return s.clearSelection(),!1;if(s.select(t.col,t.row,t.size),r){const a=s.registerMarker(-s.buffer.active.baseY-s.buffer.active.cursorY+t.row);if(a){const n=s.registerDecoration({marker:a,x:t.col,width:t.size,backgroundColor:r.activeMatchBackground,layer:"top",overviewRulerOptions:{color:r.activeMatchColorOverviewRuler}});if(n){const l=[];l.push(a),l.push(n.onRender(_=>this._applyStyles(_,r.activeMatchBorder,!0))),l.push(n.onDispose(()=>(0,m.disposeArray)(l))),this._selectedDecoration.value={decoration:n,match:t,dispose(){n.dispose()}}}}}if(!o&&(t.row>=s.buffer.active.viewportY+s.rows||t.row<s.buffer.active.viewportY)){let a=t.row-s.buffer.active.viewportY;a-=Math.floor(s.rows/2),s.scrollLines(a)}return!0}_applyStyles(t,r,o){t.classList.contains("xterm-find-result-decoration")||(t.classList.add("xterm-find-result-decoration"),r&&(t.style.outline=`1px solid ${r}`)),o&&t.classList.add("xterm-find-active-result-decoration")}_createResultDecoration(t,r){const o=this._terminal,s=o.registerMarker(-o.buffer.active.baseY-o.buffer.active.cursorY+t.row);if(!s)return;const a=o.registerDecoration({marker:s,x:t.col,width:t.size,backgroundColor:r.matchBackground,overviewRulerOptions:this._highlightedLines.has(s.line)?void 0:{color:r.matchOverviewRuler,position:"center"}});if(a){const n=[];n.push(s),n.push(a.onRender(l=>this._applyStyles(l,r.matchBorder,!1))),n.push(a.onDispose(()=>(0,m.disposeArray)(n)))}return a}}y.SearchAddon=M})(),h})())}}]);
}());