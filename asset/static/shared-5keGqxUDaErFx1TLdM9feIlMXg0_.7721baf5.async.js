"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1513],{91806:function(We,me,e){e.d(me,{Z:function(){return D}});var fe=e(87462),u=e(67294),ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"},h=ve,U=e(84089),m=function(A,c){return u.createElement(U.Z,(0,fe.Z)({},A,{ref:c,icon:h}))},le=u.forwardRef(m),D=le},33862:function(We,me,e){e.d(me,{Z:function(){return D}});var fe=e(87462),u=e(67294),ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"}}]},name:"environment",theme:"outlined"},h=ve,U=e(84089),m=function(A,c){return u.createElement(U.Z,(0,fe.Z)({},A,{ref:c,icon:h}))},le=u.forwardRef(m),D=le},83002:function(We,me,e){var fe=e(5574),u=e.n(fe),ve=e(15009),h=e.n(ve),U=e(99289),m=e.n(U),le=e(83622),D=e(85265),Q=e(67294),A=e(81146),c=e(1883),X=e(90098),R=e(3616),Y=e(36146),B=e(85893),Fe=(0,Q.forwardRef)(function(x,k){(0,Q.useImperativeHandle)(k,function(){return{show:function(z){return m()(h()().mark(function l(){return h()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:De(z),ae(!0);case 2:case"end":return F.stop()}},l)}))()}}});var G=(0,Q.useState)(!1),xe=u()(G,2),J=xe[0],ae=xe[1],pe=(0,Q.useState)(),_=u()(pe,2),I=_[0],De=_[1],se=(0,Q.useRef)();return(0,B.jsxs)(B.Fragment,{children:[x.showTriggerButton&&(0,B.jsx)(le.ZP,{onClick:m()(h()().mark(function q(){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:De(x.composeItem),ae(!0);case 2:case"end":return l.stop()}},q)})),icon:(0,B.jsx)(c.Z,{}),children:Y.FD.format("listManageLog")},"log"),(0,B.jsx)(D.Z,{title:Y.FD.format("listLog"),open:J,forceRender:!0,onClose:function(){ae(!1)},afterOpenChange:function(z){if(z)setTimeout(function(){var o,F;(o=se.current)===null||o===void 0||o.start(),(F=se.current)===null||F===void 0||F.fit()},1e3);else{var l;(l=se.current)===null||l===void 0||l.close()}},width:R.FK,children:I&&J&&(0,B.jsx)(A.Z,{ref:se,showInDrawer:!0,id:"compose:log:".concat(String(I.id||I.name)),request:function(){var q=m()(h()().mark(function z(l){var o;return h()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,X.Yz)({id:I.id||I.name,lineTotal:l.lineTotal,download:(o=l.download)!==null&&o!==void 0?o:!1,showTime:l.showTime});case 2:case"end":return n.stop()}},z)}));return function(z){return q.apply(this,arguments)}}(),download:function(){var q=m()(h()().mark(function z(l){var o;return h()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,X.vf)({id:I.id||I.name,lineTotal:l.lineTotal,showTime:l.showTime,download:!0});case 2:return o=n.sent,n.abrupt("return",{data:new Blob([o],{type:"text/plain"}),name:x.composeItem.name+"_"+new Date().toLocaleDateString()+".log"});case 4:case"end":return n.stop()}},z)}));return function(z){return q.apply(this,arguments)}}()})})]})});me.Z=Fe},42013:function(We,me,e){e.d(me,{Z:function(){return it}});var fe=e(97857),u=e.n(fe),ve=e(15009),h=e.n(ve),U=e(99289),m=e.n(U),le=e(5574),D=e.n(le),Q=e(3616),A=e(24963),c=e(90098),X=e(36146),R=e(86548),Y=e(33862),B=e(97937),Fe=e(11713),x=e(38345),k=e(24739),G=e(5966),xe=e(86615),J=e(97462),ae=e(62370),pe=e(98252),_=e(11106),I=e(42075),De=e(83622),se=e(71230),q=e(15746),z=e(40056),l=e(92398),o=e(83062),F=e(40411),n=e(67294),qe=e(12491),Le=e(85060),Ye=e(97269),Ve=e(86738),i=e(85893),He=(0,n.forwardRef)(function(ee,Ie){(0,n.useImperativeHandle)(Ie,function(){return{}});var Z=(0,n.useRef)(),$e=(0,n.useState)(!1),Te=D()($e,2),ue=Te[0],he=Te[1];return(0,i.jsx)(ae.Z,{children:(0,i.jsx)(Ve.Z,{icon:!1,title:!1,description:(0,i.jsx)(Ye.A,{name:"importRemote",layout:"horizontal",submitter:!1,formRef:Z,children:(0,i.jsx)(G.Z,{width:"lg",label:"Url",initialValue:ee.defaultUrl,name:"url",placeholder:"https:// or http://"})}),onOpenChange:function(H){var y;(y=Z.current)===null||y===void 0||y.resetFields()},onConfirm:m()(h()().mark(function Pe(){var H,y;return h()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(y=(H=Z.current)===null||H===void 0?void 0:H.getFieldValue("url"),y){W.next=3;break}return W.abrupt("return");case 3:if(he(!0),W.t0=ee.onRequest,!W.t0){W.next=8;break}return W.next=8,ee.onRequest(y).finally(function(){he(!1)});case 8:case"end":return W.stop()}},Pe)})),children:(0,i.jsx)(De.ZP,{loading:ue,icon:(0,i.jsx)(Le.Z,{}),block:!0,onClick:function(){var H;(H=Z.current)===null||H===void 0||H.resetFields()},children:ee.title})})})}),Qe=He,et=e(91058),Ue=e(79245),ke=e(27166),tt=e(63713),t=e(85576),nt=function(Ie){var Z=Ie.children,$e=Ie.height,Te=$e===void 0?"auto":$e,ue=(0,n.useState)(!1),he=D()(ue,2),Pe=he[0],H=he[1],y=(0,n.useCallback)(function(){return{open:function(){return H(!0)},close:function(){return H(!1)},toggle:function(){return H(function(Ze){return!Ze})}}},[])();(0,n.useEffect)(function(){var W=function(Ke){Ke.key==="F11"&&(Ke.preventDefault(),H(function(be){return!be}))};return window.addEventListener("keydown",W),function(){return window.removeEventListener("keydown",W)}},[Pe]);var te=function(Ze){return(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",height:Ze?"100%":Te,overflow:"hidden"},children:(0,i.jsx)("div",{style:{flex:1,overflow:"auto",position:"relative"},children:Z({isFullscreen:Ze,ref:y})})})};return(0,i.jsxs)(i.Fragment,{children:[!Pe&&te(!1),(0,i.jsx)(t.Z,{title:null,open:Pe,footer:null,closable:!1,width:"98vw",centered:!0,styles:{body:{padding:0,height:"calc(100vh - 80px)",overflow:"hidden"}},destroyOnHidden:!0,onCancel:function(){return H(!1)},children:(0,i.jsx)("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:te(!0)})})]})},rt=nt,at=(0,n.forwardRef)(function(ee,Ie){var Z=new X.Uo("components.appCompose"),$e=(0,n.useContext)(A.Z),Te=$e.message,ue=(0,n.useRef)(),he=(0,n.useRef)(),Pe=(0,n.useState)(),H=D()(Pe,2),y=H[0],te=H[1],W=(0,n.useState)(!1),Ze=D()(W,2),Ke=Ze[0],be=Ze[1],Ae=(0,n.useRef)(),ot=(0,n.useState)(),Xe=D()(ot,2),de=Xe[0],T=Xe[1],Be=(0,n.useState)("text"),ge=D()(Be,2),ce=ge[0],E=ge[1];return(0,n.useImperativeHandle)(Ie,function(){return{edit:function($){T($),be(!0)}}}),(0,n.useEffect)(function(){ee.id&&T(ee.id)},[]),(0,n.useEffect)(function(){var V;if(ue.current){var $=ee.id||de;if(!$){te({yaml:"",override:""});return}(V=Ae.current)===null||V===void 0||V.loading(),(0,c.Pn)({id:$}).finally(function(){var s;(s=Ae.current)===null||s===void 0||s.finish()}).then(function(s){var S,v;te({yaml:s.data.yaml[0],override:(S=s.data.yaml[1])!==null&&S!==void 0?S:""}),(v=ue.current)===null||v===void 0||v.setFieldsValue({name:s.data.detail.name,title:s.data.detail.title,type:s.data.detail.setting.type,environment:s.data.detail.setting.environment,remoteUrl:s.data.detail.setting.remoteUrl})})}},[ue.current,de]),(0,i.jsxs)(ke.Z,{requestLoading:y==null&&de!=null,drawerProps:{width:Q.FK,destroyOnHidden:!0,extra:(0,i.jsx)(I.Z,{children:(0,i.jsx)("a",{href:"https://dpanel.cc/manual/compose-create",target:"_blank",children:X.FD.format("help")})})},open:Ke,onOpenChange:function($){if(be($),!$){var s;te(void 0),T(ee.id),(s=ue.current)===null||s===void 0||s.resetFields()}},title:Z.format("yamlDrawerTitle"),formRef:ue,ref:Ae,trigger:(0,i.jsx)(De.ZP,{type:"primary",icon:de?(0,i.jsx)(R.Z,{}):void 0,children:X.Ob.format(de?"compose.list.edit":"compose.list.create")}),onFinish:function(){var V=m()(h()().mark(function $(s){var S,v,w,O;return h()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(s.type!="remoteGit"){p.next=7;break}return(S=Ae.current)===null||S===void 0||S.loading(),p.next=4,(0,c.zN)({uri:s.remoteUrl,name:s.name}).finally(function(){var M;(M=Ae.current)===null||M===void 0||M.finish()});case 4:return v=p.sent,ee.onFinish&&ee.onFinish(v.data.id),p.abrupt("return",!0);case 7:return p.prev=7,w={id:de&&de.toString(),type:s.type,name:s.name,title:s.title,environment:s.environment,remoteUrl:s.remoteUrl,yaml:y==null?void 0:y.yaml,yamlOverride:y==null?void 0:y.override},p.next=11,(0,c.im)(w);case 11:return O=p.sent,ee.onFinish&&ee.onFinish(O.data.id),Te.success(X.FD.format("finish")),p.abrupt("return",!0);case 17:return p.prev=17,p.t0=p.catch(7),p.abrupt("return",!1);case 20:case"end":return p.stop()}},$,null,[[7,17]])}));return function($){return V.apply(this,arguments)}}(),children:[(0,i.jsx)(x.Z,{ghost:!0,children:(0,i.jsxs)(k.UW,{children:[(0,i.jsx)(G.Z,{label:Z.format("createFormName"),name:"name",width:"md",required:!0,disabled:!!de,rules:[{required:!0},{pattern:/^[a-zA-Z0-9_-]+$/,message:Z.format("createFormNameRule")}],placeholder:Z.format("createFormNameEmpty")}),(0,i.jsx)(G.Z,{label:Z.format("createFormTitle"),name:"title",width:"md"})]})},"createForm"),(0,i.jsx)(xe.Z.Group,{label:Z.format("createFormType"),name:"type",initialValue:"text",fieldProps:{defaultValue:"text",onChange:function($){var s;(s=ue.current)===null||s===void 0||s.resetFields(["yaml","environment"]),E($.target.value)}},disabled:!!de,options:Z.option("createFormTypeOption",["text","remoteUrl","remoteGit","storagePath","store","outPath"]).map(function(V){return{label:V.label,value:V.value}})}),(0,i.jsx)(J.Z,{name:["type"],children:function($){var s=$.type;if(s=="text")return(0,i.jsxs)(se.Z,{gutter:[10,0],children:[(0,i.jsx)(q.Z,{span:12,children:(0,i.jsx)(qe.Z,{title:Z.format("createFormTypeTextImportFile"),onImport:function(v){return te(u()(u()({},y),{yaml:v})),(0,Ue.m)(v).map(function(w){var O;(O=he.current)===null||O===void 0||O.addEnvNameValue(w.name,w.value)}),!0},onLoad:function(v){if(v.indexOf("services:")<0)throw new Error(X.FD.format("commonFileIncorrectFormat",{name:"yaml"}));return!0}},"importFile")}),(0,i.jsx)(q.Z,{span:12,children:(0,i.jsx)(Qe,{title:Z.format("createFormTypeTextImportRemote"),onRequest:function(){var S=m()(h()().mark(function v(w){var O;return h()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,c.MG)({uri:w});case 2:return O=p.sent,te(u()(u()({},y),{yaml:O.data.content})),(0,Ue.m)(O.data.content).map(function(M){var je;(je=he.current)===null||je===void 0||je.addEnvNameValue(M.name,M.value)}),p.abrupt("return");case 6:case"end":return p.stop()}},v)}));return function(v){return S.apply(this,arguments)}}()},"importRemote")})]});if(s=="remoteUrl")return(0,i.jsx)(se.Z,{gutter:[10,0],children:(0,i.jsxs)(q.Z,{span:24,children:[(0,i.jsx)(ae.Z,{shouldUpdate:!0,children:function(v){return(0,i.jsx)(Qe,{defaultUrl:v.getFieldValue("remoteUrl"),title:Z.format("createFormTypeRemoteImportUrl"),onRequest:function(){var w=m()(h()().mark(function O(L){var p,M;return h()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return Ce.next=2,(0,c.MG)({uri:L});case 2:return M=Ce.sent,te(u()(u()({},y),{yaml:M.data.content})),(p=ue.current)===null||p===void 0||p.setFieldValue("remoteUrl",L),(0,Ue.m)(M.data.content).map(function(Ne){var we;(we=he.current)===null||we===void 0||we.addEnvNameValue(Ne.name,Ne.value)}),Ce.abrupt("return");case 7:case"end":return Ce.stop()}},O)}));return function(O){return w.apply(this,arguments)}}()},"importRemote1")}}),(0,i.jsx)(ae.Z,{hidden:!0,name:"remoteUrl"},"remoteUrl")]})});if(s=="remoteGit")return(0,i.jsx)(G.Z,{name:"remoteUrl",label:Z.format("createFormTypeRemoteImportGit")},"importRemote2");if(s=="storagePath")return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(G.Z,{name:"storagePath",required:!0,readonly:!0,initialValue:Z.format("createFormTypeStoragePathTip"),addonAfter:(0,i.jsx)("a",{href:"https://dpanel.cc/manual/compose-create",target:"_blank",children:X.FD.format("help")})})});if(s=="store")return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(G.Z,{readonly:!0,name:"store",required:!0,initialValue:Z.format("createFormTypeStoreTip"),addonAfter:(0,i.jsx)(tt.Link,{to:"/compose/appstore",children:X.Ob.format("compose.appstore")})})});if(s=="outPath")return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(G.Z,{name:"outPath",required:!0,readonly:!0,initialValue:Z.format("createFormTypeOutPathTip")})})}}),(0,i.jsx)(J.Z,{name:["type"],children:function($){var s=$.type;return(s=="text"||s=="remoteUrl"||de)&&(0,i.jsxs)(x.Z,{ghost:!0,direction:"row",children:[(0,i.jsxs)(x.Z,{ghost:!0,colSpan:"45%",children:[(0,i.jsx)(z.Z,{type:"warning",message:Z.format("createFormTypeTextTip"),style:{marginBottom:15}},"yamlTips"),(0,i.jsx)(z.Z,{message:(0,i.jsxs)(i.Fragment,{children:[Z.format("createEnvTip1")," ","${DB_NAME}",". ",Z.format("createEnvTip2")]})}),(0,i.jsx)(et.Z,{drawerProps:{ghost:!0,title:(0,i.jsx)(Y.Z,{}),subTitle:Z.format("createEnvTitle")},name:"environment",showInDrawer:!0,showImportButton:!de,showAddButton:!0,showCodeMode:!de,ref:he})]}),(0,i.jsx)(x.Z,{colSpan:"55%",children:(0,i.jsx)(rt,{children:function(v){var w=v.ref,O=v.isFullscreen;return(0,i.jsx)(l.Z,{tabBarExtraContent:(0,i.jsx)(I.Z,{children:(0,i.jsx)(De.ZP,{icon:O?(0,i.jsx)(B.Z,{}):(0,i.jsx)(Fe.Z,{}),type:"link",onClick:function(){w.toggle()}})}),items:[{label:Z.format("createYaml.yaml"),key:"yaml",children:y&&(0,i.jsx)(_.ZP,{theme:"dark",height:O?"82vh":"600px",onChange:function(p){te(u()(u()({},y),{yaml:p}))},onFocus:function(){s=="remoteUrl"&&Te.info(Z.format("createYamlDisableEdit"))},onBlur:function(){var p;(p=ue.current)!==null&&p!==void 0&&p.getFieldValue("environment")||y&&y.yaml&&(0,Ue.m)(y.yaml).map(function(M){var je;(je=he.current)===null||je===void 0||je.addEnvNameValue(M.name,M.value)})},readOnly:s=="remoteUrl",value:y.yaml,extensions:[pe.RI.yaml()]})},{label:(0,i.jsx)(o.Z,{title:Z.format("createYamlOverrideTip"),children:(0,i.jsx)(F.Z,{count:(y==null?void 0:y.override)&&X.FD.format("listInUse"),offset:[15,-5],children:Z.format("createYaml.override")})}),key:"yamlOverride",children:y&&(0,i.jsx)(_.ZP,{theme:"dark",height:"600px",onChange:function(p,M){te(u()(u()({},y),{override:p}))},value:y==null?void 0:y.override,extensions:[pe.RI.yaml()]})}]},"yamlEditor")}})})]},"yamlEditor")}})]},"yamlCreate")}),it=at},91218:function(We,me,e){e.d(me,{Z:function(){return de}});var fe=e(97857),u=e.n(fe),ve=e(19632),h=e.n(ve),U=e(15009),m=e.n(U),le=e(99289),D=e.n(le),Q=e(5574),A=e.n(Q),c=e(67294),X=e(3616),R=e(36146),Y=e(38345),B=e(97269),Fe=e(86615),x=e(62370),k=e(90098),G=e(27166),xe=e(43425),J=e(33160),ae=e(82061),pe=e(87784),_=e(74842),I=e(30159),De=e(25035),se=e(95591),q=e(26522),z=e(33862),l=e(40056),o=e(42075),F=e(96074),n=e(25593),qe=e(86250),Le=e(84567),Ye=e(83062),Ve=e(83622),i=e(80821),He=e(63713),Qe=e(79697),et=e(99861),Ue=e(1699),ke=e(89035),tt=e(75544),t=e(85893),nt=(0,c.forwardRef)(function(T,Be){(0,c.useImperativeHandle)(Be,function(){return{show:function(){return D()(m()().mark(function v(){var w;return m()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return s(!0),(w=ce.current)===null||w===void 0||w.clear(),L.next=4,new Promise(function(p){return setTimeout(function(){var M;(M=ce.current)===null||M===void 0||M.fit(),p(!0)},1e3)});case 4:case"end":return L.stop()}},v)}))()},close:function(){var v;s(!1),(v=ce.current)===null||v===void 0||v.clear()},cancel:function(){return D()(m()().mark(function v(){var w;return m()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return(w=ce.current)===null||w===void 0||w.clear(),ge.progress.close("compose:"+T.id),L.abrupt("return",!0);case 3:case"end":return L.stop()}},v)}))()}}});var ge=(0,He.useModel)("subscriber"),ce=(0,c.useRef)(),E=(0,c.useState)(!1),V=A()(E,2),$=V[0],s=V[1];return ge.addDataHandler("compose:"+T.id,function(S){var v;(v=ce.current)===null||v===void 0||v.write(S.data)}),(0,t.jsx)(Y.Z,{hidden:!$,ghost:!0,title:(0,t.jsx)(ke.Z,{}),subTitle:"Console",extra:(0,t.jsx)(o.Z,{children:(0,t.jsx)(i.Z,{action:D()(m()().mark(function S(){var v;return m()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return(v=ce.current)===null||v===void 0||v.clear(),ge.progress.close("compose:"+T.id),O.abrupt("return");case 3:case"end":return O.stop()}},S)})),buttonProps:{icon:(0,t.jsx)(ae.Z,{}),danger:!0},children:R.FD.format("listManageKill")},"kill")}),children:(0,t.jsx)(tt.Z,{id:"create-log-".concat(T.id),height:"200px",style:{fontSize:12},ref:ce})})}),rt=nt,at=e(83002),it=e(60940),ee=e(55241),Ie=e(78451),Z=e(89638),$e=e(10781),Te=e(91806),ue=e(60433),he=e(99611),Pe=e(99922),H=e(41477),y=e(87662),te=e(5251),W=e(69033);function Ze(T){var Be=(0,c.useState)(""),ge=A()(Be,2),ce=ge[0],E=ge[1],V=(0,c.useRef)(),$=(0,c.useRef)(),s=(0,c.useState)(),S=A()(s,2),v=S[0],w=S[1],O=new R.Uo("components.appCompose"),L=(0,c.useRef)(),p=(0,c.useState)(),M=A()(p,2),je=M[0],Ce=M[1],Ne=(0,c.useState)(),we=A()(Ne,2),a=we[0],Ge=we[1];return(0,c.useEffect)(function(){return(0,y.K3)().then(function(ie){var K;E((K=ie.data.serverUrl)!==null&&K!==void 0?K:"")}),w(!1),T.containerList&&Ce(T.containerList.filter(function(ie){return ie.status!=""}).map(function(ie){return ie.service})),Ge(T.containerList),function(){Ge([])}},[T.containerList]),(0,t.jsxs)(Y.Z,{ghost:!0,title:(0,t.jsx)(Te.Z,{}),subTitle:O.format("detailContainerTitle"),extra:T.enableSelectService&&(0,t.jsx)(Le.Z,{checked:v,onChange:function(K){w(K.target.checked)},children:O.format("selectService")},"selectService"),children:[(0,t.jsx)(Pe.Z,{showFileExplorer:!0,ref:V}),(0,t.jsx)(W.Z,{ref:L}),(0,t.jsx)(H.Z,{ref:$}),(0,t.jsx)(it.Z,{scroll:{x:"max-content"},rowKey:"service",pagination:!1,columns:[{title:R.FD.format("listName"),dataIndex:"name",width:200,render:function(K,j,Re){return(0,t.jsx)(Ye.Z,{title:j.service,children:(0,t.jsx)(Ie.Z,{content:j.name?(0,te.fi)(j.name,"/"):j.service})})}},{title:R.FD.format("listPort"),render:function(K,j,Re){var b=[],ne=[];return j.publishers&&j.publishers.map(function(ye){ye.publishedPort?b.push({PrivatePort:ye.targetPort,Type:ye.protocol,IP:ye.url,PublicPort:ye.publishedPort}):ye.publishedPort&&ne.push({PrivatePort:ye.targetPort,Type:ye.protocol,IP:ye.url,PublicPort:ye.publishedPort})}),(0,t.jsx)(Z.Z,{publicPort:b,privatePort:ne,domain:[],serverIp:ce})}},{title:R.FD.format("listStatus"),render:function(K,j,Re){return(0,t.jsx)($e.Z,{status:"container.".concat(j.state),tip:"".concat(j.state," ").concat(j.status)},j.name)}},{title:R.FD.format("listManage"),fixed:"right",render:function(K,j,Re){return(0,t.jsxs)(o.Z,{split:(0,t.jsx)(F.Z,{type:"vertical"}),children:[j.name==""&&(0,t.jsx)(ee.Z,{placement:"left",content:(0,t.jsx)(Y.Z,{ghost:!0,title:R.FD.format("listManageShowContainerEnv"),children:(0,t.jsx)(o.Z,{direction:"vertical",children:j.environment&&Object.keys(j.environment).map(function(b){if(j.environment&&j.environment[b])return(0,t.jsx)(n.Z.Text,{code:!0,children:"".concat(b,"=").concat(j.environment[b])},b)})})}),children:(0,t.jsx)(ue.Z,{})}),j.name!=""&&(0,t.jsx)(n.Z.Link,{onClick:function(){var ne;(ne=$.current)===null||ne===void 0||ne.show(j.name)},children:(0,t.jsx)(he.Z,{})},"container"),j.state=="running"&&(0,t.jsx)(n.Z.Link,{onClick:function(){var ne;(ne=V.current)===null||ne===void 0||ne.show({url:"/console/container/".concat((0,te.fi)(j.name,"/")),title:j.name})},children:(0,t.jsx)(ke.Z,{})},"console"),j.state=="running"&&(0,t.jsx)(n.Z.Link,{onClick:function(){var ne;(ne=L.current)===null||ne===void 0||ne.showContainer((0,te.fi)(j.name,"/"))},children:(0,t.jsx)(se.Z,{})},"file")]})}}],dataSource:a,rowSelection:v&&a?{selectedRowKeys:je,onChange:function(K,j,Re){Ce(K),T.selectServiceFinish&&T.selectServiceFinish(K)}}:void 0})]})}var Ke=e(91058),be=e(42013),Ae=e(2831),ot=e(36588),Xe=(0,c.forwardRef)(function(T,Be){var ge,ce=(0,He.useAccess)(),E=new R.Uo("components.appCompose"),V=(0,c.useState)(0),$=A()(V,2),s=$[0],S=$[1],v=(0,c.useState)(!1),w=A()(v,2),O=w[0],L=w[1],p=(0,c.useState)(!1),M=A()(p,2),je=M[0],Ce=M[1],Ne=(0,c.useState)(),we=A()(Ne,2),a=we[0],Ge=we[1],ie=(0,c.useRef)(),K=(0,c.useRef)(),j=(0,c.useRef)(),Re=(0,c.useRef)(),b=(0,c.useRef)(),ne=(0,c.useRef)(),ye=(0,c.useRef)(),ct=(0,c.useRef)(),ft=(0,c.useState)(),mt=A()(ft,2),Je=mt[0],lt=mt[1];(0,c.useImperativeHandle)(Be,function(){return{show:function(r){return D()(m()().mark(function d(){return m()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:lt(r),L(!0);case 2:case"end":return P.stop()}},d)}))()}}}),(0,c.useEffect)(function(){Je&&(Ce(!0),(0,k.Pn)({id:Je}).finally(D()(m()().mark(function f(){return m()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:Ce(!1);case 1:case"end":return d.stop()}},f)}))).then(function(f){var r=f.data.detail;r.setting.status&&r.setting.status.includes("running")&&(r.isRunning=!0),r.setting.status&&r.setting.status.includes("paused")&&(r.isPaused=!0),r.setting.status&&r.setting.status.includes("exited")&&(r.isExited=!0),r.setting.status&&r.setting.status.includes("waiting")?r.isDeploy=!1:r.isDeploy=!0,r.setting.status&&r.setting.status.includes("created")&&(r.isCreated=!0,r.isDeploy=!1);var d=f.data.project;if(d&&d.services&&(r.imageList=h()(new Set(Object.keys(d.services).map(function(re){var C;return(C=d.services[re].image)!==null&&C!==void 0?C:""}).filter(function(re){return re!=""})))),r.containerList=f.data.containerList,r.containerList||(r.containerList=[]),d!=null&&d.services&&Object.entries(d==null?void 0:d.services).forEach(function(re){var C,Ee=A()(re,2),Oe=Ee[0],Se=Ee[1],ze=r.containerList.find(function(N){return N.service==Oe});ze||r.containerList.push({project:(C=d.name)!==null&&C!==void 0?C:"",name:"",service:Oe,publishers:Se.ports?Se.ports.map(function(N){var Me;return{url:"",targetPort:N.target,publishedPort:parseInt(N.published),protocol:(Me=N.protocol)!==null&&Me!==void 0?Me:""}}):[],state:"waiting",status:"",environment:Se.environment})}),r.containerList){var g;(g=j.current)===null||g===void 0||g.setFieldValue("deployServiceName",f.data.detail.setting.deployServiceName)}if(Ge(u()(u()({},f.data),{detail:r})),f.data.detail.setting.environment){var P;(P=j.current)===null||P===void 0||P.setFieldValue("environment",f.data.detail.setting.environment)}}))},[s,Je]);function vt(f){return st.apply(this,arguments)}function st(){return st=D()(m()().mark(function f(r){var d,g,P;return m()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if((d=b.current)===null||d===void 0||d.show(),!r.pullImageUseDPanel){C.next=5;break}return C.next=4,(g=ie.current)===null||g===void 0?void 0:g.start();case 4:(P=ie.current)===null||P===void 0||P.finish();case 5:return C.prev=5,C.next=8,(0,k.Oh)(r);case 8:T.onDeployFinish&&T.onDeployFinish(),C.next=14;break;case 11:C.prev=11,C.t0=C.catch(5),T.onDeployFailed&&T.onDeployFailed();case 14:S(s+1);case 15:case"end":return C.stop()}},f,null,[[5,11]])})),st.apply(this,arguments)}return(0,t.jsxs)(G.Z,{drawerProps:{width:X.R_,destroyOnHidden:!0},requestLoading:je,title:a?E.format("drawerTitle",{name:(ge=a==null?void 0:a.detail.name)!==null&&ge!==void 0?ge:""}):E.format("createTitle"),open:O,onOpenChange:function(r){r||(lt(void 0),Ge(void 0),T.onClose&&T.onClose()),L(r)},submitter:!1,formRef:j,children:[a&&!(0,Qe.Z)(a.detail.imageList)&&(0,t.jsx)(et.Z,{ref:ie,image:a.detail.imageList}),(0,t.jsx)(W.Z,{ref:ye}),(0,t.jsxs)(Y.Z,{direction:"column",ghost:!0,gutter:[0,10],children:[a&&a.detail.setting.type=="dangling"&&(0,t.jsx)(l.Z,{type:"warning",showIcon:!0,description:(0,t.jsxs)("div",{children:[E.format("managerStatusDanglingAlert",{name:a.detail.name})," ",(0,t.jsx)("a",{href:"https://dpanel.cc/manual/compose-create-outpath",target:"_blank",children:R.FD.format("help")})]})}),a&&a.detail.setting.type!="dangling"&&(0,t.jsx)(Y.Z,{title:(0,t.jsx)(xe.Z,{}),subTitle:E.format("managerContainerTitle"),ghost:!0,children:(0,t.jsxs)(o.Z,{wrap:!0,split:(0,t.jsx)(F.Z,{type:"vertical"}),children:[(0,t.jsxs)(Ue.u,{access:"canSeeComposeListManage",space:{},children:[(0,t.jsx)(i.Z,{buttonProps:{icon:(0,t.jsx)(J.Z,{}),type:"primary"},confirmProps:{onOpenChange:function(r,d){var g;r&&(!((g=K.current)===null||g===void 0)&&g.resetFields)&&K.current.resetFields()},description:(0,t.jsxs)(o.Z,{style:{minWidth:300},direction:"vertical",wrap:!0,children:[(0,t.jsx)(n.Z.Text,{children:E.format("managerCreateTip")}),(0,t.jsx)(B.A,{name:"createForm",formRef:K,layout:"inline",submitter:!1,children:(0,t.jsxs)(qe.Z,{vertical:!0,children:[(0,t.jsx)(Fe.Z.Group,{name:"pullImageUse",layout:"vertical",fieldProps:{style:{display:"flex",flexDirection:"column",gap:8}},options:E.option("managerCreatePullImageUseOption",["useCommand","useDPanel"])}),(0,t.jsx)(x.Z,{initialValue:!0,name:"createPath",valuePropName:"checked",children:(0,t.jsx)(Le.Z,{children:E.format("managerCreateCreatePath")})}),(0,t.jsx)(x.Z,{initialValue:!0,name:"removeOrphans",valuePropName:"checked",children:(0,t.jsx)(Le.Z,{defaultChecked:!0,children:E.format("managerCreateRemoveOrphans")})})]})})]})},action:D()(m()().mark(function f(){var r,d,g,P,re,C,Ee,Oe,Se,ze,N,Me,_e;return m()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.prev=0,oe.next=3,(Se=j.current)===null||Se===void 0?void 0:Se.validateFields();case 3:oe.next=8;break;case 5:return oe.prev=5,oe.t0=oe.catch(0),oe.abrupt("return");case 8:return ze=a?a.detail.id||a.detail.name:(r=j.current)===null||r===void 0?void 0:r.getFieldValue("name"),N={id:ze,createPath:(d=(g=K.current)===null||g===void 0?void 0:g.getFieldValue("createPath"))!==null&&d!==void 0?d:!1,removeOrphans:(P=(re=K.current)===null||re===void 0?void 0:re.getFieldValue("removeOrphans"))!==null&&P!==void 0?P:!0},((C=K.current)===null||C===void 0?void 0:C.getFieldValue("pullImageUse"))=="useDPanel"&&(N.pullImage=!1,N.pullImageUseDPanel=!0),((Ee=K.current)===null||Ee===void 0?void 0:Ee.getFieldValue("pullImageUse"))=="useCommand"&&(N.pullImage=!0),Me=((Oe=j.current)===null||Oe===void 0?void 0:Oe.getFieldsFormatValue)&&j.current.getFieldsFormatValue(!0),N.environment=Me.environment,N.deployServiceName=Me.deployServiceName,oe.next=17,(0,k.im)({id:(a.detail.id||a.detail.name).toString(),name:a.detail.name,environment:Me.environment,type:a.detail.setting.type});case 17:if(!(a!=null&&a.detail.isDeploy&&N.deployServiceName)){oe.next=23;break}if(_e=[],a.detail.containerList.forEach(function(ut){var dt;ut.status!=""&&!((dt=N.deployServiceName)!==null&&dt!==void 0&&dt.includes(ut.service))&&_e.push(ut.service)}),(0,Qe.Z)(_e)){oe.next=23;break}return oe.next=23,(0,k.j6)({id:ze,deleteImage:!1,deleteData:!1,deleteVolume:!1,deletePath:!1,destroyServiceName:_e});case 23:return oe.abrupt("return",vt(N));case 24:case"end":return oe.stop()}},f,null,[[0,5]])})),children:E.format(a!=null&&a.detail.isDeploy?"managerUpgradeButton":"managerCreateButton")},"deploy"),(a.detail.isDeploy||a.detail.isCreated)&&(0,t.jsx)(i.Z,{action:function(){var r;return(r=b.current)===null||r===void 0||r.show(),(0,k.j6)({id:a.detail.id||a.detail.name,deleteImage:!1,deleteData:!1,deleteVolume:!1,deletePath:!1})},onSuccess:function(){S(s+1)},buttonProps:{type:"primary",danger:!0,icon:(0,t.jsx)(ae.Z,{})},confirmProps:{showCommonConfirm:!0},children:E.format("managerDeleteContainerButton")},"destroyContainer")]}),a.detail.isDeploy&&(0,t.jsxs)(Ue.u,{access:"canSeeComposeList",space:{direction:"horizontal"},children:[(0,t.jsx)(i.Z,{buttonProps:{icon:(0,t.jsx)(J.Z,{})},action:D()(m()().mark(function f(){var r;return m()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return(r=b.current)===null||r===void 0||r.show(),g.abrupt("return",(0,k.GG)({id:a.detail.id||a.detail.name,op:"restart"}));case 2:case"end":return g.stop()}},f)})),onSuccess:function(){S(s+1)},children:E.format("managerRestartButton")},"restart"),(0,t.jsx)(i.Z,{action:function(){var r;return(r=b.current)===null||r===void 0||r.show(),(0,k.GG)({id:a.detail.id||a.detail.name,op:"stop"})},buttonProps:{icon:(0,t.jsx)(pe.Z,{}),disabled:a.detail.isExited},onSuccess:function(){S(s+1)},children:E.format("managerStopButton")},"stop"),a.detail.isPaused&&(0,t.jsx)(i.Z,{action:function(){var r;return(r=b.current)===null||r===void 0||r.show(),(0,k.GG)({id:a.detail.id||a.detail.name,op:"unpause"})},onSuccess:function(){S(s+1)},buttonProps:{icon:(0,t.jsx)(_.Z,{})},children:E.format("managerUnpauseButton")},"unpause"),!a.detail.isPaused&&(0,t.jsx)(i.Z,{action:function(){var r;return(r=b.current)===null||r===void 0||r.show(),(0,k.GG)({id:a.detail.id||a.detail.name,op:"pause"})},onSuccess:function(){S(s+1)},buttonProps:{icon:(0,t.jsx)(I.Z,{}),disabled:!a.detail.isRunning},children:E.format("managerPauseButton")},"pause"),a.detail.isDeploy&&(0,t.jsx)(at.Z,{composeItem:a.detail,showTriggerButton:!0},"composeLog")]}),a.detail.id>0&&ce.canSeeComposeListManageDelete&&(0,t.jsx)(i.Z,{buttonProps:{type:"dashed",danger:!0,icon:(0,t.jsx)(ae.Z,{})},confirmProps:{onOpenChange:function(r,d){var g;!((g=Re.current)===null||g===void 0)&&g.resetFields&&Re.current.resetFields()},description:(0,t.jsxs)(o.Z,{style:{width:280},direction:"vertical",children:[(0,t.jsx)(n.Z.Text,{children:E.format("managerDeleteTaskTip")}),(0,t.jsxs)(B.A,{formRef:Re,layout:"inline",submitter:!1,children:[(0,t.jsx)(x.Z,{initialValue:!0,name:"deleteImage",valuePropName:"checked",children:(0,t.jsx)(Le.Z,{children:E.format("managerDeleteTaskDeleteImage")})}),(0,t.jsx)(x.Z,{addonAfter:(0,t.jsx)(Ye.Z,{title:E.format("managerDeleteTaskDeleteVolumeTip"),children:(0,t.jsx)(De.Z,{})}),initialValue:!0,name:"deleteVolume",valuePropName:"checked",children:(0,t.jsx)(Le.Z,{children:E.format("managerDeleteTaskDeleteVolume")})}),(0,t.jsx)(x.Z,{initialValue:!0,name:"deletePath",valuePropName:"checked",children:(0,t.jsx)(Le.Z,{children:E.format("managerDeleteTaskDeletePath")})})]})]})},action:D()(m()().mark(function f(){var r,d,g,P,re,C,Ee,Oe,Se;return m()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return(r=b.current)===null||r===void 0||r.show(),N.next=3,(0,k.j6)({id:(d=(g=a.detail)===null||g===void 0?void 0:g.id)!==null&&d!==void 0?d:a.detail.name,deleteImage:(P=(re=Re.current)===null||re===void 0?void 0:re.getFieldValue("deleteImage"))!==null&&P!==void 0?P:!1,deleteVolume:(C=(Ee=Re.current)===null||Ee===void 0?void 0:Ee.getFieldValue("deleteVolume"))!==null&&C!==void 0?C:!1,deletePath:(Oe=(Se=Re.current)===null||Se===void 0?void 0:Se.getFieldValue("deletePath"))!==null&&Oe!==void 0?Oe:!1,deleteData:!0});case 3:L(!1),Ge(void 0),T.onClose&&T.onClose();case 6:case"end":return N.stop()}},f)})),children:R.FD.format("listManageDelete")},"deleteTask"),T.showBackListButton&&(0,t.jsx)(He.Link,{to:"/compose/list",children:(0,t.jsx)(Ve.ZP,{children:R.Ob.format("compose.list")})})]})},"operator"),a&&a.detail.setting.type!="dangling"&&(0,t.jsx)(Y.Z,{title:(0,t.jsx)(xe.Z,{}),subTitle:E.format("managerTitle"),ghost:!0,children:(0,t.jsxs)(o.Z,{children:[ce.canSeeComposeListManage&&(0,t.jsx)(be.Z,{id:Je,onFinish:function(){var f=D()(m()().mark(function r(d){return m()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:lt(d),S(s+1);case 2:case"end":return P.stop()}},r)}));return function(r){return f.apply(this,arguments)}}()}),ce.canSeeComposeListManageCreate&&(a==null?void 0:a.detail.setting.type)!="outPath"&&(0,t.jsx)(Ve.ZP,{icon:(0,t.jsx)(se.Z,{}),onClick:D()(m()().mark(function f(){var r,d,g,P;return m()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,(0,Ae.aF)();case 2:d=C.sent,d.data&&(r=d.data.dpanel.containerInfo)!==null&&r!==void 0&&r.Name&&((g=ye.current)===null||g===void 0||g.showContainer((P=d.data.dpanel.containerInfo)===null||P===void 0?void 0:P.Name,"/dpanel/compose/".concat(a==null?void 0:a.detail.name)));case 4:case"end":return C.stop()}},f)})),children:R.FD.format("listManageFilePath")}),(0,t.jsx)(F.Z,{type:"vertical"}),function(f){var r="";if((f=a.project)!==null&&f!==void 0&&f.networks){var d=Object.entries(a.project.networks).find(function(g){var P=A()(g,2),re=P[0],C=P[1];return C.external});d&&(r=d[1].name)}return r!=""&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ot.Z,{ref:ct},"network-create"),(0,t.jsx)(Ve.ZP,{onClick:function(){var P;(P=ct.current)===null||P===void 0||P.show(r)},icon:(0,t.jsx)(q.Z,{}),children:E.format("joinContainerInNetwork")},"network")]})}(),(0,t.jsx)(Ve.ZP,{icon:(0,t.jsx)(J.Z,{}),onClick:function(){var r;(r=b.current)===null||r===void 0||r.close(),S(s+1)},children:R.FD.format("listManageRefresh")})]})},"manager"),a&&a.detail.setting.type!="dangling"&&(0,t.jsx)(rt,{ref:b,id:(a==null?void 0:a.detail.id)||(a==null?void 0:a.detail.name)}),a&&a.containerList&&(0,t.jsx)(Ze,{containerList:a==null?void 0:a.containerList,enableSelectService:(a==null?void 0:a.detail.setting.type)!="dangling",selectServiceFinish:function(r){var d;(d=j.current)===null||d===void 0||d.setFieldValue("deployServiceName",r)}}),(0,t.jsx)(x.Z,{name:"deployServiceName",hidden:!0}),a&&a.detail.setting.type!="dangling"&&(0,t.jsx)(Ke.Z,{drawerProps:{ghost:!0,title:(0,t.jsx)(z.Z,{}),subTitle:"".concat(E.format("createEnvTitle"))},showDisableName:!0,showDeleteButton:!1,name:"environment",ref:ne})]})]})}),de=Xe},75544:function(We,me,e){var fe=e(5574),u=e.n(fe),ve=e(12323),h=e(78267),U=e.n(h),m=e(75458),le=e.n(m),D=e(67294),Q=e(4244),A=e.n(Q),c=e(24078),X=e(85893),R,Y,B,Fe=(0,D.forwardRef)(function(x,k){var G,xe=(0,D.useState)(!0),J=u()(xe,2),ae=J[0],pe=J[1];return(0,D.useEffect)(function(){return R=new Q.Terminal(ve.X),Y=new m.SearchAddon,B=new h.FitAddon,window.addEventListener("resize",function(){x.showInModal||B.fit()}),x.style&&x.style.fontSize&&(R.options.fontSize=x.style.fontSize),R.loadAddon(B),R.loadAddon(Y),R.open(document.getElementById(x.id?x.id:"terminal-container")),x.showInModal||B.fit(),function(){R.reset(),pe(!0)}},[]),(0,D.useImperativeHandle)(k,function(){return{write:function(I){ae&&(B.fit(),pe(!1)),R.write(I)},clear:function(){R.clear()},getTerminal:function(){return R},findNext:function(I){Y.findNext(I)},findPrev:function(I){Y.findPrevious(I)},fit:function(){B.fit()},onData:function(I){return R.onData(I)}}}),(0,X.jsx)("div",{id:x.id?x.id:"terminal-container",style:{width:x.width?x.width:"100%",height:x.height?x.height:"500px",marginTop:(G=x.style)===null||G===void 0?void 0:G.marginTop}})});me.Z=Fe},90098:function(We,me,e){e.d(me,{GG:function(){return Fe},MG:function(){return ae},Oh:function(){return X},Pn:function(){return A},Yz:function(){return k},iE:function(){return De},im:function(){return m},j6:function(){return Y},pm:function(){return D},tw:function(){return q},vf:function(){return xe},zN:function(){return _}});var fe=e(15009),u=e.n(fe),ve=e(99289),h=e.n(ve),U=e(63713);function m(l){return le.apply(this,arguments)}function le(){return le=h()(u()().mark(function l(o){return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,U.request)("/dpanel/api/app/compose/create",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),le.apply(this,arguments)}function D(l){return Q.apply(this,arguments)}function Q(){return Q=h()(u()().mark(function l(o){return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,U.request)("/dpanel/api/app/compose/get-list",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),Q.apply(this,arguments)}function A(l){return c.apply(this,arguments)}function c(){return c=h()(u()().mark(function l(o){return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,U.request)("/dpanel/api/app/compose/get-task",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),c.apply(this,arguments)}function X(l){return R.apply(this,arguments)}function R(){return R=h()(u()().mark(function l(o){return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,U.request)("/dpanel/api/app/compose/container-deploy",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),R.apply(this,arguments)}function Y(l){return B.apply(this,arguments)}function B(){return B=h()(u()().mark(function l(o){return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,U.request)("/dpanel/api/app/compose/container-destroy",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),B.apply(this,arguments)}function Fe(l){return x.apply(this,arguments)}function x(){return x=h()(u()().mark(function l(o){return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,U.request)("/dpanel/api/app/compose/container-ctrl",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),x.apply(this,arguments)}function k(l){return G.apply(this,arguments)}function G(){return G=h()(u()().mark(function l(o){return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,U.request)("/dpanel/api/app/compose/container-log",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),G.apply(this,arguments)}function xe(l){return J.apply(this,arguments)}function J(){return J=h()(u()().mark(function l(o){return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.download=!0,o.id=String(o.id),n.next=4,(0,U.request)("/dpanel/api/app/compose/container-log",{method:"POST",data:o,responseType:"blob"});case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},l)})),J.apply(this,arguments)}function ae(l){return pe.apply(this,arguments)}function pe(){return pe=h()(u()().mark(function l(o){return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,U.request)("/dpanel/api/app/compose/get-from-uri",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),pe.apply(this,arguments)}function _(l){return I.apply(this,arguments)}function I(){return I=h()(u()().mark(function l(o){return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,U.request)("/dpanel/api/app/compose/get-from-git",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),I.apply(this,arguments)}function De(l){return se.apply(this,arguments)}function se(){return se=h()(u()().mark(function l(o){return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,U.request)("/dpanel/api/common/store/deploy",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),se.apply(this,arguments)}function q(l){return z.apply(this,arguments)}function z(){return z=h()(u()().mark(function l(o){return u()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,U.request)("/dpanel/api/app/compose/download",{method:"POST",data:o,responseType:"blob"}));case 2:case"end":return n.stop()}},l)})),z.apply(this,arguments)}}}]);
