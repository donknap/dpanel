"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3840],{99861:function(Ye,Ae,e){var ye=e(64599),D=e.n(ye),je=e(15009),f=e.n(je),ae=e(99289),ge=e.n(ae),U=e(5574),N=e.n(U),q=e(42119),A=e(83062),h=e(67294),F=e(92754),C=e(184),ie=e(38345),S=e(3616),ee=e(36146),ce=e(68297),j=e(85893),_=(0,h.forwardRef)(function(t,o){(0,h.useImperativeHandle)(o,function(){return{start:function(){var P;return Z(!0),le((P=t.image)!==null&&P!==void 0?P:[])},finish:function(){Z(!1)},pull:function(P){return Z(!0),le(P)}}});var $=(0,h.useState)(0),me=N()($,2),Ie=me[0],l=me[1],W=(0,h.useRef)(),V=(0,h.useState)(!1),Ce=N()(V,2),ne=Ce[0],Z=Ce[1],i=(0,h.useState)([]),G=N()(i,2),v=G[0],x=G[1],n=new ee.Uo("components.appCompose");function le(T){return Ze.apply(this,arguments)}function Ze(){return Ze=ge()(f()().mark(function T(P){var Re,y,O,p,g,ue,Le;return f()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:y=0,x(P),O=D()(P),z.prev=3,O.s();case 5:if((p=O.n()).done){z.next=15;break}return ue=p.value,l(y),(g=W.current)===null||g===void 0||g.setStart(ue),z.next=11,(0,ce.Ze)({tag:ue,type:"pull"});case 11:Le=z.sent,y++;case 13:z.next=5;break;case 15:z.next=20;break;case 17:z.prev=17,z.t0=z.catch(3),O.e(z.t0);case 20:return z.prev=20,O.f(),z.finish(20);case 23:(Re=W.current)===null||Re===void 0||Re.setFinish(),l(y),t.finishAutoHide&&Z(!1);case 26:case"end":return z.stop()}},T,null,[[3,17,20,23]])})),Ze.apply(this,arguments)}return(0,j.jsxs)(C.a,{trigger:t.trigger,open:ne,submitter:!1,title:n.format("pullImageTitle"),onOpenChange:function(){var T=ge()(f()().mark(function P(Re){var y,O;return f()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:Z(Re),Re&&t.trigger&&le((y=t.image)!==null&&y!==void 0?y:[]),Re||(O=W.current)===null||O===void 0||O.close();case 3:case"end":return g.stop()}},P)}));return function(P){return T.apply(this,arguments)}}(),drawerProps:{forceRender:!0,width:S.R_},children:[(0,j.jsx)(ie.Z,{children:v&&(0,j.jsx)(q.Z,{current:Ie,items:v.map(function(T,P){return{title:(0,j.jsx)(A.Z,{title:T,children:T.length>15?T.substring(0,6)+" ... "+T.substring(T.length-6):T}),key:P}})})}),(0,j.jsx)(ie.Z,{children:(0,j.jsx)(F.Z,{ref:W})})]})});Ae.Z=_},44771:function(Ye,Ae,e){e.d(Ae,{Z:function(){return N}});var ye=e(36146),D=e(38345),je=e(64317),f=e(97462),ae=e(31199),ge=e(86250),U=e(85893);function N(q){var A=new ye.Uo("components.appForm");return(0,U.jsx)(D.Z,{ghost:q.ghost,children:(0,U.jsxs)(ge.Z,{gap:50,children:[(0,U.jsx)(je.Z,{tooltip:"".concat(A.format("createParamsDemo",{params:"--restart always"})),label:q.showLabel&&A.format("createAdvRestart"),name:["restart","name"],width:"md",initialValue:q.defaultValue?q.defaultValue:"on-failure",options:A.option("createAdvRestartOption",["no","on-failure","unless-stopped","always"])}),(0,U.jsx)(f.Z,{name:["restart"],children:function(F){var C=F.restart;return C&&C.name=="on-failure"&&(0,U.jsx)(ae.Z,{width:"md",label:A.format("createAdvRestartMax"),name:["restart","maxAttempt"],initialValue:5})}})]})})}},84941:function(Ye,Ae,e){e.d(Ae,{Z:function(){return ur}});var ye=e(97857),D=e.n(ye),je=e(15009),f=e.n(je),ae=e(19632),ge=e.n(ae),U=e(99289),N=e.n(U),q=e(5574),A=e.n(q),h=e(38345),F=e(62370),C=e(5966),ie=e(24739),S=e(97462),ee=e(83622),ce=e(30291),j=e(92398),_=e(40056),t=e(67294),o=e(42963),$=e(51042),me=e(63434),Ie=e(17186),l=e(71230),W=e(15746),V=e(42075),Ce=e(25593),ne=e(85265),Z=e(92067),i=e(5251),G=e(3616),v=e(36146),x=e(89240),n=e(85893),le=(0,t.forwardRef)(function(R,be){var u=(0,t.useState)(!1),re=A()(u,2),b=re[0],J=re[1],oe=(0,t.useRef)(),d=new v.Uo("components.appForm"),B=function(E){return(0,n.jsxs)(h.Z,{bordered:!0,extra:E.action,style:{marginBottom:10},children:[(0,n.jsx)(h.Z,{title:d.format("createLinkItemTitle"),ghost:!0,children:(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(W.Z,{span:6,children:(0,n.jsx)(C.Z,{label:d.format("createLinkItemName"),name:"name",width:"md",readonly:!0})}),(0,n.jsxs)(W.Z,{span:14,children:[(0,n.jsx)(C.Z,{label:d.format("createLinkItemAlise"),name:"alise",width:"md",readonly:!0,tooltip:d.format("createLinkItemAliseTip"),hidden:!0}),(0,n.jsx)(F.Z,{label:d.format("createLinkItemAlise"),tooltip:d.format("createLinkItemAliseTip"),children:(0,n.jsx)(V.Z,{direction:"vertical",children:[E.name,E.record.alise].map(function(M){return(0,n.jsx)(Ce.Z.Text,{copyable:!0,children:M})})})})]}),(0,n.jsx)(W.Z,{span:4,children:(0,n.jsx)(me.Z,{label:d.format("createLinkItemVolume"),name:"volume"})})]})}),(0,n.jsx)(h.Z,{ghost:!0,title:d.format("createLinkItemEnv"),children:(0,n.jsx)(V.Z,{direction:"vertical",children:E.record.env&&(0,i.oZ)(E.record.env).map(function(M,De){return(0,n.jsx)(Ce.Z.Text,{copyable:{icon:(0,n.jsx)($.Z,{}),onCopy:function(){R.onAddEnv(M.name,M.value)},tooltips:[d.format("createLinkAddToEnv"),"success"]},code:!0,ellipsis:{tooltip:"".concat(M.name,"=").concat(M.value)},children:"".concat(M.name,"=").concat(M.value)},De)})},"linkEnv")})]})},Q=function(E){var M,De,k=!1,w=(M=(De=oe.current)===null||De===void 0?void 0:De.getList())!==null&&M!==void 0?M:[];if(w.map(function(fe){fe.name==E.name&&(k=!0)}),!k){var I;(I=oe.current)===null||I===void 0||I.add(E)}};return(0,t.useImperativeHandle)(be,function(){return{setDefaultLink:function(E){E&&E.map(function(M){M.name!=""&&Q(M)})}}}),(0,n.jsxs)(h.Z,{title:d.format("createLinkTitle"),headerBordered:!0,tooltip:"".concat(d.format("createParamsDemo",{params:"--link list"})),ghost:!0,children:[(0,n.jsx)(Ie.u,{name:"links",actionRef:oe,creatorButtonProps:{creatorButtonText:d.format("createLinkAddButton")},actionGuard:{beforeAddRow:function(E,M){return J(!0),!1}},copyIconProps:!1,min:0,itemRender:function(E,M){return(0,n.jsx)(B,{action:E.action,name:M.record.name,record:M.record})}}),(0,n.jsx)(ne.Z,{title:d.format("createLinkSelectContainer"),width:G.R_,footer:!1,open:b,onClose:function(){return J(!1)},children:(0,n.jsx)(Z.Z,{onSelect:function(E){Q({name:(0,i.fi)(E.Name,"/"),volume:!1,env:E.Config.Env,alise:(0,x.zY)(E.Name)}),J(!1)}})})]})}),Ze=le,T=e(91058),P=e(10523),Re=e(24796),y=e(52688),O=e(24963);function p(){var R=(0,t.useContext)(O.Z),be=R.message,u=new v.Uo("components.appForm");return(0,n.jsx)(h.Z,{ghost:!0,children:(0,n.jsxs)(ie.UW,{children:[(0,n.jsx)(y.Z,{fieldProps:{onChange:function(b){b&&be.warning(u.format("createAdvRunCommandPrivilegedNotice"))}},name:"privileged",tooltip:"".concat(u.format("createParamsDemo",{params:"--privileged"})),label:u.format("createAdvRunCommandPrivileged"),initialValue:!1}),(0,n.jsx)(y.Z,{name:"autoRemove",tooltip:"".concat(u.format("createParamsDemo",{params:"--rm"})),label:u.format("createAdvRunCommandAutoRemove"),initialValue:!1}),(0,n.jsx)(y.Z,{fieldProps:{onChange:function(b){b&&be.warning(u.format("createAdvRunCommandHostPidNotice"))}},tooltip:"".concat(u.format("createParamsDemo",{params:"--pid host"})),name:"hostPid",label:u.format("createAdvRunCommandHostPid"),initialValue:!1}),(0,n.jsx)(y.Z,{name:"init",tooltip:"".concat(u.format("createParamsDemo",{params:"--init"})),label:u.format("createAdvRunCommandInit"),initialValue:!1})]})})}var g=e(62597),ue=e(82346),Le=e(20743),Je=(0,t.forwardRef)(function(R,be){var u=(0,t.useRef)(),re=(0,t.useRef)(),b=new v.Uo("components.appForm");(0,t.useImperativeHandle)(be,function(){return{}});var J=function(d){var B,Q,X=!1,E=(B=(Q=u.current)===null||Q===void 0?void 0:Q.getList())!==null&&B!==void 0?B:[];if(E.map(function(De){De.name==d.name&&(X=!0)}),!X){var M;(M=u.current)===null||M===void 0||M.add(d)}};return(0,n.jsxs)(h.Z,{ghost:!0,title:b.format("createNetworkTitle"),tooltip:"".concat(b.format("createParamsDemo",{params:"--network list"})),headerBordered:!0,extra:(0,n.jsx)(V.Z,{children:R.showUseBridgeNetwork&&(0,n.jsx)(y.Z,{name:"useBridgeNetwork",initialValue:!0,fieldProps:{checkedChildren:b.format("createNetworkUseBridgeNetwork"),unCheckedChildren:b.format("createNetworkUseBridgeNetwork")}},"useBridgeNetwork")}),children:[(0,n.jsx)(Ie.u,{name:"network",actionRef:u,creatorButtonProps:{creatorButtonText:b.format("createNetworkAddButton")},actionGuard:{beforeAddRow:function(d,B){var Q;return(Q=re.current)===null||Q===void 0||Q.show(),!1}},copyIconProps:!1,min:0,itemRender:function(d,B){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(ie.UW,{children:[(0,n.jsx)(C.Z,{label:b.format("createNetworkName"),name:"name",width:"md",disabled:!0,fieldProps:{value:B.record.name}}),(0,n.jsx)(C.Z,{label:b.format("createNetworkAlise"),name:"alise",tooltip:b.format("createNetworkAliseTip"),placeholder:b.format("createNetworkAliseEmpty"),disabled:B.record.name=="bridge"}),(0,n.jsx)(C.Z,{label:"IpV4",name:"ipV4",width:"md",disabled:B.record.name=="bridge",fieldProps:{addonAfter:B.record.subnet}}),B.record.subnetV6&&(0,n.jsx)(C.Z,{label:"IpV6",name:"ipV6",width:"md",disabled:B.record.name=="bridge",fieldProps:{addonAfter:B.record.subnetV6}}),(0,n.jsx)(F.Z,{label:" ",children:d.action})]})})}}),(0,n.jsx)(Le.Z,{ref:re,onSelect:function(d){J({name:d.Name,alise:[""],subnet:d.IPAM.Config&&d.IPAM.Config[0].Subnet,subnetV6:d.IPAM.Config&&d.IPAM.Config[1]&&d.IPAM.Config[1].Subnet})}})]})}),z=Je,He=e(82034),ke=e(52255),In=e(59252),Ue=e(73813),Tn=function(be){var u=new v.Uo("components.appForm");return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(h.Z,{title:u.format("createSelfNetworkTitle"),subTitle:u.format("createSelfNetworkTitleTip"),tooltip:"".concat(u.format("createParamsDemo",{params:"--network string --ip string --ip6 string"})),ghost:!0,children:[(0,n.jsxs)(ie.UW,{children:[(0,n.jsx)(C.Z,{label:u.format("createSelfNetworkIp",{ip:"ipv4"}),name:["ipV4","address"],width:"md",tooltip:u.format("createSelfNetworkIpTip",{ip:"ipv4",example:"192.168.1.5"}),placeholder:"192.168.1.5"}),(0,n.jsx)(S.Z,{name:["ipV4"],children:function(b){var J=b.ipV4;return(0,n.jsx)(C.Z,{label:u.format("createSelfNetworkIpSubnet",{ip:"ipv4"}),name:["ipV4","subnet"],width:"md",required:J&&J.address,tooltip:u.format("createSelfNetworkIpSubnetTip",{ip:"ipv4",example:"192.168.1.0/24"}),placeholder:"192.168.1.0/24",rules:[{required:J&&J.address}]})}}),(0,n.jsx)(C.Z,{label:u.format("createSelfNetworkIpGateway",{ip:"ipv4"}),name:["ipV4","gateway"],width:"md",tooltip:u.format("createSelfNetworkIpGatewayTip",{ip:"ipv4",example:"192.168.1.1"}),placeholder:"192.168.1.1"}),(0,n.jsx)(y.Z,{label:u.format("createSelfNetworkIpV6Enable"),name:"enableIpV6Address"})]}),(0,n.jsx)(S.Z,{name:["enableIpV6Address"],children:function(b){var J=b.enableIpV6Address;if(J)return(0,n.jsxs)(ie.UW,{children:[(0,n.jsx)(C.Z,{label:u.format("createSelfNetworkIp",{ip:"ipv6"}),name:["ipV6","address"],width:"md",tooltip:u.format("createSelfNetworkIpTip",{ip:"ipv6",example:"2001:db8::5"}),placeholder:"2001:db8::5"}),(0,n.jsx)(S.Z,{name:["ipV6"],children:function(d){var B=d.ipV6;return(0,n.jsx)(C.Z,{label:u.format("createSelfNetworkIpSubnet",{ip:"ipv6"}),name:["ipV6","subnet"],width:"md",required:B&&B.address,tooltip:u.format("createSelfNetworkIpSubnetTip",{ip:"ipv6",example:"2001:db8::/48"}),placeholder:"2001:db8::/48",rules:[{required:B&&B.address}]})}}),(0,n.jsx)(C.Z,{label:u.format("createSelfNetworkIpGateway",{ip:"ipv6"}),name:["ipV6","gateway"],width:"md",tooltip:u.format("createSelfNetworkIpGatewayTip",{ip:"ipv6",example:"2001:db8::1"}),placeholder:"2001:db8::1"})]})}})]})})},wn=Tn,Ln=e(90672);function Un(){var R=new v.Uo("components.appForm");return(0,n.jsx)(h.Z,{ghost:!0,title:R.format("createHookTitle"),subTitle:"",children:(0,n.jsx)(Ln.Z,{label:R.format("createHookContainerCreate"),name:["hook","containerCreate"],placeholder:R.format("createHookContainerCreateTip")})})}var Bn=e(93529),Nn=e(66309),Sn=e(96074),Wn=e(83062),kn=e(64789),Kn=e(85060),Rn=e(78451),Hn=e(99861),Fn=e(80821),$n=e(1699),Vn=e(80271),Gn=e(47248),zn=e(55681);function Yn(R){var be=(0,t.useState)(!1),u=A()(be,2),re=u[0],b=u[1],J=(0,t.useContext)(o.Z),oe=J.createFormRef,d=J.volumeListRef,B=J.createEnvRef,Q=J.domainRef,X=J.containerInfo,E=new v.Uo("components.appForm");function M(k){return De.apply(this,arguments)}function De(){return De=N()(f()().mark(function k(w){var I,fe,Te,ve,pe,Be,Fe,K,we,de,L,a;return f()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if((I=oe.current)===null||I===void 0||I.setFieldValue("imageName",w),!(X&&X.Id!="")){te.next=3;break}return te.abrupt("return",!0);case 3:return te.next=5,(0,Ue.YU)({md5:w});case 5:return K=te.sent,we=(fe=oe.current)===null||fe===void 0?void 0:fe.getFieldsValue(),(Te=oe.current)===null||Te===void 0||Te.resetFields(),(ve=oe.current)===null||ve===void 0||ve.setFieldsValue({siteName:we.siteName,siteTitle:we.siteTitle}),K.data.info.Config.Env&&K.data.info.Config.Env.map(function(_e){var he,Pe=_e.split("=");(he=B.current)===null||he===void 0||he.addEnvNameValue(Pe[0],Pe.slice(1).join("="))}),(pe=oe.current)===null||pe===void 0||pe.setFieldValue("workDir",K.data.info.Config.WorkingDir),(Be=Q.current)===null||Be===void 0||Be.setExposePort(K.data.info.Config.ExposedPorts),K.data.info.Config.Volumes?(L=[],Object.keys(K.data.info.Config.Volumes).map(function(_e,he){L.push(_e)}),(de=d.current)===null||de===void 0||de.setDefaultDestPath(L)):(a=d.current)===null||a===void 0||a.setDefaultDestPath([]),(Fe=oe.current)===null||Fe===void 0||Fe.setFieldsValue({workDir:{value:"",useDefault:!0,default:K.data.info.Config.WorkingDir},user:{value:"",useDefault:!0,default:K.data.info.Config.User},command:{value:"",useDefault:!0,default:K.data.info.Config.Cmd&&K.data.info.Config.Cmd.join(" ")},entrypoint:{value:"",useDefault:!0,default:K.data.info.Config.Entrypoint&&K.data.info.Config.Entrypoint.join(" ")}}),te.abrupt("return",!0);case 15:case"end":return te.stop()}},k)})),De.apply(this,arguments)}return(0,t.useEffect)(function(){R.fromImageId&&M(R.fromImageId)},[R.fromImageId]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ne.Z,{destroyOnHidden:!0,open:re,width:G.R_,title:E.format("dockerImageTitle"),footer:!1,onClose:function(){b(!1)},children:(0,n.jsx)(zn.Co,{columns:[{title:"Id",dataIndex:"Id",search:!1,width:120,render:function(w,I,fe,Te,ve){return(0,n.jsx)(Rn.Z,{content:I.Id.slice(7,19)})}},{title:v.FD.format("listImageName"),dataIndex:"tag",render:function(w,I,fe,Te){return(0,n.jsx)(Rn.Z,{content:I.RepoTags[0]})}},{title:"Digest",width:120,render:function(w,I,fe,Te,ve){var pe=I.RepoDigests&&I.RepoDigests[0];return pe?pe.substring(pe.indexOf("@")+8).substring(0,12):(0,n.jsx)(Nn.Z,{color:"warning",children:new v.Uo("components.appDetail").format("checkImageUpgradeOption.-3")})}},{title:v.FD.format("listCreatedAt"),dataIndex:"Created",search:!1,width:180,render:function(w,I,fe,Te){return(0,n.jsx)("div",{children:(0,i.ZM)(I.Created*1e3)},I.Id)},sorter:function(w,I){return w.Created-I.Created}},{title:v.FD.format("listManage"),valueType:"option",key:"option",width:50,render:function(w,I,fe,Te){return(0,n.jsx)(V.Z,{split:(0,n.jsx)(Sn.Z,{type:"vertical"}),children:(0,n.jsx)(Fn.Z,{buttonProps:{icon:(0,n.jsx)(kn.Z,{}),type:"link"},tips:v.FD.format("listManageUse"),action:function(){return M(I.RepoTags[0])},onSuccess:function(){b(!1)}},"addImage")})}}],request:function(){var k=N()(f()().mark(function w(I,fe,Te){var ve,pe,Be;return f()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return X&&X.Id!="",K.next=3,(0,Ue.KG)({tag:I.tag});case 3:return ve=K.sent,pe=0,Be=[],ve.data.list&&(Be=ve.data.list.flatMap(function(we){return we.RepoTags.map(function(de){var L,a=(L=we.RepoDigests)===null||L===void 0?void 0:L.find(function(Me){var te=Me.split("@"),_e=A()(te,2),he=_e[0],Pe=_e[1];return de.includes(he)});return{Key:pe++,Id:we.Id,Created:we.Created,RepoTags:[de],RepoDigests:[a]}})})),K.abrupt("return",{data:Be,success:!0,total:Be.length});case 8:case"end":return K.stop()}},w)}));return function(w,I,fe){return k.apply(this,arguments)}}(),rowKey:"Key"})},"imageTableList"),(0,n.jsxs)(V.Z.Compact,{children:[(0,n.jsx)(C.Z,{width:"lg",label:E.format("dockerImageImageName"),name:"imageName",disabled:!0,placeholder:E.format("dockerImageImageNameEmpty"),rules:[{required:!0}],required:!0}),(0,n.jsx)(F.Z,{label:" ",children:(0,n.jsx)(ee.ZP,{type:"primary",onClick:function(){return b(!0)},children:E.format("dockerImageTitle")},"showBtn")}),(0,n.jsx)(S.Z,{name:["imageName"],children:function(w){var I=w.imageName;if(I)return(0,n.jsx)(F.Z,{label:" ",children:(0,n.jsx)(Hn.Z,{finishAutoHide:!0,image:I?[I]:[],trigger:(0,n.jsx)(Wn.Z,{title:E.format("dockerImageUpgradeImageTip"),children:(0,n.jsx)(ee.ZP,{icon:(0,n.jsx)(Kn.Z,{}),children:E.format("dockerImageUpgradeImageButton")})})})})}}),(0,n.jsx)(F.Z,{label:" ",children:(0,n.jsx)(Gn.Z,{onFinish:function(w){M(w)}},"remote")}),(0,n.jsx)(F.Z,{label:" ",children:(0,n.jsx)(S.Z,{name:["imageName"],children:function(w){var I=w.imageName;if(I)return(0,n.jsx)($n.u,{access:"canSeeEnableCe",showProTips:!0,children:function(Te){var ve=Te.canSeeEnableCe;return(0,n.jsx)(Vn.Z,{imageId:I,trigger:(0,n.jsx)(ee.ZP,{disabled:ve,children:E.format("dockerImageFileExplorer")})})}})}})})]})]})}var Jn=e(44349);function Qn(){var R=new v.Uo("components.appForm");return(0,n.jsx)(h.Z,{ghost:!0,title:R.format("createDevice"),headerBordered:!0,tooltip:"".concat(R.format("createParamsDemo",{params:"--device list"})),children:(0,n.jsx)(Jn.Z,{name:"device",showAddButtonLabel:"".concat(v.FD.format("listManageAdd")).concat(R.format("createDevice")),hideCopyButton:!0,showAddButton:!0,gap:10,items:[{label:R.format("createDeviceHost"),name:"host",width:"md",placeholder:"/dev/tty0"},{label:R.format("createDeviceDest"),name:"dest",width:"md",placeholder:"/dev/tty0"}]})})}var Dn=e(64317);function Xn(){var R=new v.Uo("components.appForm");return(0,n.jsxs)(h.Z,{ghost:!0,children:[(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(W.Z,{span:4,children:(0,n.jsx)(y.Z,{label:R.format("createGpus"),name:["gpus","enable"]})}),(0,n.jsx)(W.Z,{span:20,children:(0,n.jsx)(S.Z,{name:["gpus"],children:function(u){var re=u.gpus;if(re&&re.enable)return(0,n.jsx)(Dn.Z,{tooltip:"".concat(R.format("createParamsDemo",{params:"--gpus 'device=0'"})),mode:"tags",label:R.format("createGpusDevice"),name:["gpus","device"],placeholder:R.format("createGpusDeviceEmpty")})}})})]}),(0,n.jsx)(S.Z,{name:["gpus"],children:function(u){var re=u.gpus;if(re&&re.enable)return(0,n.jsx)(Dn.Z,{tooltip:"".concat(R.format("createParamsDemo",{params:"--gpus 'capabilities=compute,utility'"})),label:R.format("createGpusCap"),name:["gpus","capabilities"],mode:"multiple",fieldProps:{allowClear:!0},options:R.option("createGpusCapOption",["compute","compat32","graphics","utility","video","display"])})}})]})}var qn=e(55730),er=e(27323),nr=e(44771),rr=e(33879),tr=e(96486),tn=e.n(tr),ar=e(73396),Mn=e(14946),or=e(13822),sr=e(64412),ir=e(27166),lr=(0,t.forwardRef)(function(R,be){var u=(0,t.useContext)(O.Z),re=u.notice,b=(0,ue.useAccess)(),J=(0,t.useState)("basic"),oe=A()(J,2),d=oe[0],B=oe[1],Q=new v.Uo("app"),X=new v.Uo("components.appForm"),E=(0,t.useRef)(),M=(0,t.useRef)(),De=(0,t.useRef)(),k=(0,t.useRef)(),w=(0,t.useRef)(),I=(0,t.useState)(!1),fe=A()(I,2),Te=fe[0],ve=fe[1],pe=(0,t.useRef)(),Be=(0,t.useState)(),Fe=A()(Be,2),K=Fe[0],we=Fe[1];return(0,t.useImperativeHandle)(be,function(){return{show:function(L){return N()(f()().mark(function a(){var Me,te,_e,he,Pe,$e,Ne,Qe,ln,Ee,xe,un,dn,cn,mn,fn,vn,pn,Xe,_n,hn,gn,Cn,qe,Ve,r,Oe,xn,en,On,An,nn,yn,Pn;return f()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(we(void 0),(Me=E.current)===null||Me===void 0||Me.resetFields(),L){H.next=4;break}return H.abrupt("return");case 4:return ve(!0),(te=pe.current)===null||te===void 0||te.loading(),H.prev=6,H.next=9,(0,g.iE)({id:L});case 9:if(Ve=H.sent,r=(_e=Ve.data.containerInfo)===null||_e===void 0?void 0:_e.Info,we(r),Oe={info:{Id:r==null?void 0:r.Image,Config:{WorkingDir:"",User:"",Entrypoint:[],Cmd:[]}}},!r){H.next=23;break}return H.prev=14,H.next=17,(0,Ue.YU)({md5:r.Image});case 17:xn=H.sent,Oe=xn.data,H.next=23;break;case 21:H.prev=21,H.t0=H.catch(14);case 23:return en=[],H.next=26,(0,Mn.jR)();case 26:return On=H.sent,en=On.data.list,An=function(s){if(!s)return{};var c=s[Ve.data.siteName];if(!c)return{};var m=en&&en.find(function(Y){return Y.Id==c.NetworkID});return{ipV4:{address:c.IPAddress,gateway:c.Gateway,subnet:m&&m.IPAM.Config&&m.IPAM.Config[0]&&m.IPAM.Config[0].Subnet},ipV6:{address:c.GlobalIPv6Address,gateway:c.IPv6Gateway,subnet:m&&m.IPAM.Config&&m.IPAM.Config[1]&&m.IPAM.Config[1].Subnet},enableIpV6Address:m&&m.IPAM.Config&&m.IPAM.Config[1],bindIpV6:!!(m&&m.IPAM.Config&&m.IPAM.Config[1])}}(r==null?void 0:r.NetworkSettings.Networks),nn=[],H.next=32,function(){var s=N()(f()().mark(function c(m,Y){var Se;return f()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(!(!(Y!=null&&Y.NetworkSettings)||!(Y!=null&&Y.NetworkSettings.Networks)||!(Y!=null&&Y.NetworkSettings.Networks[m]))){se.next=2;break}return se.abrupt("return",[]);case 2:return se.next=4,(0,Mn.IS)({name:m});case 4:if(Se=se.sent,se.t0=Se.data.info.Containers,!se.t0){se.next=10;break}return se.next=9,Promise.all(Object.entries(Se.data.info.Containers).filter(function(Ke){var an=A()(Ke,2),Zn=an[0],on=an[1];return on.Name!=m}).map(function(){var Ke=N()(f()().mark(function an(Zn){var on,dr,sn,rn,bn,Ge,En;return f()().wrap(function(ze){for(;;)switch(ze.prev=ze.next){case 0:if(on=A()(Zn,2),dr=on[0],sn=on[1],sn.Name==m){ze.next=9;break}return ze.next=4,(0,or.jV)({md5:sn.Name});case 4:return bn=ze.sent,Ge=bn.data.info,En=(rn=Y.HostConfig)===null||rn===void 0||(rn=rn.VolumesFrom)===null||rn===void 0?void 0:rn.includes(sn.Name),En&&Ge.Mounts&&nn.push.apply(nn,ge()(Ge.Mounts.map(function(cr){var jn;return(jn=cr.Destination)!==null&&jn!==void 0?jn:""}))),ze.abrupt("return",{name:sn.Name,alise:Ge&&(0,x.zY)(Ge.Name),env:Ge&&Ge.Config.Env,volume:En});case 9:case"end":return ze.stop()}},an)}));return function(an){return Ke.apply(this,arguments)}}()));case 9:se.t0=se.sent;case 10:return se.abrupt("return",se.t0);case 11:case"end":return se.stop()}},c)}));return function(c,m){return s.apply(this,arguments)}}()(Ve.data.siteName,r);case 32:yn=H.sent,(he=E.current)===null||he===void 0||he.setFieldsValue(D()({id:r==null?void 0:r.Id,siteTitle:Ve.data.siteTitle,siteName:Ve.data.siteName,hook:Ve.data.env.hook,imageName:r==null?void 0:r.Config.Image,hostname:r==null?void 0:r.Config.Hostname,privileged:r==null||(Pe=r.HostConfig)===null||Pe===void 0?void 0:Pe.Privileged,useHostNetwork:(r==null||($e=r.HostConfig)===null||$e===void 0?void 0:$e.NetworkMode)=="host",publishAllPorts:r==null||(Ne=r.HostConfig)===null||Ne===void 0?void 0:Ne.PublishAllPorts,groupAdd:r==null||(Qe=r.HostConfig)===null||Qe===void 0?void 0:Qe.GroupAdd,workDir:{value:r==null?void 0:r.Config.WorkingDir,useDefault:Oe.info.Config.WorkingDir==(r==null?void 0:r.Config.WorkingDir),default:Oe&&Oe.info.Config&&Oe.info.Config.WorkingDir},user:{value:r==null?void 0:r.Config.User,useDefault:Oe.info.Config.User==(r==null?void 0:r.Config.User),default:Oe.info.Config.User},command:{value:(0,i.PK)(r==null?void 0:r.Config.Cmd),useDefault:tn().isEmpty(r==null?void 0:r.Config.Cmd)||tn().isEqual(Oe.info.Config.Cmd,r==null?void 0:r.Config.Cmd),default:((ln=Oe.info.Config)===null||ln===void 0?void 0:ln.Cmd)&&(0,i.PK)(Oe.info.Config.Cmd)},entrypoint:{value:(0,i.PK)(r==null?void 0:r.Config.Entrypoint),useDefault:tn().isEmpty(r==null?void 0:r.Config.Entrypoint)||tn().isEqual(Oe.info.Config.Entrypoint,r==null?void 0:r.Config.Entrypoint),default:((Ee=Oe.info)===null||Ee===void 0||(Ee=Ee.Config)===null||Ee===void 0?void 0:Ee.Entrypoint)&&(0,i.PK)(Oe.info.Config.Entrypoint)},shmsize:(0,x.Rk)(r==null||(xe=r.HostConfig)===null||xe===void 0?void 0:xe.ShmSize),cpus:(0,x.PD)(r==null||(un=r.HostConfig)===null||un===void 0?void 0:un.NanoCpus),memory:(0,x.pM)(r==null||(dn=r.HostConfig)===null||dn===void 0?void 0:dn.Memory),environment:(r==null?void 0:r.Config.Env)&&(0,i.oZ)(r.Config.Env,"="),label:function(s){return s&&Object.entries(s).map(function(c){var m=A()(c,2),Y=m[0],Se=m[1];return{name:Y,value:Se}})}(r==null?void 0:r.Config.Labels),volumes:function(s){return s==null?void 0:s.filter(function(c){var m;return!nn||nn.length==0||!nn.includes((m=c.Destination)!==null&&m!==void 0?m:"")}).map(function(c){return{host:c.Type=="bind"?c.Source:c.Name,dest:c.Destination,type:c.Type,permission:c.RW?"write":"readonly"}})}(r==null?void 0:r.Mounts),ports:(0,x.yi)(r),links:yn,network:function(s){return s&&Object.entries(s).map(function(c){var m=A()(c,2),Y=m[0],Se=m[1],We=en&&en.find(function(Ke){return Ke.Name==Y}),se="";return Se.Aliases&&Se.Aliases.forEach(function(Ke){if(!Ke.includes("pod.dpanel.local")){se=Ke;return}}),{name:Y,alise:se,ipV4:Se.IPAddress,subnet:"".concat(We&&We.IPAM.Config&&We!==null&&We!==void 0&&We.IPAM.Config[0]?We==null?void 0:We.IPAM.Config[0].Subnet:"-")}})}(r==null?void 0:r.NetworkSettings.Networks),restart:function(s){return s?{name:s==null?void 0:s.Name,maxAttempt:s==null?void 0:s.MaximumRetryCount}:{name:"no"}}(r==null||(cn=r.HostConfig)===null||cn===void 0?void 0:cn.RestartPolicy),extraHosts:(0,i.oZ)(r==null||(mn=r.HostConfig)===null||mn===void 0?void 0:mn.ExtraHosts,":"),autoRemove:r==null||(fn=r.HostConfig)===null||fn===void 0?void 0:fn.AutoRemove,init:r==null||(vn=r.HostConfig)===null||vn===void 0?void 0:vn.Init,log:function(s,c){return{driver:(c=s==null?void 0:s.Type)!==null&&c!==void 0?c:"json-file",maxFile:(s==null?void 0:s.Config)&&s.Config["max-file"],maxSize:(s==null?void 0:s.Config)&&s.Config["max-size"]}}(r==null||(pn=r.HostConfig)===null||pn===void 0?void 0:pn.LogConfig),dns:r==null||(Xe=r.HostConfig)===null||Xe===void 0||(Xe=Xe.Dns)===null||Xe===void 0?void 0:Xe.join(`
`),gpus:function(s){var c=s==null?void 0:s.find(function(Y){return Y.Driver=="nvidia"});if(!c)return{enable:!1};var m=c.Capabilities&&c.Capabilities[0];return{device:c.DeviceIDs,capabilities:m&&m.includes("gpu")?[]:m,enable:!0}}(r==null||(_n=r.HostConfig)===null||_n===void 0?void 0:_n.DeviceRequests),device:function(s){return s==null?void 0:s.map(function(c){return{host:c.PathOnHost,dest:c.PathInContainer}})}(r==null||(hn=r.HostConfig)===null||hn===void 0?void 0:hn.Devices),hostPid:(r==null||(gn=r.HostConfig)===null||gn===void 0?void 0:gn.PidMode)=="host",capAdd:r==null||(Cn=r.HostConfig)===null||Cn===void 0?void 0:Cn.CapAdd,healthcheck:function(s,c,m){if(!s)return{};var Y=s!=null&&(c=s.Test)!==null&&c!==void 0&&c.includes("CMD-SHELL")?"CMD-SHELL":"CMD";return{interval:(s==null?void 0:s.Interval)&&s.Interval/g.nL.Second,timeout:(s==null?void 0:s.Timeout)&&s.Timeout/g.nL.Second,retries:s==null?void 0:s.Retries,cmd:s!=null&&s.Test?s==null||(m=s.Test)===null||m===void 0?void 0:m.slice(1).join(" "):"",shellType:Y}}(r==null?void 0:r.Config.Healthcheck),useBridgeNetwork:function(s){return!!(s&&s.bridge)}(r==null?void 0:r.NetworkSettings.Networks),enableBindHost:r==null||(qe=r.HostConfig)===null||qe===void 0||(qe=qe.ExtraHosts)===null||qe===void 0?void 0:qe.some(function(s){return s.includes(":host-gateway")})},An));case 34:return H.prev=34,(Pn=pe.current)===null||Pn===void 0||Pn.finish(),H.finish(34);case 37:case"end":return H.stop()}},a,null,[[6,,34,37],[14,21]])}))()}}}),(0,n.jsx)(o.Z.Provider,{value:{createFormRef:E,volumeListRef:M,domainRef:De,createEnvRef:w,createLinkRef:k,containerInfo:K},children:(0,n.jsx)(ir.Z,{title:v.Ob.format("container.create"),trigger:R.showTrigger?(0,n.jsx)(ee.ZP,{type:"primary",disabled:!b.canSeeContainerListManageCreate,children:v.Ob.format("container.create")}):void 0,drawerProps:{width:G.R_,rootClassName:"createAppWapper"},ref:pe,formRef:E,onFinish:function(){var de=N()(f()().mark(function L(a){var Me,te,_e,he,Pe,$e,Ne,Qe;return f()().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if((Me=pe.current)===null||Me===void 0||Me.loading(),Ne={id:a.id,siteTitle:a.siteTitle,siteName:a.siteName,hostname:a.hostname,imageName:a.imageName,environment:a.environment,links:a.links,ports:a.ports,volumes:a.volumes,network:a.network&&a.network.map(function(xe){return tn().isArray(xe.alise)||(xe.alise=[xe.alise]),xe}),privileged:(te=a.privileged)!==null&&te!==void 0?te:!1,autoRemove:(_e=a.autoRemove)!==null&&_e!==void 0?_e:!1,init:(he=a.init)!==null&&he!==void 0?he:!1,restartPolicy:a.restart,cpus:a.cpus,memory:a.memory,shmsize:(Pe=a.shmsize)!==null&&Pe!==void 0?Pe:"0",workDir:a.workDir&&!a.workDir.useDefault?a.workDir.value:"",user:a.user&&!a.user.useDefault?a.user.value:"",groupAdd:a.groupAdd,command:a.command&&!a.command.useDefault?a.command.value:"",entrypoint:a.entrypoint&&!a.entrypoint.useDefault?a.entrypoint.value:"",useHostNetwork:a.useHostNetwork,bindIpV6:a.bindIpV6,log:a.log,dns:a.dns,label:a.label,publishAllPorts:a.publishAllPorts,extraHosts:a.extraHosts,ipV4:a.ipV4,ipV6:a.ipV6,device:a.device,gpus:a.gpus,hook:a.hook,hostPid:a.hostPid,capAdd:a.capAdd,useBridgeNetwork:($e=a.useBridgeNetwork)!==null&&$e!==void 0?$e:!0},!(!a.useBridgeNetwork&&!a.useHostNetwork&&(!a.network||a.network.length==0))){Ee.next=5;break}return re.error(Q.format("createMessageNoBridgeNetworkMustHasUseNetwork")),Ee.abrupt("return",!1);case 5:return a.useBridgeNetwork&&Ne.network&&!Ne.network.find(function(xe){return xe.name=="bridge"})&&Ne.network.push({name:"bridge",alise:[],ipV4:""}),a.healthcheck&&a.healthcheck.cmd&&a.healthcheck.cmd!=""&&(Ne.healthcheck=a.healthcheck),Ee.next=9,(0,g.$G)(Ne).finally(function(){var xe;(xe=pe.current)===null||xe===void 0||xe.finish()});case 9:return Qe=Ee.sent,R.onFinish&&R.onFinish(Qe.data.containerId),Ee.abrupt("return",!0);case 12:case"end":return Ee.stop()}},L)}));return function(L){return de.apply(this,arguments)}}(),open:Te,onOpenChange:function(L){if(ve(L),!L){var a;(a=E.current)===null||a===void 0||a.resetFields(),we(void 0)}},children:(0,n.jsxs)(h.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,n.jsxs)(h.Z,{ghost:!0,title:Q.format("createTitle"),children:[(0,n.jsx)(F.Z,{hidden:!0,name:"id"}),(0,n.jsx)(C.Z,{name:"siteTitle",label:Q.format("createSiteTitle"),placeholder:Q.format("createSiteTitleEmpty")}),(0,n.jsxs)(ie.UW,{children:[(0,n.jsx)(C.Z,{width:"md",name:"siteName",label:Q.format("createSiteName"),required:!0,rules:[{required:!0}],tooltip:"".concat(X.format("createParamsDemo",{params:"--name string"})),placeholder:Q.format("createSiteNameEmpty")}),(0,n.jsx)(C.Z,{label:"Hostname",name:"hostname",width:"md",tooltip:"".concat(X.format("createParamsDemo",{params:"--hostname string"}))})]}),(0,n.jsx)(Yn,{fromImageId:""})]}),(0,n.jsx)(ce.Z,{offsetTop:10,target:function(){return document.querySelector(".createAppWapper .ant-drawer-body")},children:(0,n.jsx)(h.Z,{style:{margin:-20},children:(0,n.jsx)(j.Z,{activeKey:d,onChange:function(L){B(L)},items:X.option("createTabOption",["basic","link","run-command","resource","cap"]).map(function(de){return{label:de.label,key:de.value}})})})}),(0,n.jsxs)(ke.Z,{show:d=="basic",children:[(0,n.jsx)(He.Z,{ref:De,showBindHost:!0,showBindIpV6:!0,showBindAll:!0}),(0,n.jsx)(T.Z,{showAddButton:!0,showImportButton:!0,showCodeMode:!0,ref:w,drawerProps:{title:X.format("createEnvTitle"),tooltip:"".concat(X.format("createParamsDemo",{params:"-e, --env list"})),ghost:!0}}),(0,n.jsx)(P.Z,{showDefault:!0,ref:M}),(0,n.jsx)(S.Z,{name:["siteName","useHostNetwork"],children:function(L){var a=L.siteName,Me=L.useHostNetwork;if(!Me)return(0,n.jsx)(wn,{})}}),(0,n.jsx)(sr.Z,{}),(0,n.jsx)(Re.Z,{})]}),(0,n.jsxs)(ke.Z,{show:d=="link",children:[(0,n.jsx)(S.Z,{name:["siteName","useHostNetwork"],children:function(L){var a=L.siteName,Me=L.useHostNetwork;return Me?(0,n.jsx)(h.Z,{children:(0,n.jsx)(_.Z,{showIcon:!0,description:Q.format("createNetworkDesc")})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Ze,{onAddEnv:function(_e,he){var Pe;(Pe=w.current)===null||Pe===void 0||Pe.addEnvNameValue(_e,he)},ref:k}),(0,n.jsx)(z,{showUseBridgeNetwork:!0,siteName:a}),(0,n.jsx)(In.Z,{})]})}}),(0,n.jsx)(Qn,{})]}),(0,n.jsxs)(ke.Z,{show:d=="run-command",children:[(0,n.jsxs)(ie.UW,{children:[(0,n.jsx)(nr.Z,{ghost:!0,defaultValue:"always",showLabel:!0}),(0,n.jsx)(p,{})]}),(0,n.jsx)(rr.Z,{showCommand:!0,showEntrypoint:!0,showWorkDir:!0,showUser:!0}),(0,n.jsx)(er.Z,{}),(0,n.jsx)(Un,{})]}),(0,n.jsxs)(ke.Z,{show:d=="resource",children:[(0,n.jsx)(ar.Z,{}),(0,n.jsx)(qn.Z,{showShmsize:!0}),(0,n.jsx)(Xn,{})]}),(0,n.jsx)(ke.Z,{show:d=="cap",children:(0,n.jsx)(Bn.Z,{})})]})})})}),ur=lr},47248:function(Ye,Ae,e){var ye=e(15009),D=e.n(ye),je=e(99289),f=e.n(je),ae=e(5574),ge=e.n(ae),U=e(38345),N=e(97269),q=e(5966),A=e(62370),h=e(64317),F=e(83622),C=e(85265),ie=e(25593),S=e(42075),ee=e(67294),ce=e(92754),j=e(82346),_=e(2205),t=e(3616),o=e(36146),$=e(23430),me=e(68297),Ie=e(66991),l=e(85893),W=(0,ee.forwardRef)(function(V,Ce){var ne=(0,ee.useState)(!1),Z=ge()(ne,2),i=Z[0],G=Z[1],v=(0,ee.useRef)(),x=(0,ee.useRef)(),n=(0,ee.useState)(!1),le=ge()(n,2),Ze=le[0],T=le[1],P=new o.Uo("components.imagePull");(0,ee.useImperativeHandle)(Ce,function(){return{upgradeImage:function(p){var g;return G(!0),(g=v.current)===null||g===void 0||g.setFieldValue("imageUrl",p),(0,me.Ze)({tag:p,type:"pull"})},setImageName:function(p){var g;G(!0),(g=v.current)===null||g===void 0||g.setFieldValue("imageUrl",p)},show:Re}});function Re(){return y.apply(this,arguments)}function y(){return y=f()(D()().mark(function O(){var p,g;return D()().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:G(!0),(p=v.current)===null||p===void 0||p.resetFields(),(g=x.current)===null||g===void 0||g.setStart("");case 3:case"end":return Le.stop()}},O)})),y.apply(this,arguments)}return[(0,l.jsx)(F.ZP,{type:V.buttonType?V.buttonType:"default",icon:(0,l.jsx)($.Z,{}),onClick:Re,children:P.format("triggerButton")},"remoteBtn"),(0,l.jsxs)(C.Z,{forceRender:!0,open:i,title:P.format("drawerTitle"),width:t.R_,onClose:function(){var p;G(!1),(p=x.current)===null||p===void 0||p.close()},footer:!1,children:[(0,l.jsx)(U.Z,{children:(0,l.jsx)(ie.Z.Text,{children:(0,l.jsxs)("ul",{style:{lineHeight:"30px"},children:[(0,l.jsxs)("li",{children:[P.format("tip.1")," ",(0,l.jsx)("a",{href:"https://hub.docker.com/",target:"_blank",children:o.FD.format("help")})]}),(0,l.jsxs)("li",{children:[P.format("tip.2")," ",(0,l.jsx)("a",{href:"https://hub.docker.com/search?q=",target:"_blank",children:o.FD.format("help")})]}),(0,l.jsxs)("li",{children:[P.format("tip.3")," "]}),(0,l.jsxs)("li",{children:[P.format("tip.4")," ",(0,l.jsx)(j.Link,{to:"/image/registry",children:o.Ob.format("image.registry.create")})]}),(0,l.jsxs)("li",{children:[P.format("tip.5")," ",(0,l.jsx)(j.Link,{to:"/image/registry",children:o.Ob.format("image.registry")})]})]})})}),(0,l.jsx)(U.Z,{title:P.format("triggerButton"),headerBordered:!0,children:(0,l.jsxs)(N.A,{formRef:v,submitter:!1,isKeyPressSubmit:!0,onFinish:function(){var O=f()(D()().mark(function p(g){var ue,Le,Je,z,He,ke;return D()().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return He=(ue=g.imageUrl)!==null&&ue!==void 0?ue:"",g.registryUrl&&(He="".concat(g.registryUrl,"/").concat(He)),T(!0),(Le=x.current)===null||Le===void 0||Le.setStart(He),Ue.next=6,(0,me.Ze)({tag:(0,Ie.Z)(He," "),type:"pull",platform:(Je=g.platform)!==null&&Je!==void 0?Je:""}).finally(function(){T(!1)});case 6:return ke=Ue.sent,(z=x.current)===null||z===void 0||z.setFinish(),G(!1),V.onFinish&&V.onFinish(ke.data.tag),Ue.abrupt("return",!0);case 11:case"end":return Ue.stop()}},p)}));return function(p){return O.apply(this,arguments)}}(),children:[(0,l.jsx)(q.Z,{name:"registryUrl",hidden:!0}),(0,l.jsxs)(S.Z.Compact,{children:[(0,l.jsx)(A.Z,{shouldUpdate:!0,children:function(p){return(0,l.jsx)(_.Z,{width:"150px",onChange:function(ue){p.setFieldValue("registryUrl",ue?ue.serverAddress:"")}})}}),(0,l.jsx)(q.Z,{disabled:Ze,width:270,name:"imageUrl",placeholder:P.format("imageUrlEmpty"),required:!0,rules:[{required:!0}]}),(0,l.jsx)(h.Z,{name:"platform",style:{width:100},placeholder:P.format("imagePlatformEmpty"),options:me.ii.map(function(O){return{label:O.name,value:O.name}})}),(0,l.jsx)(F.ZP,{loading:Ze,onClick:f()(D()().mark(function O(){var p;return D()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:(p=v.current)===null||p===void 0||p.submit();case 1:case"end":return ue.stop()}},O)})),children:P.format("triggerButton")}),(0,l.jsx)(F.ZP,{danger:!0,onClick:function(){var p;(p=x.current)===null||p===void 0||p.close()},children:o.FD.format("listManageKill")})]}),(0,l.jsx)(A.Z,{label:P.format("progressTitle"),children:(0,l.jsx)(ce.Z,{ref:x})})]})})]},"remoteDrawer")]});Ae.Z=W},20743:function(Ye,Ae,e){var ye=e(15009),D=e.n(ye),je=e(99289),f=e.n(je),ae=e(5574),ge=e.n(ae),U=e(67294),N=e(14946),q=e(64789),A=e(9773),h=e(83622),F=e(85265),C=e(42075),ie=e(66309),S=e(16970),ee=e(3616),ce=e(36146),j=e(67255),_=e(85893),t=(0,U.forwardRef)(function(o,$){(0,U.useImperativeHandle)($,function(){return{show:function(){W(!0)}}});var me=(0,U.useState)(!1),Ie=ge()(me,2),l=Ie[0],W=Ie[1],V=(0,U.useRef)(),Ce=new ce.Uo("components.network");return(0,_.jsxs)(_.Fragment,{children:[o.showTriggerButton&&(0,_.jsx)(h.ZP,{onClick:function(){W(!0)},children:Ce.format("selectTriggerButton")}),(0,_.jsx)(F.Z,{title:Ce.format("selectDrawerTitle"),width:ee.R_,footer:!1,open:l,onClose:function(){return W(!1)},extra:(0,_.jsx)(C.Z,{children:(0,_.jsx)(S.Z,{onFinish:function(){var Z,i;!((Z=V.current)===null||Z===void 0)&&Z.reloadAndRest&&((i=V.current)===null||i===void 0||i.reloadAndRest())}},"create")}),children:(0,_.jsx)(A.Z,{rowKey:"Name",actionRef:V,columns:[{title:ce.FD.format("listTitle"),dataIndex:"Name",render:function(Z,i,G,v,x){return i.Name=="none"||i.Name=="bridge"||i.Name=="host"?(0,_.jsxs)(_.Fragment,{children:[i.Name," ",(0,_.jsx)(ie.Z,{color:"blue",children:"System"})]}):(0,_.jsx)(_.Fragment,{children:Z})}},{title:ce.FD.format("listType"),ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"Driver",ellipsis:!0,width:100,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",search:!1,width:120,render:function(Z,i,G,v,x){return i.IPAM.Config&&i.IPAM.Config[0]&&(0,_.jsxs)(C.Z,{direction:"vertical",children:[i.IPAM.Config[0].Subnet,i.IPAM.Config[0].Gateway]})}},{title:"IPV6",search:!1,render:function(Z,i,G,v,x){return i.IPAM.Config&&i.IPAM.Config[1]&&(0,_.jsxs)(C.Z,{direction:"vertical",children:[i.IPAM.Config[1].Subnet,i.IPAM.Config[1].Gateway]})}},{title:ce.FD.format("listManage"),width:100,search:!1,render:function(Z,i,G,v,x){return[i.Name!="none"&&i.Name!="bridge"&&i.Name!="host"&&(0,_.jsx)(h.ZP,{type:"link",onClick:function(){o.onSelect(i),W(!1)},children:(0,_.jsx)(q.Z,{})},i.Id)]}}],request:function(){var ne=f()(D()().mark(function Z(i,G,v){var x;return D()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.next=2,(0,N.jR)({name:i.Name});case 2:return x=le.sent,le.abrupt("return",{data:x.data.list,success:!0,total:x.data.list.length});case 4:case"end":return le.stop()}},Z)}));return function(Z,i,G){return ne.apply(this,arguments)}}(),pagination:(0,j.Oh)()})})]})});Ae.Z=t},70146:function(Ye,Ae,e){e.d(Ae,{SR:function(){return F},VE:function(){return A},Zy:function(){return N},iD:function(){return ie},vG:function(){return ee},yB:function(){return ge}});var ye=e(15009),D=e.n(ye),je=e(99289),f=e.n(je),ae=e(82346);function ge(j){return U.apply(this,arguments)}function U(){return U=f()(D()().mark(function j(_){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,ae.request)("/dpanel/api/app/container-backup/create",{data:_,method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},j)})),U.apply(this,arguments)}function N(j){return q.apply(this,arguments)}function q(){return q=f()(D()().mark(function j(_){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,ae.request)("/dpanel/api/app/container-backup/get-list",{method:"POST",data:_}));case 1:case"end":return o.stop()}},j)})),q.apply(this,arguments)}function A(j){return h.apply(this,arguments)}function h(){return h=f()(D()().mark(function j(_){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,ae.request)("/dpanel/api/app/container-backup/delete",{method:"POST",data:_}));case 1:case"end":return o.stop()}},j)})),h.apply(this,arguments)}function F(j){return C.apply(this,arguments)}function C(){return C=f()(D()().mark(function j(_){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,ae.request)("/dpanel/api/app/container-backup/restore",{method:"POST",data:_}));case 1:case"end":return o.stop()}},j)})),C.apply(this,arguments)}function ie(j){return S.apply(this,arguments)}function S(){return S=f()(D()().mark(function j(_){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,ae.request)("/dpanel/api/app/container-backup/get-detail",{method:"POST",data:_}));case 1:case"end":return o.stop()}},j)})),S.apply(this,arguments)}function ee(j){return ce.apply(this,arguments)}function ce(){return ce=f()(D()().mark(function j(_){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,ae.request)("/dpanel/api/app/site/restore",{data:_,method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},j)})),ce.apply(this,arguments)}},89240:function(Ye,Ae,e){e.d(Ae,{HJ:function(){return S},PD:function(){return ce},Rk:function(){return ee},pM:function(){return j},yi:function(){return ie},zY:function(){return _}});var ye=e(64599),D=e.n(ye),je=e(5251),f=e(10531),ae=e(43836),ge=e(17179),U=e(74911),N=e(17637),q=e(58353),A=/^([1-9]|[1-5]?[0-9]{2,4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/m;function h(t){return A.test(t)?parseInt(t,10):0}function F(t){typeof t!="string"&&(t=t.toString());var o=f.Z(t,"-",2),$=ae.Z(o,h);return $.length==1&&$.push($[0]),$}function C(t,o){typeof t!="string"&&(t=t.toString());var $=null,me=t.indexOf(":");me>=0&&($=t.substring(0,me),t=t.substring(me+1)),o=typeof o=="number"?o:h(o);var Ie=F(t),l=Math.min(Ie[0],o),W=Math.max(Ie[1],o);return $?$+":"+l+"-"+W:l+"-"+W}function ie(t){if(!t||!t.HostConfig||!t.HostConfig.PortBindings)return[];var o=[],$=t.HostConfig.PortBindings,me=ge.Z($),Ie=U.Z(me,function(l){return f.Z(l,"/")[1]});return N.Z(Ie,function(l,W){var V={},Ce=D()(l),ne;try{for(Ce.s();!(ne=Ce.n()).done;){var Z=ne.value,i=D()($[Z]),G;try{for(i.s();!(G=i.n()).done;){var v=G.value;V[v.HostIp]=V[v.HostIp]||[],V[v.HostIp].push(Z)}}catch(x){i.e(x)}finally{i.f()}}}catch(x){Ce.e(x)}finally{Ce.f()}N.Z(V,function(x,n){var le=q.Z(x,function(P){return parseInt(f.Z(P,"/")[0],10)}),Ze=-1,T=-1;N.Z(le,function(P){var Re=f.Z(P,"/"),y=parseInt(Re[0],10),O=$[P][0];$[P].shift();var p=h(O.HostPort);if(p>0){if(o.length>0&&Ze===p-1&&T===y-1){o[o.length-1].host=C(o[o.length-1].host,p),o[o.length-1].dest=C(o[o.length-1].dest,y),Ze=p,T=y;return}Ze=p,T=y}else Ze=-1,T=-1;var g=O.HostPort.toString();n&&(g="".concat(n,":").concat(g)),o.push({host:g,dest:y.toString(),protocol:W})})})}),o}function S(t){return(0,je.fi)(t,"/")}function ee(t){return t?(0,je.FI)(t):"64M"}function ce(t){return t&&t>1e8?t/1e9:0}function j(t){return t?t/1024/1024:0}function _(t){return"".concat(S(t),".pod.dpanel.local")}}}]);
