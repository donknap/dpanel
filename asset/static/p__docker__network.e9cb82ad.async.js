"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[236],{37413:function(X,L,e){e.d(L,{Z:function(){return $}});var K=e(19632),_=e.n(K),B=e(36146),O=e(85577),U=e(58638),M=e(36693),N=e(35995),W=e(99611),j=e(38345),v=e(42075),C=e(66309),F=e(55241),s=e(85893);function $(i){var b,g=new B.Uo("components.containerPort"),o=[];i.publicPort&&(o=_()(i.publicPort)),i.privatePort&&(o=[].concat(_()(o),_()(i.privatePort)));var r=(b=i.serverIp)!==null&&b!==void 0?b:"localhost";if(r!=""&&r.indexOf("http")===-1&&r.indexOf(":")>-1&&(r="[".concat(r,"]")),r==""||r=="127.0.0.1"){var G=document.location.protocol+"//"+document.location.hostname;r=G}var Z=(0,s.jsxs)(j.Z,{direction:i.layout=="inline"?"row":"column",style:{width:i.layout!="inline"?600:"auto"},ghost:!0,children:[o.length>0&&(0,s.jsx)(j.Z,{title:(0,s.jsx)(O.Z,{}),subTitle:g.format("cardPortTitle"),ghost:i.ghost,bodyStyle:{maxHeight:300,overflow:"auto",margin:"10px 0"},children:o.map(function(u,t){var T;return r==""&&u.IP&&(r=u.IP),(0,s.jsx)(v.Z,{size:"large",wrap:!0,children:(0,s.jsx)(C.Z,{color:u.PublicPort?"blue":"yellow",icon:u.PublicPort?(0,s.jsx)(U.Z,{}):"",style:{marginBottom:10,marginRight:15},children:u.PublicPort?(0,s.jsx)("a",{href:"".concat(r.indexOf("http")===0?r:"http://"+r,":").concat(u.PublicPort),target:"_blank",children:"".concat(u.PublicPort?((T=u.IP)!==null&&T!==void 0?T:"0.0.0.0")+":"+u.PublicPort+" -> ":"").concat(u.PrivatePort,"/").concat(u.Type)},"link".concat(t)):"".concat(u.PrivatePort,"/").concat(u.Type)})},"space".concat(t))})}),i.domain&&i.domain.length>0&&(0,s.jsx)(j.Z,{title:(0,s.jsx)(M.Z,{}),subTitle:g.format("cardDomainTitle"),ghost:i.ghost,children:(0,s.jsx)(v.Z,{wrap:!0,style:{textAlign:"left"},children:i.domain&&i.domain.map(function(u,t){return(0,s.jsx)(C.Z,{color:"blue",icon:(0,s.jsx)(U.Z,{}),children:(0,s.jsx)("a",{href:u,target:"_blank",children:u})},"domain".concat(t))})})})]});return i.showInDetail?Z:(0,s.jsx)(F.Z,{placement:"right",content:Z,children:(0,s.jsxs)(v.Z,{direction:"vertical",children:[i.privatePort&&i.privatePort.length>0&&(0,s.jsxs)(C.Z,{color:"yellow",icon:(0,s.jsx)(N.Z,{}),children:[g.format("portPrivate"),": ",i.privatePort.length]}),i.publicPort&&i.publicPort.length>0&&(0,s.jsxs)(C.Z,{color:"blue",icon:(0,s.jsx)(W.Z,{}),children:[g.format("protPublic"),": ",i.publicPort.length]}),i.domain&&i.domain.length>0&&(0,s.jsx)(C.Z,{color:"geekblue",icon:(0,s.jsx)(M.Z,{}),children:i.domainTitle?i.domainTitle:"".concat(g.format("domain"),": ").concat(i.domain.length)})]})})}},36588:function(X,L,e){e.d(L,{Z:function(){return a}});var K=e(15009),_=e.n(K),B=e(99289),O=e.n(B),U=e(5574),M=e.n(U),N=e(80821),W=e(3616),j=e(14946),v=e(36146),C=e(82061),F=e(184),s=e(38345),$=e(60940),i=e(42075),b=e(25593),g=e(96074),o=e(26412),r=e(67294),G=e(92067),Z=e(83622),u=e(85265),t=e(85893);function T(m){var f=(0,r.useState)(!1),h=M()(f,2),P=h[0],l=h[1],y=new v.Uo("docker");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z.ZP,{type:"primary",onClick:function(){l(!0)},children:y.format("networkJoinContainer")}),(0,t.jsx)(u.Z,{open:P,onClose:function(){l(!1)},width:W.R_,title:y.format("networkJoinContainer"),children:(0,t.jsx)(G.Z,{onSelect:function(){var V=O()(_()().mark(function k(n){return _()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,j.HY)({name:m.detail.Name,containerName:n.Name,ipV4:""});case 2:l(!1),m.onFinish&&m.onFinish(m.detail);case 4:case"end":return p.stop()}},k)}));return function(k){return V.apply(this,arguments)}}()})})]})}var I=e(13822),d=(0,r.forwardRef)(function(m,f){(0,r.useImperativeHandle)(f,function(){return{show:z}});var h=(0,r.useState)(!1),P=M()(h,2),l=P[0],y=P[1],V=(0,r.useState)(),k=M()(V,2),n=k[0],q=k[1],p=(0,r.useState)(),ee=M()(p,2),te=ee[0],ne=ee[1],S=new v.Uo("components.network");function z(c){return Q.apply(this,arguments)}function Q(){return Q=O()(_()().mark(function c(x){var E,H,R,A,w,ae,J,Y;return _()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,(0,j.IS)({name:x});case 2:if(E=D.sent,!E.data.info.Containers){D.next=19;break}H=[],R=0,A=Object.entries(E.data.info.Containers);case 6:if(!(R<A.length)){D.next=16;break}return w=M()(A[R],2),ae=w[0],J=w[1],D.next=10,(0,I.jV)({md5:J.Name});case 10:Y=D.sent,Y.data.info.NetworkSettings.Networks[x]&&(J.Alias=Y.data.info.NetworkSettings.Networks[x].Aliases),H.push(J);case 13:R++,D.next=6;break;case 16:ne(H),D.next=20;break;case 19:ne([]);case 20:q(E.data.info),y(!0);case 22:case"end":return D.stop()}},c)})),Q.apply(this,arguments)}return(0,t.jsx)(F.a,{drawerProps:{width:W.R_},title:S.format("detailTitle"),open:l,onOpenChange:function(x){y(x)},submitter:!1,children:(0,t.jsxs)(s.Z,{ghost:!0,direction:"column",gutter:[10,0],children:[(0,t.jsx)(s.Z,{title:S.format("detailContainer"),ghost:!0,extra:n&&(0,t.jsx)(T,{detail:n,onFinish:function(x){z(x.Name)}}),children:(0,t.jsx)($.Z,{rowKey:"Name",columns:[{title:v.FD.format("listContainerName"),dataIndex:"Name"},{title:v.FD.format("listAlias"),dataIndex:"Alias",render:function(x,E,H){return(0,t.jsx)(i.Z,{direction:"vertical",children:E.Alias&&E.Alias.map(function(R,A){return(0,t.jsx)(b.Z.Text,{copyable:!0,keyboard:!0,children:R},A)})})}},{title:"IPV4",dataIndex:"IPv4Address"},{title:"IPV6",dataIndex:"IPv6Address"},{title:"MacAddress",dataIndex:"MacAddress"},{title:v.FD.format("listManage"),render:function(x,E,H){return(0,t.jsx)(i.Z,{split:(0,t.jsx)(g.Z,{type:"vertical"}),children:(0,t.jsx)(N.Z,{buttonProps:{type:"text",icon:(0,t.jsx)(C.Z,{}),danger:!0},confirmProps:{showCommonConfirm:!0},action:function(){var A,w;return(0,j.t9)({name:(A=n==null?void 0:n.Id)!==null&&A!==void 0?A:"",containerName:(w=E.Name)!==null&&w!==void 0?w:""})},tips:v.FD.format("listManageExit"),onSuccess:function(){n&&z(n.Name)}},"delete")})}}],dataSource:te,pagination:!1})}),(0,t.jsx)(s.Z,{ghost:!0,title:S.format("detailBasic"),children:(0,t.jsxs)(o.Z,{styles:{label:{width:150}},column:2,bordered:!0,children:[(0,t.jsx)(o.Z.Item,{label:S.format("detailName"),children:n==null?void 0:n.Name}),(0,t.jsx)(o.Z.Item,{label:"Id",children:n==null?void 0:n.Id.slice(0,12)}),(0,t.jsx)(o.Z.Item,{label:"Driver",children:n==null?void 0:n.Driver}),(0,t.jsx)(o.Z.Item,{label:"Scope",children:n==null?void 0:n.Scope}),(0,t.jsx)(o.Z.Item,{label:"Attachable",children:S.yesNo(n==null?void 0:n.Attachable)}),(0,t.jsx)(o.Z.Item,{label:"Internal",children:S.yesNo(n==null?void 0:n.Internal)}),(n==null?void 0:n.IPAM.Config)&&(n==null?void 0:n.IPAM.Config.map(function(c,x){return(0,t.jsx)(o.Z.Item,{label:c.Gateway&&c.Gateway.includes(":")?"IPV6":"IPV4",children:(0,t.jsxs)(o.Z,{styles:{label:{width:150}},column:1,bordered:!0,children:[(0,t.jsx)(o.Z.Item,{label:"Subnet",children:c.Subnet}),(0,t.jsx)(o.Z.Item,{label:"Gateway",children:c.Gateway}),(0,t.jsx)(o.Z.Item,{label:"IP Range ",children:c.IPRange}),(0,t.jsx)(o.Z.Item,{label:"Excluded IPs",children:c.AuxiliaryAddresses&&Object.keys(c.AuxiliaryAddresses).map(function(E){return c.AuxiliaryAddresses[E]+" ,"})})]})},x)})),(n==null?void 0:n.Options)&&Object.keys(n==null?void 0:n.Options).length>0&&(0,t.jsx)(o.Z.Item,{label:"Options",children:(0,t.jsx)(o.Z,{styles:{label:{width:150}},column:1,bordered:!0,children:Object.keys(n==null?void 0:n.Options).map(function(c){return(0,t.jsx)(o.Z.Item,{label:c,children:n.Options[c]},c)})})}),(n==null?void 0:n.Labels)&&Object.keys(n==null?void 0:n.Labels).length>0&&(0,t.jsx)(o.Z.Item,{label:"Lables",children:(0,t.jsx)(o.Z,{styles:{label:{width:150}},column:1,bordered:!0,children:Object.keys(n==null?void 0:n.Labels).map(function(c){return(0,t.jsx)(o.Z.Item,{label:c,children:n.Labels[c]},c)})})})]})})]})})}),a=d},6005:function(X,L,e){e.r(L),e.d(L,{default:function(){return G}});var K=e(15009),_=e.n(K),B=e(99289),O=e.n(B),U=e(1699),M=e(16970),N=e(36588),W=e(55681),j=e(14946),v=e(36146),C=e(99611),F=e(52645),s=e(74453),$=e(82346),i=e(25593),b=e(66309),g=e(42075),o=e(67294),r=e(85893);function G(){var Z=(0,o.useRef)(),u=(0,o.useRef)(),t=(0,$.useAccess)(),T=new v.Uo("docker");return(0,r.jsxs)(s._z,{header:{extra:[(0,r.jsx)(U.u,{access:"canSeeDockerNetworkManage",children:(0,r.jsx)(M.Z,{onFinish:function(){var d,a;!((d=Z.current)===null||d===void 0)&&d.reloadAndRest&&((a=Z.current)===null||a===void 0||a.reloadAndRest())}},"create")},"create")]},children:[(0,r.jsx)(N.Z,{ref:u}),(0,r.jsx)(W.Co,{rowKey:"Name",columns:[{title:v.FD.format("listTitle"),ellipsis:!0,dataIndex:"Name",render:function(d,a,m,f,h){return(0,r.jsx)(i.Z.Link,{onClick:function(){var l;(l=u.current)===null||l===void 0||l.show(a.Name)},children:a.Name})}},{title:v.FD.format("listType"),width:100,render:function(d,a,m,f,h){return(a.Name=="none"||a.Name=="bridge"||a.Name=="host")&&(0,r.jsx)(b.Z,{color:"blue",children:"System"})}},{title:v.FD.format("listDriver"),ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",ellipsis:!0,width:150,search:!1,render:function(d,a,m,f,h){return a.IPAM.Config&&a.IPAM.Config[0]?(0,r.jsxs)(g.Z,{direction:"vertical",children:[(0,r.jsx)("div",{children:a.IPAM.Config&&a.IPAM.Config[0].Subnet}),(0,r.jsx)("div",{children:a.IPAM.Config&&a.IPAM.Config[0].Gateway})]}):"-"}},{title:"IPV6",ellipsis:!0,width:150,search:!1,render:function(d,a,m,f,h){return a.IPAM.Config&&a.IPAM.Config[1]?(0,r.jsxs)(g.Z,{direction:"vertical",children:[(0,r.jsx)("div",{children:a.IPAM.Config&&a.IPAM.Config[1].Subnet}),(0,r.jsx)("div",{children:a.IPAM.Config&&a.IPAM.Config[1].Gateway})]}):"-"}},{title:v.FD.format("listCreatedAt"),ellipsis:!0,width:180,search:!1,dataIndex:"Created",render:function(d,a,m,f,h){return new Date(a.Created).toLocaleString()}}],request:function(){var I=O()(_()().mark(function d(a,m,f){var h;return _()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,j.jR)({name:a.Name});case 2:return h=l.sent,l.abrupt("return",{data:h.data.list,success:!0,total:h.data.list.length});case 4:case"end":return l.stop()}},d)}));return function(d,a,m){return I.apply(this,arguments)}}(),rowSelection:t.canSeeDockerNetworkManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:Z,actions:[{key:"view",label:v.FD.format("listManageView"),icon:(0,r.jsx)(C.Z,{}),showInContext:"manage",showInOperator:!0,action:function(d){return O()(_()().mark(function a(){var m,f,h;return _()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:f=d.finish,h=d.selectedRow,f(!0),(m=u.current)===null||m===void 0||m.show(h.Name);case 3:case"end":return l.stop()}},a)}))()}},{key:"prune",label:v.FD.format("listManagePrune"),showInQuickToolbar:!0,icon:(0,r.jsx)(F.Z,{}),action:function(d){return O()(_()().mark(function a(){var m,f;return _()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return m=d.loading,f=d.finish,m(),P.abrupt("return",(0,j.CI)().finally(function(){f(!0)}));case 3:case"end":return P.stop()}},a)}))()},confirmProps:{description:T.format("networkListManagePruneTip")}},{key:"delete",action:function(d){return O()(_()().mark(function a(){var m,f,h;return _()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return m=d.loading,f=d.selectedRows,h=d.finish,m(),l.abrupt("return",(0,j._x)({name:f.map(function(y){return y.Id})}).finally(function(){h(!0)}));case 3:case"end":return l.stop()}},a)}))()}}]})]})}}}]);
