"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5681],{1699:function(me,F,e){e.d(F,{u:function(){return r}});var V=e(9783),v=e.n(V),J=e(97857),u=e.n(J),de=e(67294),p=e(82346),q=e(40411),B=e(42075),H=e(85893),r=function(l){var A=(0,p.useAccess)(),a=Array.isArray(l.access)?l.access:[l.access],C,D=l.fallback;if(typeof l.children=="function"?(C=l.children(a.reduce(function(K,R){return u()(u()({},K),{},v()({},R,A[R]))},{})),C||(C=D)):a.every(function(K){return A[K]})?C=l.children:C=D,!D&&C&&l.showProTips&&A.canSeeEnableCe){if(A.canSeeEnableHiddenProTips)return null;C=(0,H.jsx)(q.Z,{offset:l.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:C})}if(!D&&C&&l.showProRibbonTips&&A.canSeeEnableCe){if(A.canSeeEnableHiddenProTips)return null;C=(0,H.jsx)(q.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:C})}return l.space?(0,H.jsx)(B.Z,u()(u()({},l.space),{},{children:C})):C}},80821:function(me,F,e){e.d(F,{Z:function(){return A}});var V=e(97857),v=e.n(V),J=e(5574),u=e.n(J),de=e(24963),p=e(36146),q=e(86738),B=e(83062),H=e(96074),r=e(83622),d=e(67294),l=e(85893);function A(a){var C=(0,d.useState)(!1),D=u()(C,2),K=D[0],R=D[1],g=(0,d.useContext)(de.Z),W=g.message,x=function(){R(!0);var pe=a.action();pe instanceof Promise?pe.then(function(_e){if(R(!1),_e){typeof a.onSuccess=="function"&&a.onSuccess(_e);var Ze=p.FD.format("finish");W.success(Ze)}}).catch(function(_e){R(!1),typeof a.onError=="function"&&a.onError(_e)}):R(!1)};if(a.confirmProps){var c,T,Q,L,ee,le,z,ye=a.confirmProps.description;return a.confirmProps.showCommonConfirm&&(ye=p.FD.format("confirm.title")),a.confirmProps.showCommonDisabled&&(ye=p.FD.format("confirm.disable")),(0,l.jsx)(q.Z,v()(v()({},a.confirmProps),{},{style:{width:500},title:(c=a.confirmProps)!==null&&c!==void 0&&c.title?(T=a.confirmProps)===null||T===void 0?void 0:T.title:p.FD.format("title.tip"),description:ye,onConfirm:x,okText:"Yes",cancelText:"No",children:(0,l.jsxs)(B.Z,{title:a.tips,children:[a.showDivider&&(0,l.jsx)(H.Z,{type:"vertical",style:{marginRight:15}}),(0,l.jsx)(r.ZP,v()(v()({},a.buttonProps),{},{ghost:((Q=a.buttonProps)===null||Q===void 0?void 0:Q.ghost)&&((L=a.buttonProps)===null||L===void 0?void 0:L.type)!=="link",style:(ee=a.buttonProps)!==null&&ee!==void 0&&ee.ghost?v()(v()({},a.buttonProps.style),{},{padding:0,width:"auto"}):v()({},(le=a.buttonProps)===null||le===void 0?void 0:le.style),icon:!a.children&&K||(z=a.buttonProps)===null||z===void 0?void 0:z.icon,loading:K,children:a.children}))]})}))}else{var fe,ve,Z,t,De;return(0,l.jsxs)(B.Z,{title:a.tips,children:[a.showDivider&&(0,l.jsx)(H.Z,{type:"vertical",style:{marginRight:15}}),(0,l.jsx)(r.ZP,v()(v()({},a.buttonProps),{},{ghost:((fe=a.buttonProps)===null||fe===void 0?void 0:fe.ghost)&&((ve=a.buttonProps)===null||ve===void 0?void 0:ve.type)!=="link",style:(Z=a.buttonProps)!==null&&Z!==void 0&&Z.ghost?v()(v()({},a.buttonProps.style),{},{padding:0,width:"auto"}):v()({},(t=a.buttonProps)===null||t===void 0?void 0:t.style),icon:!a.children&&K||(De=a.buttonProps)===null||De===void 0?void 0:De.icon,loading:K,onClick:x,children:a.children}))]})}}},44349:function(me,F,e){var V=e(97857),v=e.n(V),J=e(15009),u=e.n(J),de=e(99289),p=e.n(de),q=e(74763),B=e(17186),H=e(5966),r=e(86250),d=e(67294),l=e(85893),A=(0,d.forwardRef)(function(a,C){var D=(0,d.useRef)();(0,d.useImperativeHandle)(C,function(){return{addItem:function(R){function g(W,x,c){return R.apply(this,arguments)}return g.toString=function(){return R.toString()},g}(function(R,g,W){var x,c=(x=D.current)===null||x===void 0?void 0:x.getList(),T;if(c==null||c.forEach(function(ee,le){ee[R]==g[R]&&(T=le)}),!(0,q.k)(T)&&W){var Q;(Q=D.current)===null||Q===void 0||Q.remove(T),T=void 0}if(!T){var L;(L=D.current)===null||L===void 0||L.add(g)}}),removeItemByKey:function(g,W){return p()(u()().mark(function x(){var c,T;return u()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return T=(c=D.current)===null||c===void 0?void 0:c.getList(),T==null||T.forEach(function(ee,le){if(ee[g]==W){var z;(z=D.current)===null||z===void 0||z.remove(le);return}}),L.abrupt("return");case 3:case"end":return L.stop()}},x)}))()},clear:function(g){if(!g){var W;g=(W=D.current)===null||W===void 0||(W=W.getList())===null||W===void 0?void 0:W.map(function(c,T){return T})}if(g){var x;(x=D.current)===null||x===void 0||x.remove(g)}},getList:function(){var g;return(g=D.current)===null||g===void 0?void 0:g.getList()}}});var K={};return a.hideCopyButton===!0&&(K.copyIconProps=!1),a.hideDeleteButton===!0&&(K.deleteIconProps=!1),(0,l.jsx)(B.u,v()(v()({initialValue:a.initialValue,label:a.label,name:a.name,actionRef:D,creatorButtonProps:a.showAddButton?{creatorButtonText:a.label?a.label:a.showAddButtonLabel?a.showAddButtonLabel:a.name}:!1,min:a.min?a.min:0},K),{},{children:function(g,W,x){return(0,l.jsx)(r.Z,{justify:a.justify,gap:a.gap,children:a.items.map(function(c){return c.render?(0,l.jsx)("div",{children:c.render&&c.render(g,W,x)},"".concat(a.name,"-").concat(c.name,"-").concat(g.key)):(0,l.jsx)(H.Z,{width:c.width,name:c.name,label:c.label,required:c.required,rules:[{required:c.required}],disabled:c.disabled,placeholder:c.placeholder},"".concat(a.name,"-").concat(c.name,"-").concat(g.key))})})}}))});F.Z=A},55681:function(me,F,e){e.d(F,{Co:function(){return Te}});var V=e(19632),v=e.n(V),J=e(15009),u=e.n(J),de=e(99289),p=e.n(de),q=e(5574),B=e.n(q),H=e(97857),r=e.n(H),d=e(13769),l=e.n(d),A=e(16894),a=e(67294),C=e(25593),D=e(42075),K=e(96074),R=e(86250),g=e(30291),W=e(71230),x=e(15746),c=e(40411),T=e(83622),Q=e(85418),L=e(74330),ee=e(82061),le=e(18429),z=e(80821),ye=e(1699),fe=e(67255),ve=e(38345),Z=e(36146),t=e(85893);function De(){return(0,t.jsxs)("svg",{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"18181",width:"18",height:"18",children:[(0,t.jsx)("path",{d:"M499.2 99.584v384c158.4-19.104 241.056-37.024 248.064-53.824 4.8-11.52 31.744-134.848-52-246.016-35.776-47.488-101.12-75.52-196.064-84.16z",fill:"#4B91F3","p-id":"18182"}),(0,t.jsx)("path",{d:"M550.4 76.8a243.2 243.2 0 0 1 243.2 243.2v332.8a294.4 294.4 0 1 1-588.8 0V320A243.2 243.2 0 0 1 448 76.8h102.4zM256 471.424V652.8a243.2 243.2 0 0 0 486.304 6.912l0.096-6.912v-179.2c-144.416 58.88-306.88 57.952-486.4-2.176zM550.4 128H448a192 192 0 0 0-191.904 185.792L256 320v97.28c183.328 64.832 345.056 64.768 486.4 0.576V320a192 192 0 0 0-185.792-191.904L550.4 128z",fill:"#7A7A7A","p-id":"18183"}),(0,t.jsx)("path",{d:"M931.2 227.008l-1.472 0.32-98.432 28.192c-6.784 1.952-10.304 10.432-7.872 18.912 2.24 7.904 8.864 13.024 15.232 12.16l1.472-0.32 98.432-28.192c6.784-1.952 10.336-10.432 7.904-18.912-2.272-7.904-8.896-13.024-15.264-12.16zM878.944 112.32l-1.12 0.96-72.416 72.416c-4.992 4.992-3.968 14.112 2.272 20.352 5.792 5.824 14.08 7.104 19.232 3.264l1.12-0.992 72.416-72.416c4.992-4.992 4-14.08-2.24-20.352-5.824-5.792-14.08-7.104-19.264-3.232zM800.576 11.008l-0.8 1.28-49.664 89.536c-3.424 6.176 0.064 14.656 7.808 18.944 7.168 4 15.488 2.944 19.36-2.176l0.832-1.28L827.744 27.808c3.424-6.176-0.064-14.656-7.776-18.944-7.168-4-15.488-2.944-19.392 2.176z",fill:"#4B91F3","p-id":"18184"}),(0,t.jsx)("path",{d:"M499.2 192c13.12 0 23.936 7.904 25.44 18.08l0.16 2.4v163.84c0 11.296-11.456 20.48-25.6 20.48-13.12 0-23.936-7.904-25.44-18.08l-0.16-2.4V212.48c0-11.296 11.456-20.48 25.6-20.48z",fill:"#7A7A7A","p-id":"18185"})]})}var Be=e(27771),pe=e(64599),_e=e.n(pe),Ze=e(9783),ne=e.n(Ze),Ge=e(184),He=e(97269),Ve=e(97321),ze=e(97462),Ne=e(64317),Ye=e(5966),Je=e(86615),Re=e(68602),ae=e(83403),Qe=e(24963),Xe=e(29177),ke=e(1883),$e=e(43425),qe=e(44349),en=e(3616),nn=(0,a.forwardRef)(function(i,oe){var he=(0,a.useState)(!1),U=B()(he,2),te=U[0],X=U[1],N=(0,a.useRef)(),Y=(0,a.useContext)(Qe.Z),Me=Y.message,Se=(0,a.useState)([]),G=B()(Se,2),ie=G[0],xe=G[1],I=new Z.Uo("components.permissionButton"),Ae=ne()(ne()(ne()(ne()(ne()({},ae.W6.CONTAINER,"Id"),ae.W6.APPSTORE,"name"),ae.W6.COMPOSE,"name"),ae.W6.REGISTRY,"serverAddress"),ae.W6.DOCKER_ENV,"name"),ce=ne()(ne()(ne()(ne()(ne()({},ae.W6.CONTAINER,"name"),ae.W6.APPSTORE,"name"),ae.W6.COMPOSE,"name"),ae.W6.REGISTRY,"title"),ae.W6.DOCKER_ENV,"title"),We=Ae[i.type],Ie=ce[i.type],Le=i.selected.map(function(E){return E[Ae[i.type]]});return a.useEffect(function(){if(te){if(!i.selected||i.selected.length==0){Me.error(Z.FD.format("title.noDataSelect")),X(!1);return}(0,Re.dP)({permission:{uri:i.type,key:We,value:Le}}).then(function(E){var _;(_=N.current)===null||_===void 0||_.setFieldValue("list",Object.keys(E.data.list).map(function(P){return{name:P,type:E.data.list[P].type,users:E.data.list[P].users}}))}),(0,Re.lE)().then(function(E){var _,P=(_=E.data)===null||_===void 0||(_=_.list)===null||_===void 0?void 0:_.map(function(O){return{label:O.username,value:O.username}});xe(P)})}},[te]),(0,t.jsx)(ye.u,{access:["canSeeEnableEe","canSeeFounder","canSeeManage"],children:(0,t.jsxs)(Ge.a,{name:"create",title:I.format("drawerTitle"),open:te,onOpenChange:function(_){if(!_){var P;(P=N.current)===null||P===void 0||P.resetFields()}X(_)},drawerProps:{forceRender:!0,width:en.R_},formRef:N,trigger:(0,t.jsx)(T.ZP,{icon:(0,t.jsx)(Xe.Z,{}),children:I.format("drawerTriggerButton")}),onFinish:function(){var E=p()(u()().mark(function _(P){var O,S,o;return u()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:O=_e()(P.list),j.prev=1,O.s();case 3:if((S=O.n()).done){j.next=9;break}return o=S.value,j.next=7,(0,Re.Db)({usernames:o.users,permissionType:o.type,permission:{uri:i.type,key:We,showKey:Ie,value:[o.name]}});case 7:j.next=3;break;case 9:j.next=14;break;case 11:j.prev=11,j.t0=j.catch(1),O.e(j.t0);case 14:return j.prev=14,O.f(),j.finish(14);case 17:Me.success(Z.FD.format("finish")),X(!1),i.onSuccess();case 20:case"end":return j.stop()}},_,null,[[1,11,14,17]])}));return function(_){return E.apply(this,arguments)}}(),children:[(0,t.jsxs)(ve.Z,{ghost:!0,title:(0,t.jsx)(ke.Z,{}),subTitle:I.format("batchTitle"),children:[(0,t.jsx)(He.A.Item,{name:"type",style:{marginBottom:0},children:(0,t.jsx)(Ve.Z.Group,{defaultValue:"admin",onChange:function(_){var P,O,S=(P=N.current)===null||P===void 0?void 0:P.getFieldValue("list");S.forEach(function(o){o.type=_,o.users=[]}),(O=N.current)===null||O===void 0||O.setFieldValue("list",S)},children:["admin","restricted","public"].map(function(E){return(0,t.jsx)(Ve.Z,{style:{width:240},title:I.format("dataTypeOption.".concat(E)),description:I.format("dataTypeDescOption.".concat(E)),value:E},E)})})}),(0,t.jsx)(ze.Z,{name:["type"],children:function(_){var P=_.type;if(P==="restricted")return(0,t.jsx)(Ne.Z,{mode:"multiple",name:"usernames",label:I.format("formUsernames"),onChange:function(S){var o,s,j=(o=N.current)===null||o===void 0?void 0:o.getFieldValue("list");j.forEach(function(w){w.users=S}),(s=N.current)===null||s===void 0||s.setFieldValue("list",j)},rules:[{required:!0}],request:p()(u()().mark(function O(){var S,o,s;return u()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(!(ie.length>0)){w.next=2;break}return w.abrupt("return",ie);case 2:return w.next=4,(0,Re.lE)();case 4:return o=w.sent,s=(S=o.data)===null||S===void 0||(S=S.list)===null||S===void 0?void 0:S.map(function(se){return{label:se.username,value:se.username}}),xe(s),w.abrupt("return",s);case 8:case"end":return w.stop()}},O)}))})}})]}),(0,t.jsx)(ve.Z,{ghost:!0,title:(0,t.jsx)($e.Z,{}),subTitle:I.format("dataTitle"),children:(0,t.jsx)(qe.Z,{name:"list",hideCopyButton:!0,gap:10,items:[{name:"name",label:I.format("dataName"),render:function(_,P,O){var S=O.getCurrentRowData();return(0,t.jsx)(Ye.Z,{disabled:!0,label:I.format("dataName"),width:"sm",name:"name"})}},{name:"type",label:I.format("dataType"),render:function(_,P,O){var S=O.getCurrentRowData();return(0,t.jsx)(Je.Z.Group,{label:I.format("dataType"),name:"type",radioType:"button",options:["admin","public","restricted"].map(function(o){return{label:I.format("dataTypeOption.".concat(o)),value:o}})})}},{name:"users",label:I.format("dataUsers"),render:function(_,P,O){return(0,t.jsx)(ze.Z,{name:["type"],children:function(o){var s=o.type;if(s=="restricted")return(0,t.jsx)(Ne.Z,{width:"sm",mode:"tags",name:"users",label:I.format("dataUsers"),options:ie})}})}}]})})]})})}),an=nn,tn=["children","buttonProps","type"],rn=["rowSelection","onRow"],ln=["type"],on=["render"],Ue="delete",sn="dataPermission",un={type:"link",block:!0,iconPosition:"start",style:{justifyContent:"flex-start",padding:0,height:"auto"}},Ke=function(oe){var he=oe.children,U=oe.buttonProps,te=oe.type,X=l()(oe,tn),N=(0,t.jsx)(z.Z,r()(r()({},X),{},{buttonProps:r()(r()(r()({},un),U),{},{icon:(0,t.jsx)(C.Z.Text,{disabled:U&&U.disabled,type:te,children:U==null?void 0:U.icon})}),children:(0,t.jsx)(C.Z.Text,{disabled:U&&U.disabled,type:te,children:he})}));return N};function Te(i){var oe,he,U,te,X=i.rowSelection,N=i.onRow,Y=l()(i,rn),Me=(0,a.useState)([]),Se=B()(Me,2),G=Se[0],ie=Se[1],xe=(0,a.useState)(!1),I=B()(xe,2),Ae=I[0],ce=I[1],We=(0,a.useState)(!1),Ie=B()(We,2),Le=Ie[0],E=Ie[1],_=(0,a.useState)(),P=B()(_,2),O=P[0],S=P[1],o={selectedRows:G,selectedRow:G==null?void 0:G[0],finish:function(b){ce(!1),E(!1),b&&(ie([]),Y.actionRef&&typeof Y.actionRef!="function"&&Y.actionRef.current&&Y.actionRef.current.reload(!1))},isMultiple:function(){return G.length>1},loading:function(){ce(!1),E(!0)}},s,j=i.columns,w=0;i.actions&&(s={items:[{type:"group",key:"operator",children:[]},{type:"group",key:"manage",children:[]}]},i.actions&&i.actions.forEach(function(n){var b,f,h,m,M;if(n.showInOperator&&(w+=50),!(n.key!=Ue&&(typeof n.showInContext=="undefined"||n.showInContext===!1))){typeof n.confirmProps=="function"&&(n.confirmProps=n.confirmProps(o));var y=(b=n.buttonProps)!==null&&b!==void 0?b:{},k=y.type,Oe=l()(y,ln),$;if(n.key==Ue?$={key:n.key,label:(0,t.jsx)(Te.ContextMenuItem,{buttonProps:{icon:(0,t.jsx)(ee.Z,{})},confirmProps:{showCommonConfirm:!0},type:"danger",action:p()(u()().mark(function Fe(){return u()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.abrupt("return",n.action&&n.action(o));case 1:case"end":return ue.stop()}},Fe)})),children:Z.FD.format("listManageDelete")},n.key)}:$={key:n.key,label:(0,t.jsx)(Te.ContextMenuItem,{buttonProps:r()(r()(r()({},{icon:n.icon}),Oe),{},{disabled:n.disable?n.disable(o):function(){return!n.isMultiple&&o.isMultiple()!==!!n.isMultiple}()}),confirmProps:n.confirmProps,action:p()(u()().mark(function Fe(){return u()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.abrupt("return",n.action&&n.action(o));case 1:case"end":return ue.stop()}},Fe)})),children:n.label},n.key)},n.showInContext=="operator"&&s&&(f=s.items)!==null&&f!==void 0&&f[0]&&"children"in((h=s.items)===null||h===void 0?void 0:h[0])){var re;if(s.items[0].label||(s.items[0].label=Z.FD.format("listManage")),(re=s.items)===null||re===void 0||(re=re[0].children)===null||re===void 0||re.push($),n.addDivider){var Ee;(Ee=s.items)===null||Ee===void 0||(Ee=Ee[0].children)===null||Ee===void 0||Ee.push({type:"divider"})}}else if(n.showInContext=="manage"&&s&&(m=s.items)!==null&&m!==void 0&&m[1]&&"children"in((M=s.items)===null||M===void 0?void 0:M[1])){var Pe;if(s.items[1].label||(s.items[1].label=Z.FD.format("listManageManage")),(Pe=s.items)===null||Pe===void 0||(Pe=Pe[1].children)===null||Pe===void 0||Pe.push($),n.addDivider){var je;(je=s.items)===null||je===void 0||(je=je[1].children)===null||je===void 0||je.push({type:"divider"})}}else{var be;if((be=s)===null||be===void 0||(be=be.items)===null||be===void 0||be.push($),n.addDivider){var Ce;(Ce=s)===null||Ce===void 0||(Ce=Ce.items)===null||Ce===void 0||Ce.push({type:"divider"})}}}})),j&&i.actions&&w>0&&(j=[].concat(v()(j),[{title:Z.FD.format("listManage"),valueType:"option",key:"option",width:w,fixed:"right",render:function(b,f,h,m){var M=r()(r()({},o),{},{selectedRow:f,selectedRows:[f]});return(0,t.jsx)(D.Z,{split:(0,t.jsx)(K.Z,{type:"vertical"}),children:i.actions&&i.actions.filter(function(y){return y.showInOperator}).map(function(y){return(y.buttonProps||y.icon)&&(0,t.jsx)(z.Z,{tips:y.label,buttonProps:r()(r()(r()({},{ghost:!0,type:"link",icon:y.icon}),y.buttonProps),{},{disabled:y.disable&&y.disable(M)}),confirmProps:typeof y.confirmProps=="function"?y.confirmProps(M):y.confirmProps,action:p()(u()().mark(function k(){return u()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.abrupt("return",y.action&&y.action(M));case 1:case"end":return $.stop()}},k)}))},y.key)})})}}]));var se=(oe=i.quickToolbar)!==null&&oe!==void 0?oe:{},ge=[];if(se!=null&&se.render){var we=se.render(o);ge=(0,Be.Z)(we)?we:[we]}return ge=[].concat(v()(ge),[i.actions&&i.actions.filter(function(n){return n.showInQuickToolbar||n.key==Ue||n.key==sn}).map(function(n){if(n.key=="dataPermission"){var b;return n.label&&(0,t.jsx)(an,{type:n.label,selected:(b=o.selectedRows)!==null&&b!==void 0?b:[],onSuccess:function(){o.finish(!0)}},"dataPermission")}return n.key=="delete"?(0,t.jsx)(z.Z,{buttonProps:{danger:!0,type:"primary",icon:(0,t.jsx)(ee.Z,{})},confirmProps:{showCommonConfirm:!0},action:p()(u()().mark(function f(){return u()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",n.action&&n.action(o));case 1:case"end":return m.stop()}},f)})),children:Z.FD.format("listManageDeleteBatch")},n.key):n.permission&&n.permission.access?(0,t.jsx)(ye.u,{access:n.permission.access,showProTips:!0,children:function(h){o.access=h;var m=Object.values(h).every(function(M){return M===!0});return(0,t.jsx)(z.Z,{buttonProps:r()(r()(r()({},{icon:n.icon}),n.buttonProps),{},{disabled:n.disable?n.disable(o):!m}),confirmProps:typeof n.confirmProps=="function"?n.confirmProps(o):n.confirmProps,action:p()(u()().mark(function M(){return u()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.abrupt("return",n.action&&n.action(o));case 1:case"end":return k.stop()}},M)})),children:n.label},n.key)}},n.key):(0,t.jsx)(z.Z,{buttonProps:r()(r()(r()({},{icon:n.icon}),n.buttonProps),{},{disabled:n.disable&&n.disable(o)}),confirmProps:typeof n.confirmProps=="function"?n.confirmProps(o):n.confirmProps,action:p()(u()().mark(function f(){return u()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",n.action&&n.action(o));case 1:case"end":return m.stop()}},f)})),children:n.label},n.key)})]),(0,a.createElement)(A.ZP,r()(r()({},Y),{},{key:i.tableKey,pagination:(he=i.pagination)!==null&&he!==void 0?he:(0,fe.Oh)(),sticky:(U=i.sticky)!==null&&U!==void 0?U:{offsetScroll:5},tableAlertRender:!1,tableExtraRender:function(b,f){var h=se.render,m=l()(se,on);return(0,t.jsxs)(R.Z,{vertical:!0,gap:10,children:[i.tableExtraRender&&(0,t.jsx)(t.Fragment,{children:i.tableExtraRender(b,f)}),ge&&typeof ge[0]!="undefined"&&(0,t.jsx)(g.Z,r()(r()({offsetTop:60,onChange:function(y){S(y)}},m),{},{children:(0,t.jsx)(ve.Z,{boxShadow:O,bordered:!0,children:(0,t.jsxs)(W.Z,{align:"middle",children:[(0,t.jsx)(x.Z,{span:6,children:(0,t.jsxs)(D.Z,{size:"middle",children:[(0,t.jsx)(c.Z,{count:G.length,children:(0,t.jsx)(T.ZP,{type:"dashed",onClick:function(){ie([])},children:Z.FD.format("listManageUnSelected")})}),s&&(0,t.jsx)(Q.Z,{forceRender:!0,trigger:["click"],menu:function(){return s}(),children:(0,t.jsx)(T.ZP,{icon:(0,t.jsx)(De,{}),children:Z.FD.format("listManageBatch")})})]})}),(0,t.jsx)(x.Z,{span:18,children:(0,t.jsx)(R.Z,{justify:"flex-end",gap:"large",children:ge})})]})})}),"toolbar")]})},tableViewRender:function(b,f){return s?(0,t.jsx)(Q.Z,{open:Ae,forceRender:!0,trigger:["contextMenu"],onOpenChange:function(m,M){M.source=="trigger"&&ce(m)},menu:function(){var h=s,m=Array.isArray(h==null?void 0:h.items)?h.items:[],M=[{key:"dp-table-deselect",label:(0,t.jsx)(Ke,{type:"secondary",buttonProps:{icon:(0,t.jsx)(le.Z,{})},action:p()(u()().mark(function y(){var k,Oe;return u()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:ie([]),ce(!1),Y.actionRef&&typeof Y.actionRef!="function"&&Y.actionRef.current&&((k=(Oe=Y.actionRef.current).clearSelected)===null||k===void 0||k.call(Oe));case 3:case"end":return re.stop()}},y)})),children:Z.FD.format("listSelected",{count:G.length})})}].concat(v()(m));return r()(r()({},h),{},{items:M})}(),children:(0,t.jsx)(L.Z,{spinning:Le,children:f})}):f},scroll:{x:"max-content"},search:(te=i.search)!==null&&te!==void 0?te:{collapsed:!1},onRow:function(b,f){var h=(N==null?void 0:N(b,f))||{};return r()(r()({},h),{},{onContextMenu:function(M){var y;s&&(M.preventDefault(),b&&G.length<=1&&ie([b]),G&&ce(!0),(y=h.onContextMenu)===null||y===void 0||y.call(h,M))}})},rowSelection:r()(r()({},X),{},{alwaysShowAlert:!0,selectedRowKeys:G.map(function(n){var b=Y.rowKey,f=b===void 0?"id":b;return typeof f=="function"?f(n):n[f]}),onChange:function(b,f,h){var m;ie(f),f.length==0&&ce(!1),X&&X.onChange&&((m=X.onChange)===null||m===void 0||m.call(X,b,f,h))}}),onChange:function(b,f,h){i.tableKey&&!(0,Be.Z)(h)&&(0,fe.LX)(i.tableKey,h.columnKey,h.order)},columnsState:i.tableKey?(0,fe.j_)(i.tableKey):void 0,onLoad:function(){},columns:j}))}Ke.displayName="DPtable.ContextMenuItem",Te.ContextMenuItem=Ke},3616:function(me,F,e){e.d(F,{Ed:function(){return u},FK:function(){return v},R_:function(){return V},ob:function(){return J}});var V=window.innerWidth<=1024?"90vw":"65vw",v="90vw",J="60vw",u="50vh"},24963:function(me,F,e){var V=e(67294),v=(0,V.createContext)({});F.Z=v},67255:function(me,F,e){e.d(F,{G$:function(){return de},LX:function(){return H},MJ:function(){return u},Oh:function(){return J},h5:function(){return q},j_:function(){return p},rj:function(){return B}});var V=e(5574),v=e.n(V);function J(r){var d=localStorage.getItem("dpanel-pagesize");return d=="all"?!1:{defaultCurrent:r==null?void 0:r.page,showSizeChanger:!0,defaultPageSize:parseInt(d!=null?d:"20"),showQuickJumper:!0}}function u(r,d){d?localStorage.setItem("dpanel-page-"+r,"".concat(d)):localStorage.removeItem("dpanel-page-"+r)}function de(r,d){var l=d?Math.ceil((d==null?void 0:d.total)/(d==null?void 0:d.pageSize)):void 0,A=localStorage.getItem("dpanel-page-"+r),a=1;return A&&(a=parseInt(A)),l&&a>l?1:a}function p(r){return{persistenceKey:r,persistenceType:"localStorage"}}var q=["descend","ascend"];function B(r,d){var l=localStorage.getItem("dpanel-table-sort-".concat(r));if(l){var A=l.split("|"),a=v()(A,2),C=a[0],D=a[1];if(C==d)return D}}function H(r,d,l){!d||!l?localStorage.removeItem("dpanel-table-sort-".concat(r)):localStorage.setItem("dpanel-table-sort-".concat(r),"".concat(d,"|").concat(l))}}}]);
