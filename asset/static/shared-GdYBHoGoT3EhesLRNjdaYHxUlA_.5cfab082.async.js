"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3832],{92067:function(G,R,n){n.d(R,{Z:function(){return I}});var L=n(15009),d=n.n(L),x=n(99289),_=n.n(x),O=n(13822),b=n(64789),h=n(40018),K=n(23345),M=n(83062),A=n(83622),D=n(89638),B=n(5251),l=n(36146),F=n(67255),c=n(85893);function I(f){return(0,c.jsx)(h.Z,{columns:[{title:l.FD.format("listContainerName"),dataIndex:"name",render:function(v,o,E,u){return(0,c.jsx)(K.Z,{direction:"vertical",style:{textAlign:"left"},children:o==null?void 0:o.Names.map(function(t){return(0,B.fi)(t,"/")})},o.Id)}},{title:l.FD.format("listPort"),dataIndex:"ports",search:!1,width:150,render:function(v,o,E,u){var t=[],e=[];return o!=null&&o.Ports&&o.Ports.map(function(r,s){r.PublicPort?t.push(r):e.push(r)}),(0,c.jsx)(D.Z,{publicPort:t,privatePort:e,domain:[]})}},{title:l.FD.format("listImageName"),dataIndex:"image",search:!1,render:function(v,o,E,u,t){return o.Image}},{title:l.FD.format("listManage"),valueType:"option",key:"option",ellipsis:!0,width:100,render:function(v,o,E,u){return[(0,c.jsx)(M.Z,{title:l.FD.format("listManageUse"),children:(0,c.jsx)(A.ZP,{type:"link",onClick:_()(d()().mark(function t(){var e;return d()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,O.jV)({md5:o.Id});case 2:e=s.sent,f.onSelect&&f.onSelect(e.data.info);case 4:case"end":return s.stop()}},t)})),children:(0,c.jsx)(b.Z,{})},o.Id)},o.Id)]}}],rowKey:"Id",request:function(){var j=_()(d()().mark(function v(o,E,u){var t;return d()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,O.IE)({siteTitle:o.name});case 2:return t=r.sent,r.abrupt("return",{data:t.data.list,success:!0,total:t.data.list.length});case 4:case"end":return r.stop()}},v)}));return function(v,o,E){return j.apply(this,arguments)}}(),pagination:(0,F.Oh)()})}},16970:function(G,R,n){var L=n(15009),d=n.n(L),x=n(99289),_=n.n(x),O=n(5574),b=n.n(O),h=n(3616),K=n(24963),M=n(14946),A=n(5251),D=n(36146),B=n(184),l=n(5966),F=n(62370),c=n(97462),I=n(52688),f=n(24739),j=n(17186),v=n(83622),o=n(34041),E=n(71230),u=n(15746),t=n(67294),e=n(85893),r=(0,t.forwardRef)(function(s,m){var P,a=(0,t.useState)(!1),k=b()(a,2),ne=k[0],$=k[1],C=(0,t.useRef)(),Y=(0,t.useContext)(K.Z),S=Y.message,i=new D.Uo("components.network");return(0,t.useImperativeHandle)(m,function(){return{}}),(0,e.jsxs)(B.a,{drawerProps:{width:h.R_},name:"createNetwork",title:i.format("createTitle"),open:ne,onOpenChange:function(g){$(g)},formRef:C,trigger:(P=s.trigger)!==null&&P!==void 0?P:(0,e.jsx)(v.ZP,{type:"primary",children:i.format("createTitle")}),onFinish:function(){var y=_()(d()().mark(function g(p){var U,W,T,w,H,X,J,z,Q,q,ee,Z,N,re;return d()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return Z={name:p.name,driver:(U=p.driver)!==null&&U!==void 0?U:"bridge",ipSubnet:(W=p.ipSubnet)!==null&&W!==void 0?W:"",ipGateway:(T=p.ipGateway)!==null&&T!==void 0?T:"",ipRange:(w=p.ipRange)!==null&&w!==void 0?w:"",ipAux:p.ipAux,enableIpV6:(H=p.enableIpV6)!==null&&H!==void 0?H:!1,ipV6Subnet:(X=p.ipV6Subnet)!==null&&X!==void 0?X:"",ipV6Gateway:(J=p.ipV6Gateway)!==null&&J!==void 0?J:"",ipV6Range:(z=p.ipV6Range)!==null&&z!==void 0?z:"",ipV6Aux:(Q=p.ipV6Aux)!==null&&Q!==void 0?Q:[],driverOption:p.driverOption,internal:(q=p.internal)!==null&&q!==void 0?q:!1,attachable:(ee=p.attachable)!==null&&ee!==void 0?ee:!1},(p.driver=="macvlan"||p.driver=="ipvlan")&&(Z.driverOption||(Z.driverOption=[]),Z.driverOption.push({name:"parent",value:p.macvlanParentCard})),V.next=4,(0,M.XY)(Z);case 4:if(N=V.sent,!(N&&N.data&&N.data.id!="")){V.next=10;break}return S.success(D.FD.format("finish")),s.onFinish&&s.onFinish(),(re=C.current)===null||re===void 0||re.resetFields(),V.abrupt("return",!0);case 10:case"end":return V.stop()}},g)}));return function(g){return y.apply(this,arguments)}}(),children:[(0,e.jsx)(l.Z,{label:i.format("createFormName"),name:"name",required:!0,rules:[{required:!0}],placeholder:i.format("createFormNameEmpty")}),(0,e.jsx)(F.Z,{label:i.format("createFormDriver"),name:"driver",children:(0,e.jsxs)(o.Z,{defaultValue:"bridge",children:[(0,e.jsx)(o.Z.Option,{value:"bridge",children:"bridge"}),(0,e.jsx)(o.Z.Option,{value:"macvlan",children:"macvlan"}),(0,e.jsx)(o.Z.Option,{value:"ipvlan",children:"ipvlan"}),(0,e.jsx)(o.Z.Option,{value:"overlay",children:"overlay"})]})}),(0,e.jsx)(c.Z,{name:["driver"],children:function(g){var p=g.driver;if(p=="macvlan"||p=="ipvlan")return(0,e.jsx)(l.Z,{required:!0,rules:[{required:!0}],label:i.format("createFormDriverMacvlanParentCard"),name:"macvlanParentCard",tooltip:i.format("createFormDriverMacvlanParentCardTip")})}}),(0,e.jsxs)(E.Z,{children:[(0,e.jsx)(u.Z,{span:8,children:(0,e.jsx)(I.Z,{label:i.format("createFormUserIpV4Subnet"),name:"userIpV4Subnet"})}),(0,e.jsx)(u.Z,{span:8,children:(0,e.jsx)(I.Z,{name:"internal",label:i.format("createFormInternal"),initialValue:!1})}),(0,e.jsx)(u.Z,{span:8,children:(0,e.jsx)(I.Z,{name:"attachable",label:i.format("createFormAttachable"),initialValue:!1})})]}),(0,e.jsx)(c.Z,{name:["userIpV4Subnet"],children:function(g){var p=g.userIpV4Subnet;if(p)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(f.UW,{title:i.format("createFormIpTitle"),children:[(0,e.jsx)(l.Z,{label:i.format("createFormIpSubnet"),name:"ipSubnet",width:"md",required:!0,rules:[{required:!0}],tooltip:i.format("createFormIpSubnetTip"),placeholder:"192.168.0.0/16",fieldProps:{onChange:function(W){if(W.target.value){var T;(T=C.current)===null||T===void 0||T.setFieldValue("ipGateway",(0,A.mf)(W.target.value))}else{var w;(w=C.current)===null||w===void 0||w.setFieldValue("ipGateway","")}}}}),(0,e.jsx)(l.Z,{label:i.format("createFormIpGateway"),name:"ipGateway",width:"md",placeholder:"192.168.0.1",required:!0,rules:[{required:!0}]}),(0,e.jsx)(l.Z,{label:i.format("createFormIpRange"),name:"ipRange",width:"md",placeholder:"192.168.1.0/24"})]}),(0,e.jsx)(j.u,{name:"ipAux",label:i.format("createFormIpAux"),children:(0,e.jsxs)(f.UW,{children:[(0,e.jsx)(l.Z,{label:i.format("createFormIpAuxDevice"),name:"device",width:"md"}),(0,e.jsx)(l.Z,{label:i.format("createFormIpAuxAddress"),name:"address",width:"md"})]})})]})}}),(0,e.jsxs)(E.Z,{children:[(0,e.jsx)(u.Z,{span:8,children:(0,e.jsx)(I.Z,{label:i.format("createFormEnableIpV6"),name:"enableIpV6"})}),(0,e.jsx)(u.Z,{children:(0,e.jsx)(I.Z,{label:i.format("createFormUserIpV6Subnet"),name:"userIpV6Subnet",fieldProps:{onChange:function(g,p){if(g){var U;(U=C.current)===null||U===void 0||U.setFieldValue("enableIpV6",!0)}}}})})]}),(0,e.jsx)(c.Z,{name:["userIpV6Subnet"],children:function(g){var p=g.userIpV6Subnet;if(p)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(f.UW,{title:i.format("createFormIpV6"),children:[(0,e.jsx)(l.Z,{label:i.format("createFormIpSubnet"),name:"ipV6Subnet",width:"md",placeholder:"2001:db8::/48",required:!0,rules:[{required:!0}],fieldProps:{onChange:function(W){if(W.target.value){var T;(T=C.current)===null||T===void 0||T.setFieldValue("ipV6Gateway",(0,A.mf)(W.target.value))}else{var w;(w=C.current)===null||w===void 0||w.setFieldValue("ipV6Gateway","")}}}}),(0,e.jsx)(l.Z,{label:i.format("createFormIpGateway"),name:"ipV6Gateway",width:"md",placeholder:"2001:db8::1",required:!0,rules:[{required:!0}]}),(0,e.jsx)(l.Z,{label:i.format("createFormIpRange"),name:"ipV6Range",width:"md",placeholder:"2001:db8::/64"})]}),(0,e.jsx)(j.u,{name:"ipV6Aux",label:i.format("createFormIpAux"),children:(0,e.jsxs)(f.UW,{children:[(0,e.jsx)(l.Z,{label:i.format("createFormIpAuxDevice"),name:"device",width:"md"}),(0,e.jsx)(l.Z,{label:i.format("createFormIpAuxAddress"),name:"address",width:"md"})]})})]})}}),(0,e.jsx)(j.u,{name:"driverOption",label:i.format("createFormDriverOption"),children:(0,e.jsxs)(f.UW,{children:[(0,e.jsx)(l.Z,{label:i.format("createFormDriverOptionName"),name:"name",width:"md"}),(0,e.jsx)(l.Z,{label:i.format("createFormDriverOptionValue"),name:"value",width:"md"})]})})]})});R.Z=r},13822:function(G,R,n){n.d(R,{IE:function(){return A},IW:function(){return K},KK:function(){return I},LJ:function(){return j},RF:function(){return u},Re:function(){return o},aF:function(){return e},eE:function(){return F},jV:function(){return B}});var L=n(5574),d=n.n(L),x=n(15009),_=n.n(x),O=n(99289),b=n.n(O),h=n(63713);function K(s){return M.apply(this,arguments)}function M(){return M=b()(_()().mark(function s(m){return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,h.request)("/dpanel/api/app/container/status",{method:"POST",data:m}));case 1:case"end":return a.stop()}},s)})),M.apply(this,arguments)}function A(s){return D.apply(this,arguments)}function D(){return D=b()(_()().mark(function s(m){return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,h.request)("/dpanel/api/app/container/get-list",{data:m,method:"POST"}));case 1:case"end":return a.stop()}},s)})),D.apply(this,arguments)}function B(s){return l.apply(this,arguments)}function l(){return l=b()(_()().mark(function s(m){return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,h.request)("/dpanel/api/app/container/get-detail",{data:m,method:"POST"}));case 1:case"end":return a.stop()}},s)})),l.apply(this,arguments)}function F(s){return c.apply(this,arguments)}function c(){return c=b()(_()().mark(function s(m){return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,h.request)("/dpanel/api/app/container/update",{data:m,method:"POST"}));case 1:case"end":return a.stop()}},s)})),c.apply(this,arguments)}function I(){return f.apply(this,arguments)}function f(){return f=b()(_()().mark(function s(){return _()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,h.request)("/dpanel/api/app/container/prune",{method:"POST"}));case 1:case"end":return P.stop()}},s)})),f.apply(this,arguments)}function j(s){return v.apply(this,arguments)}function v(){return v=b()(_()().mark(function s(m){return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!m.enableExportToPath){a.next=2;break}return a.abrupt("return",(0,h.request)("/dpanel/api/app/container/export",{method:"GET",params:m}));case 2:return a.abrupt("return",new Promise(function(k,ne){var $=localStorage.getItem("token"),C=new URLSearchParams;C.append("token",$||""),Object.entries(m).forEach(function(i){var y=d()(i,2),g=y[0],p=y[1];C.append(g,String(p))});var Y="/dpanel/api/app/container/export?".concat(C.toString()),S=document.createElement("iframe");S.style.display="none",S.src=Y,document.body.appendChild(S),setTimeout(function(){S.parentElement&&document.body.removeChild(S)},5e3),k({code:200,data:"success",error:""})}));case 3:case"end":return a.stop()}},s)})),v.apply(this,arguments)}function o(s){return E.apply(this,arguments)}function E(){return E=b()(_()().mark(function s(m){return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,h.request)("/dpanel/api/app/container/commit",{method:"POST",data:m}));case 1:case"end":return a.stop()}},s)})),E.apply(this,arguments)}function u(s){return t.apply(this,arguments)}function t(){return t=b()(_()().mark(function s(m){return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,h.request)("/dpanel/api/app/container/upgrade",{method:"POST",data:m}));case 1:case"end":return a.stop()}},s)})),t.apply(this,arguments)}function e(s){return r.apply(this,arguments)}function r(){return r=b()(_()().mark(function s(m){return _()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",(0,h.request)("/dpanel/api/app/container/copy",{method:"POST",data:m}));case 1:case"end":return a.stop()}},s)})),r.apply(this,arguments)}},14946:function(G,R,n){n.d(R,{CI:function(){return A},HY:function(){return j},IS:function(){return b},XY:function(){return F},_3:function(){return o},_x:function(){return B},jR:function(){return K},t9:function(){return I}});var L=n(15009),d=n.n(L),x=n(99289),_=n.n(x),O=n(63713);function b(u){return h.apply(this,arguments)}function h(){return h=_()(d()().mark(function u(t){return d()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,O.request)("/dpanel/api/app/network/get-detail",{method:"POST",data:t}));case 1:case"end":return r.stop()}},u)})),h.apply(this,arguments)}function K(u){return M.apply(this,arguments)}function M(){return M=_()(d()().mark(function u(t){return d()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,O.request)("/dpanel/api/app/network/get-list",{method:"POST",data:t}));case 1:case"end":return r.stop()}},u)})),M.apply(this,arguments)}function A(){return D.apply(this,arguments)}function D(){return D=_()(d()().mark(function u(){return d()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,O.request)("/dpanel/api/app/network/prune",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},u)})),D.apply(this,arguments)}function B(u){return l.apply(this,arguments)}function l(){return l=_()(d()().mark(function u(t){return d()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,O.request)("/dpanel/api/app/network/delete",{method:"POST",data:t});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},u)})),l.apply(this,arguments)}function F(u){return c.apply(this,arguments)}function c(){return c=_()(d()().mark(function u(t){return d()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,O.request)("/dpanel/api/app/network/create",{method:"POST",data:t});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},u)})),c.apply(this,arguments)}function I(u){return f.apply(this,arguments)}function f(){return f=_()(d()().mark(function u(t){return d()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,O.request)("/dpanel/api/app/network/disconnect",{method:"POST",data:t});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},u)})),f.apply(this,arguments)}function j(u){return v.apply(this,arguments)}function v(){return v=_()(d()().mark(function u(t){return d()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,O.request)("/dpanel/api/app/network/connect",{method:"POST",data:t});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},u)})),v.apply(this,arguments)}function o(u){return E.apply(this,arguments)}function E(){return E=_()(d()().mark(function u(t){return d()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,O.request)("/dpanel/api/app/network/get-container-list",{method:"POST",data:t}));case 1:case"end":return r.stop()}},u)})),E.apply(this,arguments)}}}]);
