"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2958],{36693:function(ie,I,e){var l=e(87462),a=e(67294),y=e(80111),h=e(84089),Z=function(C,x){return a.createElement(h.Z,(0,l.Z)({},C,{ref:x,icon:y.Z}))},T=a.forwardRef(Z);I.Z=T},88641:function(ie,I,e){e.d(I,{Z:function(){return C}});var l=e(87462),a=e(67294),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},h=y,Z=e(84089),T=function(m,B){return a.createElement(Z.Z,(0,l.Z)({},m,{ref:B,icon:h}))},$=a.forwardRef(T),C=$},60532:function(ie,I,e){e.d(I,{Z:function(){return C}});var l=e(87462),a=e(67294),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},h=y,Z=e(84089),T=function(m,B){return a.createElement(Z.Z,(0,l.Z)({},m,{ref:B,icon:h}))},$=a.forwardRef(T),C=$},60433:function(ie,I,e){var l=e(87462),a=e(67294),y=e(69782),h=e(84089),Z=function(C,x){return a.createElement(h.Z,(0,l.Z)({},C,{ref:x,icon:y.Z}))},T=a.forwardRef(Z);I.Z=T},63434:function(ie,I,e){var l=e(1413),a=e(45987),y=e(22270),h=e(84567),Z=e(67294),T=e(90789),$=e(64203),C=e(85893),x=["options","fieldProps","proFieldProps","valueEnum"],m=Z.forwardRef(function(A,se){var N=A.options,ee=A.fieldProps,ue=A.proFieldProps,Oe=A.valueEnum,ce=(0,a.Z)(A,x);return(0,C.jsx)($.Z,(0,l.Z)({ref:se,valueType:"checkbox",valueEnum:(0,y.h)(Oe,void 0),fieldProps:(0,l.Z)({options:N},ee),lightProps:(0,l.Z)({labelFormatter:function(){return(0,C.jsx)($.Z,(0,l.Z)({ref:se,valueType:"checkbox",mode:"read",valueEnum:(0,y.h)(Oe,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({options:N},ee),proFieldProps:ue},ce))}},ce.lightProps),proFieldProps:ue},ce))}),B=Z.forwardRef(function(A,se){var N=A.fieldProps,ee=A.children;return(0,C.jsx)(h.Z,(0,l.Z)((0,l.Z)({ref:se},N),{},{children:ee}))}),_=(0,T.G)(B,{valuePropName:"checked"}),K=_;K.Group=m,I.Z=K},31199:function(ie,I,e){var l=e(1413),a=e(45987),y=e(67294),h=e(64203),Z=e(85893),T=["fieldProps","min","proFieldProps","max"],$=function(m,B){var _=m.fieldProps,K=m.min,A=m.proFieldProps,se=m.max,N=(0,a.Z)(m,T);return(0,Z.jsx)(h.Z,(0,l.Z)({valueType:"digit",fieldProps:(0,l.Z)({min:K,max:se},_),ref:B,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:A},N))},C=y.forwardRef($);I.Z=C},52688:function(ie,I,e){var l=e(1413),a=e(45987),y=e(67294),h=e(64203),Z=e(85893),T=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],$=y.forwardRef(function(C,x){var m=C.fieldProps,B=C.unCheckedChildren,_=C.checkedChildren,K=C.proFieldProps,A=(0,a.Z)(C,T);return(0,Z.jsx)(h.Z,(0,l.Z)({valueType:"switch",fieldProps:(0,l.Z)({unCheckedChildren:B,checkedChildren:_},m),ref:x,valuePropName:"checked",proFieldProps:K,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},A))});I.Z=$},90672:function(ie,I,e){var l=e(1413),a=e(45987),y=e(67294),h=e(64203),Z=e(85893),T=["fieldProps","proFieldProps"],$=function(x,m){var B=x.fieldProps,_=x.proFieldProps,K=(0,a.Z)(x,T);return(0,Z.jsx)(h.Z,(0,l.Z)({ref:m,valueType:"textarea",fieldProps:B,proFieldProps:_},K))};I.Z=y.forwardRef($)},59549:function(ie,I,e){e.r(I),e.d(I,{default:function(){return We}});var l=e(15009),a=e.n(l),y=e(99289),h=e.n(y),Z=e(9783),T=e.n(Z),$=e(19632),C=e.n($),x=e(80821),m=e(68602),B=e(67255),_=e(36693),K=e(43425),A=e(88641),se=e(74453),N=e(40018),ee=e(66309),ue=e(23345),Oe=e(96074),ce=e(25593),Ee=e(83062),v=e(67294),Le=e(5574),z=e.n(Le),Ue=e(83622),pe=e(184),Se=e(5966),Te=e(64317),Ke=e(52688),Ie=e(90672),he=e(3616),r=e(83403),P=e(87662),f=e(36146),n=e(85893),g=(0,v.forwardRef)(function(F,te){var W=(0,v.useState)(!1),O=z()(W,2),S=O[0],R=O[1],u=(0,v.useRef)(),i=new f.Uo("components.userInvite"),s=new f.Uo("system.user");(0,v.useImperativeHandle)(te,function(){return{edit:function(c){var p;(p=u.current)===null||p===void 0||p.setFieldsValue({username:c.username}),R(!0)},show:function(){var c;(c=u.current)===null||c===void 0||c.resetFields(),R(!0)}}}),v.useEffect(function(){if(S){var d;(d=u.current)===null||d===void 0||d.resetFields()}},[S,u]);var t=function(){var d=h()(a()().mark(function c(){var p,o,L,G,U,me;return a()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.prev=0,M.next=3,(p=u.current)===null||p===void 0?void 0:p.validateFields();case 3:return o=M.sent,L={username:o.username,userRole:o.userRole||"member",email:o.email,userStatus:o.userStatus||"enable",securityPassword:o.securityPassword||!0},M.next=7,(0,m.mX)(L);case 7:if(G=M.sent,L.userRole==="manager"&&(0,m.SS)({username:L.username,menuPermissionNames:r.Wy}),L.userStatus==="disable"&&(0,m.az)({username:L.username,status:1}),!L.email){M.next=15;break}return M.next=13,(0,P.pe)({groupName:"setting",name:"notification"});case 13:me=M.sent,(U=me.data)!==null&&U!==void 0&&(U=U.status)!==null&&U!==void 0&&U.includes("register")&&(0,m.sI)({username:L.username,uri:"".concat(window.location.origin,"/dpanel/ui/user/register?token=").concat(G.data.token)});case 15:return F.onFinish&&F.onFinish(),M.abrupt("return",!0);case 19:return M.prev=19,M.t0=M.catch(0),M.abrupt("return",!1);case 22:case"end":return M.stop()}},c,null,[[0,19]])}));return function(){return d.apply(this,arguments)}}();return(0,n.jsxs)(pe.a,{name:"create",title:i.format("drawerTitle"),open:S,onOpenChange:function(c){if(!c){var p;(p=u.current)===null||p===void 0||p.resetFields()}R(c)},drawerProps:{forceRender:!0,width:he.R_},formRef:u,trigger:(0,n.jsx)(Ue.ZP,{type:"primary",children:i.format("drawerTitle")}),onFinish:h()(a()().mark(function d(){return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,t();case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},d)})),children:[(0,n.jsx)(Se.Z,{label:i.format("formUsername"),name:"username",required:!0,rules:[{required:!0}]}),(0,n.jsx)(Se.Z,{label:i.format("formEmail"),name:"email",placeholder:"",rules:[{type:"email"}]}),(0,n.jsx)(Te.Z,{label:i.format("formUserRole"),name:"userRole",tooltip:i.format("formUserRoleTip"),required:!0,fieldProps:{defaultValue:"member"},options:s.option("listUserRoleOption",["manager","member"])}),(0,n.jsx)(Te.Z,{label:i.format("formUserStatus"),name:"userStatus",fieldProps:{defaultValue:"enable"},required:!0,options:s.option("listStatusOption",["enable","disable"])}),(0,n.jsx)(Ke.Z,{label:i.format("formSecurityPassword"),name:"securityPassword",fieldProps:{defaultChecked:!0}}),(0,n.jsx)(Ie.Z,{label:i.format("formRemark"),name:"remark",fieldProps:{rows:4}})]})}),V=g,Y=e(38345),ge=e(63434),k=e(71230),de=e(15746),Me=e(84567),Pe=e(85265),re=e(63713),je=(0,v.forwardRef)(function(F,te){(0,v.useImperativeHandle)(te,function(){return{show:function(b){return h()(a()().mark(function ae(){var J,Q,oe,$e,Re,le,Ne;return a()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return oe=b.username,$e=b.uri,(J=L.current)===null||J===void 0||J.resetFields(),R(oe),t($e),ve.next=6,(0,m.q4)({username:oe});case 6:if(Re=ve.sent,le=(Q=Re.data)===null||Q===void 0||(Q=Q.permissions)===null||Q===void 0?void 0:Q[$e],!le){ve.next=16;break}return ve.next=11,(0,re.request)(le.uri,{method:"POST"});case 11:Ne=ve.sent,M(Ne.data.list.filter(function(Ae){return le.value.includes(Ae[le.key])}).map(function(Ae){return{id:Ae[le.key],name:Ae[le.showKey]}})),j(le),ve.next=17;break;case 16:M([]);case 17:o(!0);case 18:case"end":return ve.stop()}},ae)}))()}}});var W=(0,v.useState)(""),O=z()(W,2),S=O[0],R=O[1],u=(0,v.useState)(""),i=z()(u,2),s=i[0],t=i[1],d=(0,v.useState)(!1),c=z()(d,2),p=c[0],o=c[1],L=(0,v.useRef)(),G=(0,v.useRef)(),U=(0,v.useState)([]),me=z()(U,2),q=me[0],M=me[1],Ce=(0,v.useState)(),X=z()(Ce,2),E=X[0],j=X[1],D=new f.Uo("components.userPermission");return(0,n.jsx)(Pe.Z,{title:D.format("permissionTitle"),open:p,width:he.R_,destroyOnHidden:!0,onClose:function(){var b;(b=L.current)===null||b===void 0||b.resetFields(),o(!1)},children:(0,n.jsx)(N.Z,{actionRef:G,search:!1,toolBarRender:!1,scroll:{x:"max-content"},columns:[{key:"name",title:f.FD.format("listTitle"),dataIndex:"name"}],rowKey:"id",dataSource:q,rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},tableAlertOptionRender:function(b){var ae=b.selectedRows,J=b.finish,Q=b.loading;return(0,n.jsx)(ue.Z,{size:16,wrap:!0,children:(0,n.jsx)(x.Z,{buttonProps:{danger:!0,type:"primary"},confirmProps:{showCommonConfirm:!0},action:h()(a()().mark(function oe(){return a()().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Q(),Re.abrupt("return",(0,m.V9)({username:S,permission:{uri:s,key:"-",value:ae.map(function(le){return le.id}),showKey:"-"}}).finally(function(){J(!0)}));case 2:case"end":return Re.stop()}},oe)})),onSuccess:function(){return o(!1),!0},children:f.FD.format("listManageDeleteBatch")})})},pagination:!1})})}),fe=je,ne=e(31199),De=(0,v.forwardRef)(function(F,te){(0,v.useImperativeHandle)(te,function(){return{show:function(o){return h()(a()().mark(function L(){var G,U;return a()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:U=o.formData,(G=d.current)===null||G===void 0||G.resetFields(),t(U),R(!0);case 4:case"end":return q.stop()}},L)}))()}}});var W=(0,v.useState)(!1),O=z()(W,2),S=O[0],R=O[1],u=(0,v.useState)({}),i=z()(u,2),s=i[0],t=i[1],d=(0,v.useRef)(),c=new f.Uo("components.userPermission");return(0,n.jsxs)(pe.a,{title:c.format("permissionTitle"),open:S,width:he.R_,formRef:d,onFinish:function(){var p=h()(a()().mark(function o(L){return a()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return F.onChange(L),R(!1),U.abrupt("return",!0);case 3:case"end":return U.stop()}},o)}));return function(o){return p.apply(this,arguments)}}(),initialValues:s,drawerProps:{width:he.R_,destroyOnHidden:!0,onClose:function(){var o;(o=d.current)===null||o===void 0||o.resetFields(),R(!1)}},children:[(0,n.jsx)(ne.Z,{name:"limit",label:c.format("formContainerLimit"),min:0}),(0,n.jsx)(Se.Z,{name:"name",hidden:!0})]})}),be=De,Ze=e(24963),ye=e(60532),Fe=e(60433),xe=e(25449),we=(0,v.forwardRef)(function(F,te){(0,v.useImperativeHandle)(te,function(){return{edit:function(E){return h()(a()().mark(function j(){var D,w,b;return a()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return(D=i.current)===null||D===void 0||D.setFieldValue("username",E),J.next=3,(0,m.J5)({username:E});case 3:w=J.sent,w.data.resource?(b={},w.data.resource.forEach(function(Q){b[Q.name]=Q}),M(b)):M({}),w.data.menus?(w.data.menus.map(function(Q){var oe;(oe=i.current)===null||oe===void 0||oe.setFieldValue(["permission",Q],!0)}),G([].concat(C()(w.data.menus||[]),C()(r.Io)))):G(r.Io),u(!0);case 7:case"end":return J.stop()}},j)}))()}}});var W={canSeeContainerList:r.W6.CONTAINER,canSeeImageRegistry:r.W6.REGISTRY,canSeeComposeList:r.W6.COMPOSE,canSeeSystemAppstore:r.W6.APPSTORE,canSeeSystemEnv:r.W6.DOCKER_ENV},O=(0,v.useState)(!1),S=z()(O,2),R=S[0],u=S[1],i=(0,v.useRef)(),s=(0,v.useContext)(Ze.Z),t=s.message,d=(0,v.useRef)(),c=(0,v.useRef)(),p=(0,v.useState)([]),o=z()(p,2),L=o[0],G=o[1],U=(0,v.useState)({}),me=z()(U,2),q=me[0],M=me[1],Ce=new f.Uo("components.userPermission");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(pe.a,{title:Ce.format("drawerTitle"),open:R,onOpenChange:function(E){var j;!E&&((j=i.current)===null||j===void 0||j.resetFields()),u(E)},drawerProps:{forceRender:!0,width:he.R_},layout:"inline",formRef:i,onValuesChange:function(E,j){var D=Object.keys(E.permission)[0];if(E.permission[D]===!1){for(var w in j.permission)if(w.startsWith(D)){var b;(b=i.current)===null||b===void 0||b.setFieldValue(["permission",w],!1)}}G(Object.keys(j.permission).filter(function(ae){return j.permission[ae]}))},onFinish:function(){var X=h()(a()().mark(function E(j){var D;return a()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return D=j.permission&&Object.keys(j.permission).filter(function(ae){return j.permission[ae]&&!r.Io.includes(ae)}),D.push.apply(D,C()(r.Io.filter(function(ae){return D.some(function(J){return J.startsWith(ae)})}))),b.next=4,(0,m.SS)({username:j.username,menuPermissionNames:D,resources:Object.values(q)});case 4:return t.success(f.FD.format("finish")),b.abrupt("return",!0);case 6:case"end":return b.stop()}},E)}));return function(E){return X.apply(this,arguments)}}(),children:[(0,n.jsx)(fe,{ref:d}),(0,n.jsx)(Se.Z,{name:"username",hidden:!0}),r.d0.map(function(X){return(0,n.jsxs)(Y.Z,{headerBordered:!0,ghost:!0,bodyStyle:{paddingTop:10,paddingBottom:20},title:(0,n.jsx)(ye.Z,{}),subTitle:Ce.format(X.group),children:[(0,n.jsx)(ge.Z,{name:["permission",X.group],valuePropName:"checked",initialValue:!0,hidden:!0}),(0,n.jsx)(k.Z,{gutter:[16,16],children:X.permissions.map(function(E){return(0,n.jsx)(de.Z,{span:6,children:(0,n.jsxs)(xe.Z,{children:[(0,n.jsx)(xe.Z,{noStyle:!0,name:["permission",E],valuePropName:"checked",children:(0,n.jsx)(Me.Z,{disabled:!L.includes(E.substring(0,E.search(/[A-Z][^A-Z]*$/))),children:Ce.format(E)})}),W[E]&&(0,n.jsx)(Ee.Z,{title:Ce.format("dataPermissionButton"),children:(0,n.jsx)(ce.Z.Link,{onClick:function(){var D,w;(D=d.current)===null||D===void 0||D.show({username:((w=i.current)===null||w===void 0?void 0:w.getFieldValue("username"))||"",uri:W[E]||""})},children:(0,n.jsx)(Fe.Z,{})})}),["canSeeContainerListManageCreate"].includes(E)&&(0,n.jsx)(Ee.Z,{title:Ce.format("resourcePermssionButton"),children:(0,n.jsx)(ce.Z.Link,{onClick:function(){var D;(D=c.current)===null||D===void 0||D.show({formData:q[E]||{name:E,limit:0}})},children:(0,n.jsx)(K.Z,{})})})]})},E)})})]},X.group)})]}),(0,n.jsx)(fe,{ref:d}),(0,n.jsx)(be,{onChange:function(E){var j;q[E.name]=E,(0,m.SS)({username:((j=i.current)===null||j===void 0?void 0:j.getFieldValue("username"))||"",menuPermissionNames:L,resources:Object.values(q)})},resourcePermissionsData:q,ref:c})]})}),H=we,Be=e(5251);function We(){var F=(0,v.useRef)(),te=(0,v.useRef)(),W=(0,v.useRef)(),O=new f.Uo("system.user");return(0,n.jsxs)(se._z,{header:{extra:[(0,n.jsx)(V,{ref:te,onFinish:function(){var R,u;!((R=F.current)===null||R===void 0)&&R.reloadAndRest&&((u=F.current)===null||u===void 0||u.reloadAndRest())}},"invite-user")]},children:[(0,n.jsx)(H,{ref:W}),(0,n.jsx)(N.Z,{scroll:{x:"max-content"},rowKey:"username",columns:[{title:f.FD.format("listUsername"),ellipsis:!0,dataIndex:"username"},{title:O.format("listEmail"),ellipsis:!0,dataIndex:"email"},{title:O.format("listUserRole"),ellipsis:!0,width:100,dataIndex:"userRole",valueEnum:Object.assign.apply(Object,[{}].concat(C()(O.option("listUserRoleOption",["manager","member"]).map(function(S){return T()({},S.value,{text:S.label,status:S.value})})))),render:function(R,u){return(0,n.jsx)(ee.Z,{color:O.format("listUserRoleColorOption."+u.userRole),children:O.format("listUserRoleOption."+u.userRole)})}},{title:O.format("listRegisterAt"),ellipsis:!0,render:function(R,u,i,s){return(0,n.jsx)("div",{children:(0,Be.ZM)(u.registerAt*1e3)},u.username)},search:!1},{title:O.format("listRemark"),ellipsis:!0,dataIndex:"remark",search:!1},{title:O.format("listStatus"),width:100,dataIndex:"status",search:!1,render:function(R,u){return(0,n.jsx)(ee.Z,{color:O.format("listStatusColorOption."+u.status),children:O.format("listStatusOption."+u.status)})}},{title:f.FD.format("listManage"),width:100,search:!1,fixed:"right",render:function(R,u,i){return(0,n.jsxs)(ue.Z,{split:(0,n.jsx)(Oe.Z,{type:"vertical"}),children:[(0,n.jsx)(ce.Z.Link,{copyable:{tooltips:O.format("listManageCopyUrl"),icon:[(0,n.jsx)(_.Z,{})],text:function(){var s=h()(a()().mark(function d(){var c;return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,m.u1)({username:u.username});case 2:return c=o.sent,o.abrupt("return","".concat(window.location.origin,"/dpanel/ui/user/register?token=").concat(c.data.token));case 4:case"end":return o.stop()}},d)}));function t(){return s.apply(this,arguments)}return t}()},style:{color:"inherit"}},"copy-"+i),(0,n.jsx)(Ee.Z,{title:O.format("listManageSetting"),children:(0,n.jsx)(ce.Z.Link,{onClick:function(){var t;(t=W.current)===null||t===void 0||t.edit(u.username)},children:(0,n.jsx)(K.Z,{})})}),(0,n.jsx)(x.Z,{buttonProps:{ghost:!0,type:"link",icon:(0,n.jsx)(A.Z,{})},tips:O.format("listManageSendEmail"),action:h()(a()().mark(function s(){var t;return a()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,m.u1)({username:u.username});case 2:return t=c.sent,c.abrupt("return",(0,m.sI)({username:u.username,uri:"".concat(window.location.origin,"/dpanel/ui/user/register?token=").concat(t.data.token)}));case 4:case"end":return c.stop()}},s)}))})]})}}],request:function(){var S=h()(a()().mark(function R(u){var i;return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.lE)();case 2:return i=t.sent,t.abrupt("return",{data:i.data.list,success:!0,total:i.data.list.length});case 4:case"end":return t.stop()}},R)}));return function(R){return S.apply(this,arguments)}}(),rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},actionRef:F,tableAlertOptionRender:function(R){var u=R.selectedRowKeys;return(0,n.jsxs)(ue.Z,{size:16,children:[(0,n.jsx)(x.Z,{action:h()(a()().mark(function i(){var s,t,d,c;return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:s=0,t=u;case 1:if(!(s<t.length)){o.next=9;break}return d=t[s],o.next=5,(0,m.az)({username:d,status:2});case 5:c=o.sent;case 6:s++,o.next=1;break;case 9:return o.abrupt("return",!0);case 10:case"end":return o.stop()}},i)})),onSuccess:function(){var s,t;return!((s=F.current)===null||s===void 0)&&s.reloadAndRest&&((t=F.current)===null||t===void 0||t.reloadAndRest()),!0},onError:function(){var s,t;return!((s=F.current)===null||s===void 0)&&s.reset&&((t=F.current)===null||t===void 0||t.reset()),!0},children:f.FD.format("listManageEnable")},"batchEnable"),(0,n.jsx)(x.Z,{buttonProps:{danger:!0},action:h()(a()().mark(function i(){var s,t,d,c;return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:s=0,t=u;case 1:if(!(s<t.length)){o.next=9;break}return d=t[s],o.next=5,(0,m.az)({username:d,status:1});case 5:c=o.sent;case 6:s++,o.next=1;break;case 9:return o.abrupt("return",!0);case 10:case"end":return o.stop()}},i)})),onSuccess:function(){var s,t;return!((s=F.current)===null||s===void 0)&&s.reloadAndRest&&((t=F.current)===null||t===void 0||t.reloadAndRest()),!0},onError:function(){var s,t;return!((s=F.current)===null||s===void 0)&&s.reset&&((t=F.current)===null||t===void 0||t.reset()),!0},children:f.FD.format("listManageDisable")},"batchDisable")]})},pagination:(0,B.Oh)()})]})}},66309:function(ie,I,e){e.d(I,{Z:function(){return he}});var l=e(67294),a=e(93967),y=e.n(a),h=e(98423),Z=e(98787),T=e(69760),$=e(96159),C=e(45353),x=e(53124),m=e(11568),B=e(15063),_=e(14747),K=e(83262),A=e(83559);const se=r=>{const{paddingXXS:P,lineWidth:f,tagPaddingHorizontal:n,componentCls:g,calc:V}=r,Y=V(n).sub(f).equal(),ge=V(P).sub(f).equal();return{[g]:Object.assign(Object.assign({},(0,_.Wf)(r)),{display:"inline-block",height:"auto",marginInlineEnd:r.marginXS,paddingInline:Y,fontSize:r.tagFontSize,lineHeight:r.tagLineHeight,whiteSpace:"nowrap",background:r.defaultBg,border:`${(0,m.bf)(r.lineWidth)} ${r.lineType} ${r.colorBorder}`,borderRadius:r.borderRadiusSM,opacity:1,transition:`all ${r.motionDurationMid}`,textAlign:"start",position:"relative",[`&${g}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:r.defaultColor},[`${g}-close-icon`]:{marginInlineStart:ge,fontSize:r.tagIconSize,color:r.colorIcon,cursor:"pointer",transition:`all ${r.motionDurationMid}`,"&:hover":{color:r.colorTextHeading}},[`&${g}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${r.iconCls}-close, ${r.iconCls}-close:hover`]:{color:r.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${g}-checkable-checked):hover`]:{color:r.colorPrimary,backgroundColor:r.colorFillSecondary},"&:active, &-checked":{color:r.colorTextLightSolid},"&-checked":{backgroundColor:r.colorPrimary,"&:hover":{backgroundColor:r.colorPrimaryHover}},"&:active":{backgroundColor:r.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${r.iconCls} + span, > span + ${r.iconCls}`]:{marginInlineStart:Y}}),[`${g}-borderless`]:{borderColor:"transparent",background:r.tagBorderlessBg}}},N=r=>{const{lineWidth:P,fontSizeIcon:f,calc:n}=r,g=r.fontSizeSM;return(0,K.IX)(r,{tagFontSize:g,tagLineHeight:(0,m.bf)(n(r.lineHeightSM).mul(g).equal()),tagIconSize:n(f).sub(n(P).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:r.defaultBg})},ee=r=>({defaultBg:new B.t(r.colorFillQuaternary).onBackground(r.colorBgContainer).toHexString(),defaultColor:r.colorText});var ue=(0,A.I$)("Tag",r=>{const P=N(r);return se(P)},ee),Oe=function(r,P){var f={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&P.indexOf(n)<0&&(f[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,n=Object.getOwnPropertySymbols(r);g<n.length;g++)P.indexOf(n[g])<0&&Object.prototype.propertyIsEnumerable.call(r,n[g])&&(f[n[g]]=r[n[g]]);return f},Ee=l.forwardRef((r,P)=>{const{prefixCls:f,style:n,className:g,checked:V,children:Y,icon:ge,onChange:k,onClick:de}=r,Me=Oe(r,["prefixCls","style","className","checked","children","icon","onChange","onClick"]),{getPrefixCls:Pe,tag:re}=l.useContext(x.E_),je=ye=>{k==null||k(!V),de==null||de(ye)},fe=Pe("tag",f),[ne,De,be]=ue(fe),Ze=y()(fe,`${fe}-checkable`,{[`${fe}-checkable-checked`]:V},re==null?void 0:re.className,g,De,be);return ne(l.createElement("span",Object.assign({},Me,{ref:P,style:Object.assign(Object.assign({},n),re==null?void 0:re.style),className:Ze,onClick:je}),ge,l.createElement("span",null,Y)))}),v=e(98719);const Le=r=>(0,v.Z)(r,(P,{textColor:f,lightBorderColor:n,lightColor:g,darkColor:V})=>({[`${r.componentCls}${r.componentCls}-${P}`]:{color:f,background:g,borderColor:n,"&-inverse":{color:r.colorTextLightSolid,background:V,borderColor:V},[`&${r.componentCls}-borderless`]:{borderColor:"transparent"}}}));var z=(0,A.bk)(["Tag","preset"],r=>{const P=N(r);return Le(P)},ee);function Ue(r){return typeof r!="string"?r:r.charAt(0).toUpperCase()+r.slice(1)}const pe=(r,P,f)=>{const n=Ue(f);return{[`${r.componentCls}${r.componentCls}-${P}`]:{color:r[`color${f}`],background:r[`color${n}Bg`],borderColor:r[`color${n}Border`],[`&${r.componentCls}-borderless`]:{borderColor:"transparent"}}}};var Se=(0,A.bk)(["Tag","status"],r=>{const P=N(r);return[pe(P,"success","Success"),pe(P,"processing","Info"),pe(P,"error","Error"),pe(P,"warning","Warning")]},ee),Te=function(r,P){var f={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&P.indexOf(n)<0&&(f[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,n=Object.getOwnPropertySymbols(r);g<n.length;g++)P.indexOf(n[g])<0&&Object.prototype.propertyIsEnumerable.call(r,n[g])&&(f[n[g]]=r[n[g]]);return f};const Ie=l.forwardRef((r,P)=>{const{prefixCls:f,className:n,rootClassName:g,style:V,children:Y,icon:ge,color:k,onClose:de,bordered:Me=!0,visible:Pe}=r,re=Te(r,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:je,direction:fe,tag:ne}=l.useContext(x.E_),[De,be]=l.useState(!0),Ze=(0,h.Z)(re,["closeIcon","closable"]);l.useEffect(()=>{Pe!==void 0&&be(Pe)},[Pe]);const ye=(0,Z.o2)(k),Fe=(0,Z.yT)(k),xe=ye||Fe,we=Object.assign(Object.assign({backgroundColor:k&&!xe?k:void 0},ne==null?void 0:ne.style),V),H=je("tag",f),[Be,We,F]=ue(H),te=y()(H,ne==null?void 0:ne.className,{[`${H}-${k}`]:xe,[`${H}-has-color`]:k&&!xe,[`${H}-hidden`]:!De,[`${H}-rtl`]:fe==="rtl",[`${H}-borderless`]:!Me},n,g,We,F),W=s=>{s.stopPropagation(),de==null||de(s),!s.defaultPrevented&&be(!1)},[,O]=(0,T.b)((0,T.w)(r),(0,T.w)(ne),{closable:!1,closeIconRender:s=>{const t=l.createElement("span",{className:`${H}-close-icon`,onClick:W},s);return(0,$.wm)(s,t,d=>({onClick:c=>{var p;(p=d==null?void 0:d.onClick)===null||p===void 0||p.call(d,c),W(c)},className:y()(d==null?void 0:d.className,`${H}-close-icon`)}))}}),S=typeof re.onClick=="function"||Y&&Y.type==="a",R=ge||null,u=R?l.createElement(l.Fragment,null,R,Y&&l.createElement("span",null,Y)):Y,i=l.createElement("span",Object.assign({},Ze,{ref:P,className:te,style:we}),u,O,ye&&l.createElement(z,{key:"preset",prefixCls:H}),Fe&&l.createElement(Se,{key:"status",prefixCls:H}));return Be(S?l.createElement(C.Z,{component:"Tag"},i):i)});Ie.CheckableTag=Ee;var he=Ie}}]);
