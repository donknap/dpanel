"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2958],{36693:function(ie,I,e){var l=e(87462),a=e(67294),y=e(80111),h=e(84089),Z=function(C,x){return a.createElement(h.Z,(0,l.Z)({},C,{ref:x,icon:y.Z}))},T=a.forwardRef(Z);I.Z=T},88641:function(ie,I,e){e.d(I,{Z:function(){return C}});var l=e(87462),a=e(67294),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},h=y,Z=e(84089),T=function(m,B){return a.createElement(Z.Z,(0,l.Z)({},m,{ref:B,icon:h}))},$=a.forwardRef(T),C=$},60532:function(ie,I,e){e.d(I,{Z:function(){return C}});var l=e(87462),a=e(67294),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"}}]},name:"menu",theme:"outlined"},h=y,Z=e(84089),T=function(m,B){return a.createElement(Z.Z,(0,l.Z)({},m,{ref:B,icon:h}))},$=a.forwardRef(T),C=$},60433:function(ie,I,e){var l=e(87462),a=e(67294),y=e(69782),h=e(84089),Z=function(C,x){return a.createElement(h.Z,(0,l.Z)({},C,{ref:x,icon:y.Z}))},T=a.forwardRef(Z);I.Z=T},63434:function(ie,I,e){var l=e(1413),a=e(45987),y=e(22270),h=e(84567),Z=e(67294),T=e(90789),$=e(40284),C=e(85893),x=["options","fieldProps","proFieldProps","valueEnum"],m=Z.forwardRef(function(A,te){var z=A.options,_=A.fieldProps,ue=A.proFieldProps,Oe=A.valueEnum,ce=(0,a.Z)(A,x);return(0,C.jsx)($.Z,(0,l.Z)({ref:te,valueType:"checkbox",valueEnum:(0,y.h)(Oe,void 0),fieldProps:(0,l.Z)({options:z},_),lightProps:(0,l.Z)({labelFormatter:function(){return(0,C.jsx)($.Z,(0,l.Z)({ref:te,valueType:"checkbox",mode:"read",valueEnum:(0,y.h)(Oe,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({options:z},_),proFieldProps:ue},ce))}},ce.lightProps),proFieldProps:ue},ce))}),B=Z.forwardRef(function(A,te){var z=A.fieldProps,_=A.children;return(0,C.jsx)(h.Z,(0,l.Z)((0,l.Z)({ref:te},z),{},{children:_}))}),q=(0,T.G)(B,{valuePropName:"checked"}),N=q;N.Group=m,I.Z=N},31199:function(ie,I,e){var l=e(1413),a=e(45987),y=e(67294),h=e(40284),Z=e(85893),T=["fieldProps","min","proFieldProps","max"],$=function(m,B){var q=m.fieldProps,N=m.min,A=m.proFieldProps,te=m.max,z=(0,a.Z)(m,T);return(0,Z.jsx)(h.Z,(0,l.Z)({valueType:"digit",fieldProps:(0,l.Z)({min:N,max:te},q),ref:B,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:A},z))},C=y.forwardRef($);I.Z=C},52688:function(ie,I,e){var l=e(1413),a=e(45987),y=e(67294),h=e(40284),Z=e(85893),T=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],$=y.forwardRef(function(C,x){var m=C.fieldProps,B=C.unCheckedChildren,q=C.checkedChildren,N=C.proFieldProps,A=(0,a.Z)(C,T);return(0,Z.jsx)(h.Z,(0,l.Z)({valueType:"switch",fieldProps:(0,l.Z)({unCheckedChildren:B,checkedChildren:q},m),ref:x,valuePropName:"checked",proFieldProps:N,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},A))});I.Z=$},90672:function(ie,I,e){var l=e(1413),a=e(45987),y=e(67294),h=e(40284),Z=e(85893),T=["fieldProps","proFieldProps"],$=function(x,m){var B=x.fieldProps,q=x.proFieldProps,N=(0,a.Z)(x,T);return(0,Z.jsx)(h.Z,(0,l.Z)({ref:m,valueType:"textarea",fieldProps:B,proFieldProps:q},N))};I.Z=y.forwardRef($)},59549:function(ie,I,e){e.r(I),e.d(I,{default:function(){return We}});var l=e(15009),a=e.n(l),y=e(99289),h=e.n(y),Z=e(9783),T=e.n(Z),$=e(19632),C=e.n($),x=e(80821),m=e(68602),B=e(67255),q=e(36693),N=e(43425),A=e(88641),te=e(74453),z=e(40018),_=e(66309),ue=e(42075),Oe=e(96074),ce=e(25593),Ee=e(83062),v=e(67294),Ae=e(5574),V=e.n(Ae),Le=e(83622),pe=e(184),Se=e(5966),De=e(64317),Ke=e(52688),Ze=e(90672),he=e(3616),r=e(83403),P=e(87662),f=e(36146),n=e(85893),g=(0,v.forwardRef)(function(F,re){var K=(0,v.useState)(!1),O=V()(K,2),S=O[0],R=O[1],u=(0,v.useRef)(),i=new f.Uo("components.userInvite"),s=new f.Uo("system.user");(0,v.useImperativeHandle)(re,function(){return{edit:function(c){var p;(p=u.current)===null||p===void 0||p.setFieldsValue({username:c.username}),R(!0)},show:function(){var c;(c=u.current)===null||c===void 0||c.resetFields(),R(!0)}}}),v.useEffect(function(){if(S){var d;(d=u.current)===null||d===void 0||d.resetFields()}},[S,u]);var t=function(){var d=h()(a()().mark(function c(){var p,o,L,X,U,me;return a()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.prev=0,M.next=3,(p=u.current)===null||p===void 0?void 0:p.validateFields();case 3:return o=M.sent,L={username:o.username,userRole:o.userRole||"member",email:o.email,userStatus:o.userStatus||"enable",securityPassword:o.securityPassword||!0},M.next=7,(0,m.mX)(L);case 7:if(X=M.sent,L.userRole==="manager"&&(0,m.SS)({username:L.username,menuPermissionNames:r.Wy}),L.userStatus==="disable"&&(0,m.az)({username:L.username,status:1}),!L.email){M.next=15;break}return M.next=13,(0,P.pe)({groupName:"setting",name:"notification"});case 13:me=M.sent,(U=me.data)!==null&&U!==void 0&&(U=U.status)!==null&&U!==void 0&&U.includes("register")&&(0,m.sI)({username:L.username,uri:"".concat(window.location.origin,"/dpanel/ui/user/register?token=").concat(X.data.token)});case 15:return F.onFinish&&F.onFinish(),M.abrupt("return",!0);case 19:return M.prev=19,M.t0=M.catch(0),M.abrupt("return",!1);case 22:case"end":return M.stop()}},c,null,[[0,19]])}));return function(){return d.apply(this,arguments)}}();return(0,n.jsxs)(pe.a,{name:"create",title:i.format("drawerTitle"),open:S,onOpenChange:function(c){if(!c){var p;(p=u.current)===null||p===void 0||p.resetFields()}R(c)},drawerProps:{forceRender:!0,width:he.R_},formRef:u,trigger:(0,n.jsx)(Le.ZP,{type:"primary",children:i.format("drawerTitle")}),onFinish:h()(a()().mark(function d(){return a()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,t();case 2:return p.abrupt("return",p.sent);case 3:case"end":return p.stop()}},d)})),children:[(0,n.jsx)(Se.Z,{label:i.format("formUsername"),name:"username",required:!0,rules:[{required:!0}]}),(0,n.jsx)(Se.Z,{label:i.format("formEmail"),name:"email",placeholder:"",rules:[{type:"email"}]}),(0,n.jsx)(De.Z,{label:i.format("formUserRole"),name:"userRole",tooltip:i.format("formUserRoleTip"),required:!0,fieldProps:{defaultValue:"member"},options:s.option("listUserRoleOption",["manager","member"])}),(0,n.jsx)(De.Z,{label:i.format("formUserStatus"),name:"userStatus",fieldProps:{defaultValue:"enable"},required:!0,options:s.option("listStatusOption",["enable","disable"])}),(0,n.jsx)(Ke.Z,{label:i.format("formSecurityPassword"),name:"securityPassword",fieldProps:{defaultChecked:!0}}),(0,n.jsx)(Ze.Z,{label:i.format("formRemark"),name:"remark",fieldProps:{rows:4}})]})}),H=g,W=e(38345),de=e(63434),ae=e(71230),ge=e(15746),se=e(84567),Pe=e(85265),fe=e(63713),Me=(0,v.forwardRef)(function(F,re){(0,v.useImperativeHandle)(re,function(){return{show:function(b){return h()(a()().mark(function ne(){var Q,Y,oe,Fe,Re,le,Ne;return a()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return oe=b.username,Fe=b.uri,(Q=L.current)===null||Q===void 0||Q.resetFields(),R(oe),t(Fe),ve.next=6,(0,m.q4)({username:oe});case 6:if(Re=ve.sent,le=(Y=Re.data)===null||Y===void 0||(Y=Y.permissions)===null||Y===void 0?void 0:Y[Fe],!le){ve.next=16;break}return ve.next=11,(0,fe.request)(le.uri,{method:"POST"});case 11:Ne=ve.sent,M(Ne.data.list.filter(function($e){return le.value.includes($e[le.key])}).map(function($e){return{id:$e[le.key],name:$e[le.showKey]}})),j(le),ve.next=17;break;case 16:M([]);case 17:o(!0);case 18:case"end":return ve.stop()}},ne)}))()}}});var K=(0,v.useState)(""),O=V()(K,2),S=O[0],R=O[1],u=(0,v.useState)(""),i=V()(u,2),s=i[0],t=i[1],d=(0,v.useState)(!1),c=V()(d,2),p=c[0],o=c[1],L=(0,v.useRef)(),X=(0,v.useRef)(),U=(0,v.useState)([]),me=V()(U,2),k=me[0],M=me[1],Ce=(0,v.useState)(),J=V()(Ce,2),E=J[0],j=J[1],D=new f.Uo("components.userPermission");return(0,n.jsx)(Pe.Z,{title:D.format("permissionTitle"),open:p,width:he.R_,destroyOnHidden:!0,onClose:function(){var b;(b=L.current)===null||b===void 0||b.resetFields(),o(!1)},children:(0,n.jsx)(z.Z,{actionRef:X,search:!1,toolBarRender:!1,scroll:{x:"max-content"},columns:[{key:"name",title:f.FD.format("listTitle"),dataIndex:"name"}],rowKey:"id",dataSource:k,rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},tableAlertOptionRender:function(b){var ne=b.selectedRows,Q=b.finish,Y=b.loading;return(0,n.jsx)(ue.Z,{size:16,wrap:!0,children:(0,n.jsx)(x.Z,{buttonProps:{danger:!0,type:"primary"},confirmProps:{showCommonConfirm:!0},action:h()(a()().mark(function oe(){return a()().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Y(),Re.abrupt("return",(0,m.V9)({username:S,permission:{uri:s,key:"-",value:ne.map(function(le){return le.id}),showKey:"-"}}).finally(function(){Q(!0)}));case 2:case"end":return Re.stop()}},oe)})),onSuccess:function(){return o(!1),!0},children:f.FD.format("listManageDeleteBatch")})})},pagination:!1})})}),be=Me,ee=e(31199),je=(0,v.forwardRef)(function(F,re){(0,v.useImperativeHandle)(re,function(){return{show:function(o){return h()(a()().mark(function L(){var X,U;return a()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:U=o.formData,(X=d.current)===null||X===void 0||X.resetFields(),t(U),R(!0);case 4:case"end":return k.stop()}},L)}))()}}});var K=(0,v.useState)(!1),O=V()(K,2),S=O[0],R=O[1],u=(0,v.useState)({}),i=V()(u,2),s=i[0],t=i[1],d=(0,v.useRef)(),c=new f.Uo("components.userPermission");return(0,n.jsxs)(pe.a,{title:c.format("permissionTitle"),open:S,width:he.R_,formRef:d,onFinish:function(){var p=h()(a()().mark(function o(L){return a()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return F.onChange(L),R(!1),U.abrupt("return",!0);case 3:case"end":return U.stop()}},o)}));return function(o){return p.apply(this,arguments)}}(),initialValues:s,drawerProps:{width:he.R_,destroyOnHidden:!0,onClose:function(){var o;(o=d.current)===null||o===void 0||o.resetFields(),R(!1)}},children:[(0,n.jsx)(ee.Z,{name:"limit",label:c.format("formContainerLimit"),min:0}),(0,n.jsx)(Se.Z,{name:"name",hidden:!0})]})}),ye=je,Ue=e(24963),Te=e(60532),Ie=e(60433),xe=e(25449),we=(0,v.forwardRef)(function(F,re){(0,v.useImperativeHandle)(re,function(){return{edit:function(E){return h()(a()().mark(function j(){var D,w,b;return a()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return(D=i.current)===null||D===void 0||D.setFieldValue("username",E),Q.next=3,(0,m.J5)({username:E});case 3:w=Q.sent,w.data.resource?(b={},w.data.resource.forEach(function(Y){b[Y.name]=Y}),M(b)):M({}),w.data.menus?(w.data.menus.map(function(Y){var oe;(oe=i.current)===null||oe===void 0||oe.setFieldValue(["permission",Y],!0)}),X([].concat(C()(w.data.menus||[]),C()(r.Io)))):X(r.Io),u(!0);case 7:case"end":return Q.stop()}},j)}))()}}});var K={canSeeContainerList:r.W6.CONTAINER,canSeeImageRegistry:r.W6.REGISTRY,canSeeComposeList:r.W6.COMPOSE,canSeeSystemAppstore:r.W6.APPSTORE,canSeeSystemEnv:r.W6.DOCKER_ENV},O=(0,v.useState)(!1),S=V()(O,2),R=S[0],u=S[1],i=(0,v.useRef)(),s=(0,v.useContext)(Ue.Z),t=s.message,d=(0,v.useRef)(),c=(0,v.useRef)(),p=(0,v.useState)([]),o=V()(p,2),L=o[0],X=o[1],U=(0,v.useState)({}),me=V()(U,2),k=me[0],M=me[1],Ce=new f.Uo("components.userPermission");return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(pe.a,{title:Ce.format("drawerTitle"),open:R,onOpenChange:function(E){var j;!E&&((j=i.current)===null||j===void 0||j.resetFields()),u(E)},drawerProps:{forceRender:!0,width:he.R_},layout:"inline",formRef:i,onValuesChange:function(E,j){var D=Object.keys(E.permission)[0];if(E.permission[D]===!1){for(var w in j.permission)if(w.startsWith(D)){var b;(b=i.current)===null||b===void 0||b.setFieldValue(["permission",w],!1)}}X(Object.keys(j.permission).filter(function(ne){return j.permission[ne]}))},onFinish:function(){var J=h()(a()().mark(function E(j){var D;return a()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return D=j.permission&&Object.keys(j.permission).filter(function(ne){return j.permission[ne]&&!r.Io.includes(ne)}),D.push.apply(D,C()(r.Io.filter(function(ne){return D.some(function(Q){return Q.startsWith(ne)})}))),b.next=4,(0,m.SS)({username:j.username,menuPermissionNames:D,resources:Object.values(k)});case 4:return t.success(f.FD.format("finish")),b.abrupt("return",!0);case 6:case"end":return b.stop()}},E)}));return function(E){return J.apply(this,arguments)}}(),children:[(0,n.jsx)(be,{ref:d}),(0,n.jsx)(Se.Z,{name:"username",hidden:!0}),r.d0.map(function(J){return(0,n.jsxs)(W.Z,{headerBordered:!0,ghost:!0,bodyStyle:{paddingTop:10,paddingBottom:20},title:(0,n.jsx)(Te.Z,{}),subTitle:Ce.format(J.group),children:[(0,n.jsx)(de.Z,{name:["permission",J.group],valuePropName:"checked",initialValue:!0,hidden:!0}),(0,n.jsx)(ae.Z,{gutter:[16,16],children:J.permissions.map(function(E){return(0,n.jsx)(ge.Z,{span:6,children:(0,n.jsxs)(xe.Z,{children:[(0,n.jsx)(xe.Z,{noStyle:!0,name:["permission",E],valuePropName:"checked",children:(0,n.jsx)(se.Z,{disabled:!L.includes(E.substring(0,E.search(/[A-Z][^A-Z]*$/))),children:Ce.format(E)})}),K[E]&&(0,n.jsx)(Ee.Z,{title:Ce.format("dataPermissionButton"),children:(0,n.jsx)(ce.Z.Link,{onClick:function(){var D,w;(D=d.current)===null||D===void 0||D.show({username:((w=i.current)===null||w===void 0?void 0:w.getFieldValue("username"))||"",uri:K[E]||""})},children:(0,n.jsx)(Ie.Z,{})})}),["canSeeContainerListManageCreate"].includes(E)&&(0,n.jsx)(Ee.Z,{title:Ce.format("resourcePermssionButton"),children:(0,n.jsx)(ce.Z.Link,{onClick:function(){var D;(D=c.current)===null||D===void 0||D.show({formData:k[E]||{name:E,limit:0}})},children:(0,n.jsx)(N.Z,{})})})]})},E)})})]},J.group)})]}),(0,n.jsx)(be,{ref:d}),(0,n.jsx)(ye,{onChange:function(E){var j;k[E.name]=E,(0,m.SS)({username:((j=i.current)===null||j===void 0?void 0:j.getFieldValue("username"))||"",menuPermissionNames:L,resources:Object.values(k)})},resourcePermissionsData:k,ref:c})]})}),G=we,Be=e(5251);function We(){var F=(0,v.useRef)(),re=(0,v.useRef)(),K=(0,v.useRef)(),O=new f.Uo("system.user");return(0,n.jsxs)(te._z,{header:{extra:[(0,n.jsx)(H,{ref:re,onFinish:function(){var R,u;!((R=F.current)===null||R===void 0)&&R.reloadAndRest&&((u=F.current)===null||u===void 0||u.reloadAndRest())}},"invite-user")]},children:[(0,n.jsx)(G,{ref:K}),(0,n.jsx)(z.Z,{scroll:{x:"max-content"},rowKey:"username",columns:[{title:f.FD.format("listUsername"),ellipsis:!0,dataIndex:"username"},{title:O.format("listEmail"),ellipsis:!0,dataIndex:"email"},{title:O.format("listUserRole"),ellipsis:!0,width:100,dataIndex:"userRole",valueEnum:Object.assign.apply(Object,[{}].concat(C()(O.option("listUserRoleOption",["manager","member"]).map(function(S){return T()({},S.value,{text:S.label,status:S.value})})))),render:function(R,u){return(0,n.jsx)(_.Z,{color:O.format("listUserRoleColorOption."+u.userRole),children:O.format("listUserRoleOption."+u.userRole)})}},{title:O.format("listRegisterAt"),ellipsis:!0,render:function(R,u,i,s){return(0,n.jsx)("div",{children:(0,Be.ZM)(u.registerAt*1e3)},u.username)},search:!1},{title:O.format("listRemark"),ellipsis:!0,dataIndex:"remark",search:!1},{title:O.format("listStatus"),width:100,dataIndex:"status",search:!1,render:function(R,u){return(0,n.jsx)(_.Z,{color:O.format("listStatusColorOption."+u.status),children:O.format("listStatusOption."+u.status)})}},{title:f.FD.format("listManage"),width:100,search:!1,fixed:"right",render:function(R,u,i){return(0,n.jsxs)(ue.Z,{split:(0,n.jsx)(Oe.Z,{type:"vertical"}),children:[(0,n.jsx)(ce.Z.Link,{copyable:{tooltips:O.format("listManageCopyUrl"),icon:[(0,n.jsx)(q.Z,{})],text:function(){var s=h()(a()().mark(function d(){var c;return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,m.u1)({username:u.username});case 2:return c=o.sent,o.abrupt("return","".concat(window.location.origin,"/dpanel/ui/user/register?token=").concat(c.data.token));case 4:case"end":return o.stop()}},d)}));function t(){return s.apply(this,arguments)}return t}()},style:{color:"inherit"}},"copy-"+i),(0,n.jsx)(Ee.Z,{title:O.format("listManageSetting"),children:(0,n.jsx)(ce.Z.Link,{onClick:function(){var t;(t=K.current)===null||t===void 0||t.edit(u.username)},children:(0,n.jsx)(N.Z,{})})}),(0,n.jsx)(x.Z,{buttonProps:{ghost:!0,type:"link",icon:(0,n.jsx)(A.Z,{})},tips:O.format("listManageSendEmail"),action:h()(a()().mark(function s(){var t;return a()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,m.u1)({username:u.username});case 2:return t=c.sent,c.abrupt("return",(0,m.sI)({username:u.username,uri:"".concat(window.location.origin,"/dpanel/ui/user/register?token=").concat(t.data.token)}));case 4:case"end":return c.stop()}},s)}))})]})}}],request:function(){var S=h()(a()().mark(function R(u){var i;return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.lE)();case 2:return i=t.sent,t.abrupt("return",{data:i.data.list,success:!0,total:i.data.list.length});case 4:case"end":return t.stop()}},R)}));return function(R){return S.apply(this,arguments)}}(),rowSelection:{defaultSelectedRowKeys:[],alwaysShowAlert:!0},actionRef:F,tableAlertOptionRender:function(R){var u=R.selectedRowKeys;return(0,n.jsxs)(ue.Z,{size:16,children:[(0,n.jsx)(x.Z,{action:h()(a()().mark(function i(){var s,t,d,c;return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:s=0,t=u;case 1:if(!(s<t.length)){o.next=9;break}return d=t[s],o.next=5,(0,m.az)({username:d,status:2});case 5:c=o.sent;case 6:s++,o.next=1;break;case 9:return o.abrupt("return",!0);case 10:case"end":return o.stop()}},i)})),onSuccess:function(){var s,t;return!((s=F.current)===null||s===void 0)&&s.reloadAndRest&&((t=F.current)===null||t===void 0||t.reloadAndRest()),!0},onError:function(){var s,t;return!((s=F.current)===null||s===void 0)&&s.reset&&((t=F.current)===null||t===void 0||t.reset()),!0},children:f.FD.format("listManageEnable")},"batchEnable"),(0,n.jsx)(x.Z,{buttonProps:{danger:!0},action:h()(a()().mark(function i(){var s,t,d,c;return a()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:s=0,t=u;case 1:if(!(s<t.length)){o.next=9;break}return d=t[s],o.next=5,(0,m.az)({username:d,status:1});case 5:c=o.sent;case 6:s++,o.next=1;break;case 9:return o.abrupt("return",!0);case 10:case"end":return o.stop()}},i)})),onSuccess:function(){var s,t;return!((s=F.current)===null||s===void 0)&&s.reloadAndRest&&((t=F.current)===null||t===void 0||t.reloadAndRest()),!0},onError:function(){var s,t;return!((s=F.current)===null||s===void 0)&&s.reset&&((t=F.current)===null||t===void 0||t.reset()),!0},children:f.FD.format("listManageDisable")},"batchDisable")]})},pagination:(0,B.Oh)()})]})}},66309:function(ie,I,e){e.d(I,{Z:function(){return he}});var l=e(67294),a=e(93967),y=e.n(a),h=e(98423),Z=e(98787),T=e(69760),$=e(96159),C=e(45353),x=e(53124),m=e(11568),B=e(15063),q=e(14747),N=e(83262),A=e(83559);const te=r=>{const{paddingXXS:P,lineWidth:f,tagPaddingHorizontal:n,componentCls:g,calc:H}=r,W=H(n).sub(f).equal(),de=H(P).sub(f).equal();return{[g]:Object.assign(Object.assign({},(0,q.Wf)(r)),{display:"inline-block",height:"auto",marginInlineEnd:r.marginXS,paddingInline:W,fontSize:r.tagFontSize,lineHeight:r.tagLineHeight,whiteSpace:"nowrap",background:r.defaultBg,border:`${(0,m.bf)(r.lineWidth)} ${r.lineType} ${r.colorBorder}`,borderRadius:r.borderRadiusSM,opacity:1,transition:`all ${r.motionDurationMid}`,textAlign:"start",position:"relative",[`&${g}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:r.defaultColor},[`${g}-close-icon`]:{marginInlineStart:de,fontSize:r.tagIconSize,color:r.colorIcon,cursor:"pointer",transition:`all ${r.motionDurationMid}`,"&:hover":{color:r.colorTextHeading}},[`&${g}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${r.iconCls}-close, ${r.iconCls}-close:hover`]:{color:r.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${g}-checkable-checked):hover`]:{color:r.colorPrimary,backgroundColor:r.colorFillSecondary},"&:active, &-checked":{color:r.colorTextLightSolid},"&-checked":{backgroundColor:r.colorPrimary,"&:hover":{backgroundColor:r.colorPrimaryHover}},"&:active":{backgroundColor:r.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${r.iconCls} + span, > span + ${r.iconCls}`]:{marginInlineStart:W}}),[`${g}-borderless`]:{borderColor:"transparent",background:r.tagBorderlessBg}}},z=r=>{const{lineWidth:P,fontSizeIcon:f,calc:n}=r,g=r.fontSizeSM;return(0,N.IX)(r,{tagFontSize:g,tagLineHeight:(0,m.bf)(n(r.lineHeightSM).mul(g).equal()),tagIconSize:n(f).sub(n(P).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:r.defaultBg})},_=r=>({defaultBg:new B.t(r.colorFillQuaternary).onBackground(r.colorBgContainer).toHexString(),defaultColor:r.colorText});var ue=(0,A.I$)("Tag",r=>{const P=z(r);return te(P)},_),Oe=function(r,P){var f={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&P.indexOf(n)<0&&(f[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,n=Object.getOwnPropertySymbols(r);g<n.length;g++)P.indexOf(n[g])<0&&Object.prototype.propertyIsEnumerable.call(r,n[g])&&(f[n[g]]=r[n[g]]);return f},Ee=l.forwardRef((r,P)=>{const{prefixCls:f,style:n,className:g,checked:H,onChange:W,onClick:de}=r,ae=Oe(r,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:ge,tag:se}=l.useContext(x.E_),Pe=ye=>{W==null||W(!H),de==null||de(ye)},fe=ge("tag",f),[Me,be,ee]=ue(fe),je=y()(fe,`${fe}-checkable`,{[`${fe}-checkable-checked`]:H},se==null?void 0:se.className,g,be,ee);return Me(l.createElement("span",Object.assign({},ae,{ref:P,style:Object.assign(Object.assign({},n),se==null?void 0:se.style),className:je,onClick:Pe})))}),v=e(98719);const Ae=r=>(0,v.Z)(r,(P,{textColor:f,lightBorderColor:n,lightColor:g,darkColor:H})=>({[`${r.componentCls}${r.componentCls}-${P}`]:{color:f,background:g,borderColor:n,"&-inverse":{color:r.colorTextLightSolid,background:H,borderColor:H},[`&${r.componentCls}-borderless`]:{borderColor:"transparent"}}}));var V=(0,A.bk)(["Tag","preset"],r=>{const P=z(r);return Ae(P)},_);function Le(r){return typeof r!="string"?r:r.charAt(0).toUpperCase()+r.slice(1)}const pe=(r,P,f)=>{const n=Le(f);return{[`${r.componentCls}${r.componentCls}-${P}`]:{color:r[`color${f}`],background:r[`color${n}Bg`],borderColor:r[`color${n}Border`],[`&${r.componentCls}-borderless`]:{borderColor:"transparent"}}}};var Se=(0,A.bk)(["Tag","status"],r=>{const P=z(r);return[pe(P,"success","Success"),pe(P,"processing","Info"),pe(P,"error","Error"),pe(P,"warning","Warning")]},_),De=function(r,P){var f={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&P.indexOf(n)<0&&(f[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,n=Object.getOwnPropertySymbols(r);g<n.length;g++)P.indexOf(n[g])<0&&Object.prototype.propertyIsEnumerable.call(r,n[g])&&(f[n[g]]=r[n[g]]);return f};const Ze=l.forwardRef((r,P)=>{const{prefixCls:f,className:n,rootClassName:g,style:H,children:W,icon:de,color:ae,onClose:ge,bordered:se=!0,visible:Pe}=r,fe=De(r,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:Me,direction:be,tag:ee}=l.useContext(x.E_),[je,ye]=l.useState(!0),Ue=(0,h.Z)(fe,["closeIcon","closable"]);l.useEffect(()=>{Pe!==void 0&&ye(Pe)},[Pe]);const Te=(0,Z.o2)(ae),Ie=(0,Z.yT)(ae),xe=Te||Ie,we=Object.assign(Object.assign({backgroundColor:ae&&!xe?ae:void 0},ee==null?void 0:ee.style),H),G=Me("tag",f),[Be,We,F]=ue(G),re=y()(G,ee==null?void 0:ee.className,{[`${G}-${ae}`]:xe,[`${G}-has-color`]:ae&&!xe,[`${G}-hidden`]:!je,[`${G}-rtl`]:be==="rtl",[`${G}-borderless`]:!se},n,g,We,F),K=s=>{s.stopPropagation(),ge==null||ge(s),!s.defaultPrevented&&ye(!1)},[,O]=(0,T.Z)((0,T.w)(r),(0,T.w)(ee),{closable:!1,closeIconRender:s=>{const t=l.createElement("span",{className:`${G}-close-icon`,onClick:K},s);return(0,$.wm)(s,t,d=>({onClick:c=>{var p;(p=d==null?void 0:d.onClick)===null||p===void 0||p.call(d,c),K(c)},className:y()(d==null?void 0:d.className,`${G}-close-icon`)}))}}),S=typeof fe.onClick=="function"||W&&W.type==="a",R=de||null,u=R?l.createElement(l.Fragment,null,R,W&&l.createElement("span",null,W)):W,i=l.createElement("span",Object.assign({},Ue,{ref:P,className:re,style:we}),u,O,Te&&l.createElement(V,{key:"preset",prefixCls:G}),Ie&&l.createElement(Se,{key:"status",prefixCls:G}));return Be(S?l.createElement(C.Z,{component:"Tag"},i):i)});Ze.CheckableTag=Ee;var he=Ze}}]);
