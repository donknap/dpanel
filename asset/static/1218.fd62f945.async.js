"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1218],{83002:function(He,Ze,e){var Ee=e(5574),d=e.n(Ee),Fe=e(15009),j=e.n(Fe),b=e(99289),p=e.n(b),Ce=e(83622),F=e(85265),X=e(67294),N=e(81146),c=e(1883),k=e(90098),R=e(3616),H=e(36146),U=e(85893),Te=(0,X.forwardRef)(function(C,Y){(0,X.useImperativeHandle)(Y,function(){return{show:function(z){return p()(j()().mark(function l(){return j()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:Pe(z),ae(!0);case 2:case"end":return T.stop()}},l)}))()}}});var G=(0,X.useState)(!1),ge=d()(G,2),J=ge[0],ae=ge[1],ce=(0,X.useState)(),_=d()(ce,2),$=_[0],Pe=_[1],le=(0,X.useRef)();return(0,U.jsxs)(U.Fragment,{children:[C.showTriggerButton&&(0,U.jsx)(Ce.ZP,{onClick:p()(j()().mark(function q(){return j()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:Pe(C.composeItem),ae(!0);case 2:case"end":return l.stop()}},q)})),icon:(0,U.jsx)(c.Z,{}),children:H.FD.format("listManageLog")},"log"),(0,U.jsx)(F.Z,{title:H.FD.format("listLog"),open:J,forceRender:!0,onClose:function(){ae(!1)},afterOpenChange:function(z){if(z)setTimeout(function(){var o,T;(o=le.current)===null||o===void 0||o.start(),(T=le.current)===null||T===void 0||T.fit()},1e3);else{var l;(l=le.current)===null||l===void 0||l.close()}},width:R.FK,children:$&&J&&(0,U.jsx)(N.Z,{ref:le,showInDrawer:!0,id:"compose:log:".concat(String($.id||$.name)),request:function(){var q=p()(j()().mark(function z(l){var o;return j()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,k.Yz)({id:$.id||$.name,lineTotal:l.lineTotal,download:(o=l.download)!==null&&o!==void 0?o:!1,showTime:l.showTime});case 2:case"end":return n.stop()}},z)}));return function(z){return q.apply(this,arguments)}}(),download:function(){var q=p()(j()().mark(function z(l){var o;return j()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,k.vf)({id:$.id||$.name,lineTotal:l.lineTotal,showTime:l.showTime,download:!0});case 2:return o=n.sent,n.abrupt("return",{data:new Blob([o],{type:"text/plain"}),name:C.composeItem.name+"_"+new Date().toLocaleDateString()+".log"});case 4:case"end":return n.stop()}},z)}));return function(z){return q.apply(this,arguments)}}()})})]})});Ze.Z=Te},42013:function(He,Ze,e){e.d(Ze,{Z:function(){return it}});var Ee=e(97857),d=e.n(Ee),Fe=e(15009),j=e.n(Fe),b=e(99289),p=e.n(b),Ce=e(5574),F=e.n(Ce),X=e(3616),N=e(24963),c=e(90098),k=e(36146),R=e(86548),H=e(33862),U=e(97937),Te=e(11713),C=e(38345),Y=e(24739),G=e(5966),ge=e(86615),J=e(97462),ae=e(62370),ce=e(95213),_=e(11106),$=e(42075),Pe=e(83622),le=e(71230),q=e(15746),z=e(40056),l=e(92398),o=e(83062),T=e(40411),n=e(67294),qe=e(12491),Le=e(85060),Ye=e(97269),We=e(86738),i=e(85893),ze=(0,n.forwardRef)(function(ee,$e){(0,n.useImperativeHandle)($e,function(){return{}});var D=(0,n.useRef)(),Ie=(0,n.useState)(!1),Oe=F()(Ie,2),se=Oe[0],me=Oe[1];return(0,i.jsx)(ae.Z,{children:(0,i.jsx)(We.Z,{icon:!1,title:!1,description:(0,i.jsx)(Ye.A,{name:"importRemote",layout:"horizontal",submitter:!1,formRef:D,children:(0,i.jsx)(G.Z,{width:"lg",label:"Url",initialValue:ee.defaultUrl,name:"url",placeholder:"https:// or http://"})}),onOpenChange:function(Q){var g;(g=D.current)===null||g===void 0||g.resetFields()},onConfirm:p()(j()().mark(function ye(){var Q,g;return j()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(g=(Q=D.current)===null||Q===void 0?void 0:Q.getFieldValue("url"),g){A.next=3;break}return A.abrupt("return");case 3:if(me(!0),A.t0=ee.onRequest,!A.t0){A.next=8;break}return A.next=8,ee.onRequest(g).finally(function(){me(!1)});case 8:case"end":return A.stop()}},ye)})),children:(0,i.jsx)(Pe.ZP,{loading:se,icon:(0,i.jsx)(Le.Z,{}),block:!0,onClick:function(){var Q;(Q=D.current)===null||Q===void 0||Q.resetFields()},children:ee.title})})})}),Qe=ze,et=e(91058),Ue=e(79245),ke=e(27166),tt=e(82346),t=e(85576),nt=function($e){var D=$e.children,Ie=$e.height,Oe=Ie===void 0?"auto":Ie,se=(0,n.useState)(!1),me=F()(se,2),ye=me[0],Q=me[1],g=(0,n.useCallback)(function(){return{open:function(){return Q(!0)},close:function(){return Q(!1)},toggle:function(){return Q(function(Re){return!Re})}}},[])();(0,n.useEffect)(function(){var A=function(Ke){Ke.key==="F11"&&(Ke.preventDefault(),Q(function(Ve){return!Ve}))};return window.addEventListener("keydown",A),function(){return window.removeEventListener("keydown",A)}},[ye]);var te=function(Re){return(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",height:Re?"100%":Oe,overflow:"hidden"},children:(0,i.jsx)("div",{style:{flex:1,overflow:"auto",position:"relative"},children:D({isFullscreen:Re,ref:g})})})};return(0,i.jsxs)(i.Fragment,{children:[!ye&&te(!1),(0,i.jsx)(t.Z,{title:null,open:ye,footer:null,closable:!1,width:"98vw",centered:!0,styles:{body:{padding:0,height:"calc(100vh - 80px)",overflow:"hidden"}},destroyOnHidden:!0,onCancel:function(){return Q(!1)},children:(0,i.jsx)("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:te(!0)})})]})},rt=nt,at=(0,n.forwardRef)(function(ee,$e){var D=new k.Uo("components.appCompose"),Ie=(0,n.useContext)(N.Z),Oe=Ie.message,se=(0,n.useRef)(),me=(0,n.useRef)(),ye=(0,n.useState)(),Q=F()(ye,2),g=Q[0],te=Q[1],A=(0,n.useState)(!1),Re=F()(A,2),Ke=Re[0],Ve=Re[1],Ae=(0,n.useRef)(),ot=(0,n.useState)(),Xe=F()(ot,2),ue=Xe[0],O=Xe[1],Be=(0,n.useState)("text"),fe=F()(Be,2),de=fe[0],Z=fe[1];return(0,n.useImperativeHandle)($e,function(){return{edit:function(I){O(I),Ve(!0)}}}),(0,n.useEffect)(function(){ee.id&&O(ee.id)},[]),(0,n.useEffect)(function(){var B;if(se.current){var I=ee.id||ue;if(!I){te({yaml:"",override:""});return}(B=Ae.current)===null||B===void 0||B.loading(),(0,c.Pn)({id:I}).finally(function(){var s;(s=Ae.current)===null||s===void 0||s.finish()}).then(function(s){var S,f;te({yaml:s.data.yaml[0],override:(S=s.data.yaml[1])!==null&&S!==void 0?S:""}),(f=se.current)===null||f===void 0||f.setFieldsValue({name:s.data.detail.name,title:s.data.detail.title,type:s.data.detail.setting.type,environment:s.data.detail.setting.environment,remoteUrl:s.data.detail.setting.remoteUrl})})}},[se.current,ue]),(0,i.jsxs)(ke.Z,{requestLoading:g==null&&ue!=null,drawerProps:{width:X.FK,destroyOnHidden:!0,extra:(0,i.jsx)($.Z,{children:(0,i.jsx)("a",{href:"https://dpanel.cc/manual/compose-create",target:"_blank",children:k.FD.format("help")})})},open:Ke,onOpenChange:function(I){if(Ve(I),!I){var s;te(void 0),O(ee.id),(s=se.current)===null||s===void 0||s.resetFields()}},title:D.format("yamlDrawerTitle"),formRef:se,ref:Ae,trigger:(0,i.jsx)(Pe.ZP,{type:"primary",icon:ue?(0,i.jsx)(R.Z,{}):void 0,children:k.Ob.format(ue?"compose.list.edit":"compose.list.create")}),onFinish:function(){var B=p()(j()().mark(function I(s){var S,f,w,E;return j()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(s.type!="remoteGit"){v.next=7;break}return(S=Ae.current)===null||S===void 0||S.loading(),v.next=4,(0,c.zN)({uri:s.remoteUrl,name:s.name}).finally(function(){var M;(M=Ae.current)===null||M===void 0||M.finish()});case 4:return f=v.sent,ee.onFinish&&ee.onFinish(f.data.id),v.abrupt("return",!0);case 7:return v.prev=7,w={id:ue&&ue.toString(),type:s.type,name:s.name,title:s.title,environment:s.environment,remoteUrl:s.remoteUrl,yaml:g==null?void 0:g.yaml,yamlOverride:g==null?void 0:g.override},v.next=11,(0,c.im)(w);case 11:return E=v.sent,ee.onFinish&&ee.onFinish(E.data.id),Oe.success(k.FD.format("finish")),v.abrupt("return",!0);case 17:return v.prev=17,v.t0=v.catch(7),v.abrupt("return",!1);case 20:case"end":return v.stop()}},I,null,[[7,17]])}));return function(I){return B.apply(this,arguments)}}(),children:[(0,i.jsx)(C.Z,{ghost:!0,children:(0,i.jsxs)(Y.UW,{children:[(0,i.jsx)(G.Z,{label:D.format("createFormName"),name:"name",width:"md",required:!0,disabled:!!ue,rules:[{required:!0},{pattern:/^[a-zA-Z0-9_-]+$/,message:D.format("createFormNameRule")}],placeholder:D.format("createFormNameEmpty")}),(0,i.jsx)(G.Z,{label:D.format("createFormTitle"),name:"title",width:"md"})]})},"createForm"),(0,i.jsx)(ge.Z.Group,{label:D.format("createFormType"),name:"type",initialValue:"text",fieldProps:{defaultValue:"text",onChange:function(I){var s;(s=se.current)===null||s===void 0||s.resetFields(["yaml","environment"]),Z(I.target.value)}},disabled:!!ue,options:D.option("createFormTypeOption",["text","remoteUrl","remoteGit","storagePath","store","outPath"]).map(function(B){return{label:B.label,value:B.value}})}),(0,i.jsx)(J.Z,{name:["type"],children:function(I){var s=I.type;if(s=="text")return(0,i.jsxs)(le.Z,{gutter:[10,0],children:[(0,i.jsx)(q.Z,{span:12,children:(0,i.jsx)(qe.Z,{title:D.format("createFormTypeTextImportFile"),onImport:function(f){return te(d()(d()({},g),{yaml:f})),(0,Ue.m)(f).map(function(w){var E;(E=me.current)===null||E===void 0||E.addEnvNameValue(w.name,w.value)}),!0},onLoad:function(f){if(f.indexOf("services:")<0)throw new Error(k.FD.format("commonFileIncorrectFormat",{name:"yaml"}));return!0}},"importFile")}),(0,i.jsx)(q.Z,{span:12,children:(0,i.jsx)(Qe,{title:D.format("createFormTypeTextImportRemote"),onRequest:function(){var S=p()(j()().mark(function f(w){var E;return j()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,c.MG)({uri:w});case 2:return E=v.sent,te(d()(d()({},g),{yaml:E.data.content})),(0,Ue.m)(E.data.content).map(function(M){var pe;(pe=me.current)===null||pe===void 0||pe.addEnvNameValue(M.name,M.value)}),v.abrupt("return");case 6:case"end":return v.stop()}},f)}));return function(f){return S.apply(this,arguments)}}()},"importRemote")})]});if(s=="remoteUrl")return(0,i.jsx)(le.Z,{gutter:[10,0],children:(0,i.jsxs)(q.Z,{span:24,children:[(0,i.jsx)(ae.Z,{shouldUpdate:!0,children:function(f){return(0,i.jsx)(Qe,{defaultUrl:f.getFieldValue("remoteUrl"),title:D.format("createFormTypeRemoteImportUrl"),onRequest:function(){var w=p()(j()().mark(function E(L){var v,M;return j()().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,(0,c.MG)({uri:L});case 2:return M=he.sent,te(d()(d()({},g),{yaml:M.data.content})),(v=se.current)===null||v===void 0||v.setFieldValue("remoteUrl",L),(0,Ue.m)(M.data.content).map(function(be){var we;(we=me.current)===null||we===void 0||we.addEnvNameValue(be.name,be.value)}),he.abrupt("return");case 7:case"end":return he.stop()}},E)}));return function(E){return w.apply(this,arguments)}}()},"importRemote1")}}),(0,i.jsx)(ae.Z,{hidden:!0,name:"remoteUrl"},"remoteUrl")]})});if(s=="remoteGit")return(0,i.jsx)(G.Z,{name:"remoteUrl",label:D.format("createFormTypeRemoteImportGit")},"importRemote2");if(s=="storagePath")return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(G.Z,{name:"storagePath",required:!0,readonly:!0,initialValue:D.format("createFormTypeStoragePathTip"),addonAfter:(0,i.jsx)("a",{href:"https://dpanel.cc/manual/compose-create",target:"_blank",children:k.FD.format("help")})})});if(s=="store")return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(G.Z,{readonly:!0,name:"store",required:!0,initialValue:D.format("createFormTypeStoreTip"),addonAfter:(0,i.jsx)(tt.Link,{to:"/compose/appstore",children:k.Ob.format("compose.appstore")})})});if(s=="outPath")return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(G.Z,{name:"outPath",required:!0,readonly:!0,initialValue:D.format("createFormTypeOutPathTip")})})}}),(0,i.jsx)(J.Z,{name:["type"],children:function(I){var s=I.type;return(s=="text"||s=="remoteUrl"||ue)&&(0,i.jsxs)(C.Z,{ghost:!0,direction:"row",children:[(0,i.jsxs)(C.Z,{ghost:!0,colSpan:"45%",children:[(0,i.jsx)(z.Z,{type:"warning",message:D.format("createFormTypeTextTip"),style:{marginBottom:15}},"yamlTips"),(0,i.jsx)(z.Z,{message:(0,i.jsxs)(i.Fragment,{children:[D.format("createEnvTip1")," ","${DB_NAME}",". ",D.format("createEnvTip2")]})}),(0,i.jsx)(et.Z,{drawerProps:{ghost:!0,title:(0,i.jsx)(H.Z,{}),subTitle:D.format("createEnvTitle")},name:"environment",showInDrawer:!0,showImportButton:!ue,showAddButton:!0,showCodeMode:!ue,ref:me})]}),(0,i.jsx)(C.Z,{colSpan:"55%",children:(0,i.jsx)(rt,{children:function(f){var w=f.ref,E=f.isFullscreen;return(0,i.jsx)(l.Z,{tabBarExtraContent:(0,i.jsx)($.Z,{children:(0,i.jsx)(Pe.ZP,{icon:E?(0,i.jsx)(U.Z,{}):(0,i.jsx)(Te.Z,{}),type:"link",onClick:function(){w.toggle()}})}),items:[{label:D.format("createYaml.yaml"),key:"yaml",children:g&&(0,i.jsx)(_.ZP,{theme:"dark",height:E?"82vh":"600px",onChange:function(v){te(d()(d()({},g),{yaml:v}))},onFocus:function(){s=="remoteUrl"&&Oe.info(D.format("createYamlDisableEdit"))},onBlur:function(){var v;(v=se.current)!==null&&v!==void 0&&v.getFieldValue("environment")||g&&g.yaml&&(0,Ue.m)(g.yaml).map(function(M){var pe;(pe=me.current)===null||pe===void 0||pe.addEnvNameValue(M.name,M.value)})},readOnly:s=="remoteUrl",value:g.yaml,extensions:[ce.RI.yaml()]})},{label:(0,i.jsx)(o.Z,{title:D.format("createYamlOverrideTip"),children:(0,i.jsx)(T.Z,{count:(g==null?void 0:g.override)&&k.FD.format("listInUse"),offset:[15,-5],children:D.format("createYaml.override")})}),key:"yamlOverride",children:g&&(0,i.jsx)(_.ZP,{theme:"dark",height:"600px",onChange:function(v,M){te(d()(d()({},g),{override:v}))},value:g==null?void 0:g.override,extensions:[ce.RI.yaml()]})}]},"yamlEditor")}})})]},"yamlEditor")}})]},"yamlCreate")}),it=at},91218:function(He,Ze,e){e.d(Ze,{Z:function(){return ue}});var Ee=e(97857),d=e.n(Ee),Fe=e(19632),j=e.n(Fe),b=e(15009),p=e.n(b),Ce=e(99289),F=e.n(Ce),X=e(5574),N=e.n(X),c=e(67294),k=e(3616),R=e(36146),H=e(38345),U=e(97269),Te=e(86615),C=e(62370),Y=e(90098),G=e(27166),ge=e(43425),J=e(33160),ae=e(82061),ce=e(87784),_=e(74842),$=e(30159),Pe=e(25035),le=e(95591),q=e(26522),z=e(33862),l=e(40056),o=e(42075),T=e(96074),n=e(25593),qe=e(86250),Le=e(84567),Ye=e(83062),We=e(83622),i=e(80821),ze=e(82346),Qe=e(79697),et=e(99861),Ue=e(1699),ke=e(89035),tt=e(75544),t=e(85893),nt=(0,c.forwardRef)(function(O,Be){(0,c.useImperativeHandle)(Be,function(){return{show:function(){return F()(p()().mark(function f(){var w;return p()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return s(!0),(w=de.current)===null||w===void 0||w.clear(),L.next=4,new Promise(function(v){return setTimeout(function(){var M;(M=de.current)===null||M===void 0||M.fit(),v(!0)},1e3)});case 4:case"end":return L.stop()}},f)}))()},close:function(){var f;s(!1),(f=de.current)===null||f===void 0||f.clear()},cancel:function(){return F()(p()().mark(function f(){var w;return p()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return(w=de.current)===null||w===void 0||w.clear(),fe.progress.close("compose:"+O.id),L.abrupt("return",!0);case 3:case"end":return L.stop()}},f)}))()}}});var fe=(0,ze.useModel)("subscriber"),de=(0,c.useRef)(),Z=(0,c.useState)(!1),B=N()(Z,2),I=B[0],s=B[1];return fe.addDataHandler("compose:"+O.id,function(S){var f;(f=de.current)===null||f===void 0||f.write(S.data)}),(0,t.jsx)(H.Z,{hidden:!I,ghost:!0,title:(0,t.jsx)(ke.Z,{}),subTitle:"Console",extra:(0,t.jsx)(o.Z,{children:(0,t.jsx)(i.Z,{action:F()(p()().mark(function S(){var f;return p()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return(f=de.current)===null||f===void 0||f.clear(),fe.progress.close("compose:"+O.id),E.abrupt("return");case 3:case"end":return E.stop()}},S)})),buttonProps:{icon:(0,t.jsx)(ae.Z,{}),danger:!0},children:R.FD.format("listManageKill")},"kill")}),children:(0,t.jsx)(tt.Z,{id:"create-log-".concat(O.id),height:"200px",style:{fontSize:12},ref:de})})}),rt=nt,at=e(83002),it=e(60940),ee=e(55241),$e=e(78451),D=e(37413),Ie=e(94359),Oe=e(91806),se=e(60433),me=e(99611),ye=e(99922),Q=e(3905),g=e(87662),te=e(5251),A=e(29463);function Re(O){var Be=(0,c.useState)(""),fe=N()(Be,2),de=fe[0],Z=fe[1],B=(0,c.useRef)(),I=(0,c.useRef)(),s=(0,c.useState)(),S=N()(s,2),f=S[0],w=S[1],E=new R.Uo("components.appCompose"),L=(0,c.useRef)(),v=(0,c.useState)(),M=N()(v,2),pe=M[0],he=M[1],be=(0,c.useState)(),we=N()(be,2),a=we[0],Ne=we[1];return(0,c.useEffect)(function(){return(0,g.K3)().then(function(ie){var W;Z((W=ie.data.serverUrl)!==null&&W!==void 0?W:"")}),w(!1),O.containerList&&he(O.containerList.filter(function(ie){return ie.status!=""}).map(function(ie){return ie.service})),Ne(O.containerList),function(){Ne([])}},[O.containerList]),(0,t.jsxs)(H.Z,{ghost:!0,title:(0,t.jsx)(Oe.Z,{}),subTitle:E.format("detailContainerTitle"),extra:O.enableSelectService&&(0,t.jsx)(Le.Z,{checked:f,onChange:function(W){w(W.target.checked)},children:E.format("selectService")},"selectService"),children:[(0,t.jsx)(ye.Z,{showFileExplorer:!0,ref:B}),(0,t.jsx)(A.Z,{ref:L}),(0,t.jsx)(Q.Z,{ref:I}),(0,t.jsx)(it.Z,{scroll:{x:"max-content"},rowKey:"service",pagination:!1,columns:[{title:R.FD.format("listName"),dataIndex:"name",width:200,render:function(W,y,je){return(0,t.jsx)(Ye.Z,{title:y.service,children:(0,t.jsx)($e.Z,{content:y.name?(0,te.fi)(y.name,"/"):y.service})})}},{title:R.FD.format("listPort"),render:function(W,y,je){var K=[],ne=[];return y.publishers&&y.publishers.map(function(ve){ve.publishedPort?K.push({PrivatePort:ve.targetPort,Type:ve.protocol,IP:ve.url,PublicPort:ve.publishedPort}):ve.publishedPort&&ne.push({PrivatePort:ve.targetPort,Type:ve.protocol,IP:ve.url,PublicPort:ve.publishedPort})}),(0,t.jsx)(D.Z,{publicPort:K,privatePort:ne,domain:[],serverIp:de})}},{title:R.FD.format("listStatus"),render:function(W,y,je){return(0,t.jsx)(Ie.Z,{status:"container.".concat(y.state),tip:"".concat(y.state," ").concat(y.status)},y.name)}},{title:R.FD.format("listManage"),fixed:"right",render:function(W,y,je){return(0,t.jsxs)(o.Z,{split:(0,t.jsx)(T.Z,{type:"vertical"}),children:[y.name==""&&(0,t.jsx)(ee.Z,{placement:"left",content:(0,t.jsx)(H.Z,{ghost:!0,title:R.FD.format("listManageShowContainerEnv"),children:(0,t.jsx)(o.Z,{direction:"vertical",children:y.environment&&Object.keys(y.environment).map(function(K){if(y.environment&&y.environment[K])return(0,t.jsx)(n.Z.Text,{code:!0,children:"".concat(K,"=").concat(y.environment[K])},K)})})}),children:(0,t.jsx)(se.Z,{})}),y.name!=""&&(0,t.jsx)(n.Z.Link,{onClick:function(){var ne;(ne=I.current)===null||ne===void 0||ne.show(y.name)},children:(0,t.jsx)(me.Z,{})},"container"),y.state=="running"&&(0,t.jsx)(n.Z.Link,{onClick:function(){var ne;(ne=B.current)===null||ne===void 0||ne.show({url:"/console/container/".concat((0,te.fi)(y.name,"/")),title:y.name})},children:(0,t.jsx)(ke.Z,{})},"console"),y.state=="running"&&(0,t.jsx)(n.Z.Link,{onClick:function(){var ne;(ne=L.current)===null||ne===void 0||ne.showContainer((0,te.fi)(y.name,"/"))},children:(0,t.jsx)(le.Z,{})},"file")]})}}],dataSource:a,rowSelection:f&&a?{selectedRowKeys:pe,onChange:function(W,y,je){he(W),O.selectServiceFinish&&O.selectServiceFinish(W)}}:void 0})]})}var Ke=e(91058),Ve=e(42013),Ae=e(2831),ot=e(36588),Xe=(0,c.forwardRef)(function(O,Be){var fe,de=(0,ze.useAccess)(),Z=new R.Uo("components.appCompose"),B=(0,c.useState)(0),I=N()(B,2),s=I[0],S=I[1],f=(0,c.useState)(!1),w=N()(f,2),E=w[0],L=w[1],v=(0,c.useState)(!1),M=N()(v,2),pe=M[0],he=M[1],be=(0,c.useState)(),we=N()(be,2),a=we[0],Ne=we[1],ie=(0,c.useRef)(),W=(0,c.useRef)(),y=(0,c.useRef)(),je=(0,c.useRef)(),K=(0,c.useRef)(),ne=(0,c.useRef)(),ve=(0,c.useRef)(),ct=(0,c.useRef)(),ft=(0,c.useState)(),mt=N()(ft,2),Je=mt[0],lt=mt[1];(0,c.useImperativeHandle)(Be,function(){return{show:function(r){return F()(p()().mark(function u(){return p()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:lt(r),L(!0);case 2:case"end":return P.stop()}},u)}))()}}}),(0,c.useEffect)(function(){Je&&(he(!0),(0,Y.Pn)({id:Je}).finally(F()(p()().mark(function m(){return p()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:he(!1);case 1:case"end":return u.stop()}},m)}))).then(function(m){var r=m.data.detail;r.setting.status&&r.setting.status.includes("running")&&(r.isRunning=!0),r.setting.status&&r.setting.status.includes("paused")&&(r.isPaused=!0),r.setting.status&&r.setting.status.includes("exited")&&(r.isExited=!0),r.setting.status&&r.setting.status.includes("waiting")?r.isDeploy=!1:r.isDeploy=!0,r.setting.status&&r.setting.status.includes("created")&&(r.isCreated=!0,r.isDeploy=!1);var u=m.data.project;if(u&&u.services&&(r.imageList=j()(new Set(Object.keys(u.services).map(function(re){var x;return(x=u.services[re].image)!==null&&x!==void 0?x:""}).filter(function(re){return re!=""})))),r.containerList=m.data.containerList,r.containerList||(r.containerList=[]),u!=null&&u.services&&Object.entries(u==null?void 0:u.services).forEach(function(re){var x,Se=N()(re,2),De=Se[0],xe=Se[1],Ge=r.containerList.find(function(V){return V.service==De});Ge||r.containerList.push({project:(x=u.name)!==null&&x!==void 0?x:"",name:"",service:De,publishers:xe.ports?xe.ports.map(function(V){var Me;return{url:"",targetPort:V.target,publishedPort:parseInt(V.published),protocol:(Me=V.protocol)!==null&&Me!==void 0?Me:""}}):[],state:"waiting",status:"",environment:xe.environment})}),r.containerList){var h;(h=y.current)===null||h===void 0||h.setFieldValue("deployServiceName",m.data.detail.setting.deployServiceName)}if(Ne(d()(d()({},m.data),{detail:r})),m.data.detail.setting.environment){var P;(P=y.current)===null||P===void 0||P.setFieldValue("environment",m.data.detail.setting.environment)}}))},[s,Je]);function vt(m){return st.apply(this,arguments)}function st(){return st=F()(p()().mark(function m(r){var u,h,P;return p()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if((u=K.current)===null||u===void 0||u.show(),!r.pullImageUseDPanel){x.next=5;break}return x.next=4,(h=ie.current)===null||h===void 0?void 0:h.start();case 4:(P=ie.current)===null||P===void 0||P.finish();case 5:return x.prev=5,x.next=8,(0,Y.Oh)(r);case 8:O.onDeployFinish&&O.onDeployFinish(),x.next=14;break;case 11:x.prev=11,x.t0=x.catch(5),O.onDeployFailed&&O.onDeployFailed();case 14:S(s+1);case 15:case"end":return x.stop()}},m,null,[[5,11]])})),st.apply(this,arguments)}return(0,t.jsxs)(G.Z,{drawerProps:{width:k.R_,destroyOnHidden:!0},requestLoading:pe,title:a?Z.format("drawerTitle",{name:(fe=a==null?void 0:a.detail.name)!==null&&fe!==void 0?fe:""}):Z.format("createTitle"),open:E,onOpenChange:function(r){r||(lt(void 0),Ne(void 0),O.onClose&&O.onClose()),L(r)},submitter:!1,formRef:y,children:[a&&!(0,Qe.Z)(a.detail.imageList)&&(0,t.jsx)(et.Z,{ref:ie,image:a.detail.imageList}),(0,t.jsx)(A.Z,{ref:ve}),(0,t.jsxs)(H.Z,{direction:"column",ghost:!0,gutter:[0,10],children:[a&&a.detail.setting.type=="dangling"&&(0,t.jsx)(l.Z,{type:"warning",showIcon:!0,description:(0,t.jsxs)("div",{children:[Z.format("managerStatusDanglingAlert",{name:a.detail.name})," ",(0,t.jsx)("a",{href:"https://dpanel.cc/manual/compose-create-outpath",target:"_blank",children:R.FD.format("help")})]})}),a&&a.detail.setting.type!="dangling"&&(0,t.jsx)(H.Z,{title:(0,t.jsx)(ge.Z,{}),subTitle:Z.format("managerContainerTitle"),ghost:!0,children:(0,t.jsxs)(o.Z,{wrap:!0,split:(0,t.jsx)(T.Z,{type:"vertical"}),children:[(0,t.jsxs)(Ue.u,{access:"canSeeComposeListManage",space:{},children:[(0,t.jsx)(i.Z,{buttonProps:{icon:(0,t.jsx)(J.Z,{}),type:"primary"},confirmProps:{onOpenChange:function(r,u){var h;r&&(!((h=W.current)===null||h===void 0)&&h.resetFields)&&W.current.resetFields()},description:(0,t.jsxs)(o.Z,{style:{minWidth:300},direction:"vertical",wrap:!0,children:[(0,t.jsx)(n.Z.Text,{children:Z.format("managerCreateTip")}),(0,t.jsx)(U.A,{name:"createForm",formRef:W,layout:"inline",submitter:!1,children:(0,t.jsxs)(qe.Z,{vertical:!0,children:[(0,t.jsx)(Te.Z.Group,{name:"pullImageUse",layout:"vertical",fieldProps:{style:{display:"flex",flexDirection:"column",gap:8}},options:Z.option("managerCreatePullImageUseOption",["useCommand","useDPanel"])}),(0,t.jsx)(C.Z,{initialValue:!0,name:"createPath",valuePropName:"checked",children:(0,t.jsx)(Le.Z,{children:Z.format("managerCreateCreatePath")})}),(0,t.jsx)(C.Z,{initialValue:!0,name:"removeOrphans",valuePropName:"checked",children:(0,t.jsx)(Le.Z,{defaultChecked:!0,children:Z.format("managerCreateRemoveOrphans")})})]})})]})},action:F()(p()().mark(function m(){var r,u,h,P,re,x,Se,De,xe,Ge,V,Me,_e;return p()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.prev=0,oe.next=3,(xe=y.current)===null||xe===void 0?void 0:xe.validateFields();case 3:oe.next=8;break;case 5:return oe.prev=5,oe.t0=oe.catch(0),oe.abrupt("return");case 8:return Ge=a?a.detail.id||a.detail.name:(r=y.current)===null||r===void 0?void 0:r.getFieldValue("name"),V={id:Ge,createPath:(u=(h=W.current)===null||h===void 0?void 0:h.getFieldValue("createPath"))!==null&&u!==void 0?u:!1,removeOrphans:(P=(re=W.current)===null||re===void 0?void 0:re.getFieldValue("removeOrphans"))!==null&&P!==void 0?P:!0},((x=W.current)===null||x===void 0?void 0:x.getFieldValue("pullImageUse"))=="useDPanel"&&(V.pullImage=!1,V.pullImageUseDPanel=!0),((Se=W.current)===null||Se===void 0?void 0:Se.getFieldValue("pullImageUse"))=="useCommand"&&(V.pullImage=!0),Me=((De=y.current)===null||De===void 0?void 0:De.getFieldsFormatValue)&&y.current.getFieldsFormatValue(!0),V.environment=Me.environment,V.deployServiceName=Me.deployServiceName,oe.next=17,(0,Y.im)({id:(a.detail.id||a.detail.name).toString(),name:a.detail.name,environment:Me.environment,type:a.detail.setting.type});case 17:if(!(a!=null&&a.detail.isDeploy&&V.deployServiceName)){oe.next=23;break}if(_e=[],a.detail.containerList.forEach(function(ut){var dt;ut.status!=""&&!((dt=V.deployServiceName)!==null&&dt!==void 0&&dt.includes(ut.service))&&_e.push(ut.service)}),(0,Qe.Z)(_e)){oe.next=23;break}return oe.next=23,(0,Y.j6)({id:Ge,deleteImage:!1,deleteData:!1,deleteVolume:!1,deletePath:!1,destroyServiceName:_e});case 23:return oe.abrupt("return",vt(V));case 24:case"end":return oe.stop()}},m,null,[[0,5]])})),children:Z.format(a!=null&&a.detail.isDeploy?"managerUpgradeButton":"managerCreateButton")},"deploy"),(a.detail.isDeploy||a.detail.isCreated)&&(0,t.jsx)(i.Z,{action:function(){var r;return(r=K.current)===null||r===void 0||r.show(),(0,Y.j6)({id:a.detail.id||a.detail.name,deleteImage:!1,deleteData:!1,deleteVolume:!1,deletePath:!1})},onSuccess:function(){S(s+1)},buttonProps:{type:"primary",danger:!0,icon:(0,t.jsx)(ae.Z,{})},confirmProps:{showCommonConfirm:!0},children:Z.format("managerDeleteContainerButton")},"destroyContainer")]}),a.detail.isDeploy&&(0,t.jsxs)(Ue.u,{access:"canSeeComposeList",space:{direction:"horizontal"},children:[(0,t.jsx)(i.Z,{buttonProps:{icon:(0,t.jsx)(J.Z,{})},action:F()(p()().mark(function m(){var r;return p()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return(r=K.current)===null||r===void 0||r.show(),h.abrupt("return",(0,Y.GG)({id:a.detail.id||a.detail.name,op:"restart"}));case 2:case"end":return h.stop()}},m)})),onSuccess:function(){S(s+1)},children:Z.format("managerRestartButton")},"restart"),(0,t.jsx)(i.Z,{action:function(){var r;return(r=K.current)===null||r===void 0||r.show(),(0,Y.GG)({id:a.detail.id||a.detail.name,op:"stop"})},buttonProps:{icon:(0,t.jsx)(ce.Z,{}),disabled:a.detail.isExited},onSuccess:function(){S(s+1)},children:Z.format("managerStopButton")},"stop"),a.detail.isPaused&&(0,t.jsx)(i.Z,{action:function(){var r;return(r=K.current)===null||r===void 0||r.show(),(0,Y.GG)({id:a.detail.id||a.detail.name,op:"unpause"})},onSuccess:function(){S(s+1)},buttonProps:{icon:(0,t.jsx)(_.Z,{})},children:Z.format("managerUnpauseButton")},"unpause"),!a.detail.isPaused&&(0,t.jsx)(i.Z,{action:function(){var r;return(r=K.current)===null||r===void 0||r.show(),(0,Y.GG)({id:a.detail.id||a.detail.name,op:"pause"})},onSuccess:function(){S(s+1)},buttonProps:{icon:(0,t.jsx)($.Z,{}),disabled:!a.detail.isRunning},children:Z.format("managerPauseButton")},"pause"),a.detail.isDeploy&&(0,t.jsx)(at.Z,{composeItem:a.detail,showTriggerButton:!0},"composeLog")]}),a.detail.id>0&&de.canSeeComposeListManageDelete&&(0,t.jsx)(i.Z,{buttonProps:{type:"dashed",danger:!0,icon:(0,t.jsx)(ae.Z,{})},confirmProps:{onOpenChange:function(r,u){var h;!((h=je.current)===null||h===void 0)&&h.resetFields&&je.current.resetFields()},description:(0,t.jsxs)(o.Z,{style:{width:280},direction:"vertical",children:[(0,t.jsx)(n.Z.Text,{children:Z.format("managerDeleteTaskTip")}),(0,t.jsxs)(U.A,{formRef:je,layout:"inline",submitter:!1,children:[(0,t.jsx)(C.Z,{initialValue:!0,name:"deleteImage",valuePropName:"checked",children:(0,t.jsx)(Le.Z,{children:Z.format("managerDeleteTaskDeleteImage")})}),(0,t.jsx)(C.Z,{addonAfter:(0,t.jsx)(Ye.Z,{title:Z.format("managerDeleteTaskDeleteVolumeTip"),children:(0,t.jsx)(Pe.Z,{})}),initialValue:!0,name:"deleteVolume",valuePropName:"checked",children:(0,t.jsx)(Le.Z,{children:Z.format("managerDeleteTaskDeleteVolume")})}),(0,t.jsx)(C.Z,{initialValue:!0,name:"deletePath",valuePropName:"checked",children:(0,t.jsx)(Le.Z,{children:Z.format("managerDeleteTaskDeletePath")})})]})]})},action:F()(p()().mark(function m(){var r,u,h,P,re,x,Se,De,xe;return p()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return(r=K.current)===null||r===void 0||r.show(),V.next=3,(0,Y.j6)({id:(u=(h=a.detail)===null||h===void 0?void 0:h.id)!==null&&u!==void 0?u:a.detail.name,deleteImage:(P=(re=je.current)===null||re===void 0?void 0:re.getFieldValue("deleteImage"))!==null&&P!==void 0?P:!1,deleteVolume:(x=(Se=je.current)===null||Se===void 0?void 0:Se.getFieldValue("deleteVolume"))!==null&&x!==void 0?x:!1,deletePath:(De=(xe=je.current)===null||xe===void 0?void 0:xe.getFieldValue("deletePath"))!==null&&De!==void 0?De:!1,deleteData:!0});case 3:L(!1),Ne(void 0),O.onClose&&O.onClose();case 6:case"end":return V.stop()}},m)})),children:R.FD.format("listManageDelete")},"deleteTask"),O.showBackListButton&&(0,t.jsx)(ze.Link,{to:"/compose/list",children:(0,t.jsx)(We.ZP,{children:R.Ob.format("compose.list")})})]})},"operator"),a&&a.detail.setting.type!="dangling"&&(0,t.jsx)(H.Z,{title:(0,t.jsx)(ge.Z,{}),subTitle:Z.format("managerTitle"),ghost:!0,children:(0,t.jsxs)(o.Z,{children:[de.canSeeComposeListManage&&(0,t.jsx)(Ve.Z,{id:Je,onFinish:function(){var m=F()(p()().mark(function r(u){return p()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:lt(u),S(s+1);case 2:case"end":return P.stop()}},r)}));return function(r){return m.apply(this,arguments)}}()}),de.canSeeComposeListManageCreate&&(a==null?void 0:a.detail.setting.type)!="outPath"&&(0,t.jsx)(We.ZP,{icon:(0,t.jsx)(le.Z,{}),onClick:F()(p()().mark(function m(){var r,u,h,P;return p()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,Ae.aF)();case 2:u=x.sent,u.data&&(r=u.data.dpanel.containerInfo)!==null&&r!==void 0&&r.Name&&((h=ve.current)===null||h===void 0||h.showContainer((P=u.data.dpanel.containerInfo)===null||P===void 0?void 0:P.Name,"/dpanel/compose/".concat(a==null?void 0:a.detail.name)));case 4:case"end":return x.stop()}},m)})),children:R.FD.format("listManageFilePath")}),(0,t.jsx)(T.Z,{type:"vertical"}),function(m){var r="";if((m=a.project)!==null&&m!==void 0&&m.networks){var u=Object.entries(a.project.networks).find(function(h){var P=N()(h,2),re=P[0],x=P[1];return x.external});u&&(r=u[1].name)}return r!=""&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ot.Z,{ref:ct},"network-create"),(0,t.jsx)(We.ZP,{onClick:function(){var P;(P=ct.current)===null||P===void 0||P.show(r)},icon:(0,t.jsx)(q.Z,{}),children:Z.format("joinContainerInNetwork")},"network")]})}(),(0,t.jsx)(We.ZP,{icon:(0,t.jsx)(J.Z,{}),onClick:function(){var r;(r=K.current)===null||r===void 0||r.close(),S(s+1)},children:R.FD.format("listManageRefresh")})]})},"manager"),a&&a.detail.setting.type!="dangling"&&(0,t.jsx)(rt,{ref:K,id:(a==null?void 0:a.detail.id)||(a==null?void 0:a.detail.name)}),a&&a.containerList&&(0,t.jsx)(Re,{containerList:a==null?void 0:a.containerList,enableSelectService:(a==null?void 0:a.detail.setting.type)!="dangling",selectServiceFinish:function(r){var u;(u=y.current)===null||u===void 0||u.setFieldValue("deployServiceName",r)}}),(0,t.jsx)(C.Z,{name:"deployServiceName",hidden:!0}),a&&a.detail.setting.type!="dangling"&&(0,t.jsx)(Ke.Z,{drawerProps:{ghost:!0,title:(0,t.jsx)(z.Z,{}),subTitle:"".concat(Z.format("createEnvTitle"))},showDisableName:!0,showDeleteButton:!1,name:"environment",ref:ne})]})]})}),ue=Xe},75544:function(He,Ze,e){var Ee=e(5574),d=e.n(Ee),Fe=e(12323),j=e(78267),b=e.n(j),p=e(75458),Ce=e.n(p),F=e(67294),X=e(4244),N=e.n(X),c=e(24078),k=e(85893),R,H,U,Te=(0,F.forwardRef)(function(C,Y){var G,ge=(0,F.useState)(!0),J=d()(ge,2),ae=J[0],ce=J[1];return(0,F.useEffect)(function(){return R=new X.Terminal(Fe.X),H=new p.SearchAddon,U=new j.FitAddon,window.addEventListener("resize",function(){C.showInModal||U.fit()}),C.style&&C.style.fontSize&&(R.options.fontSize=C.style.fontSize),R.loadAddon(U),R.loadAddon(H),R.open(document.getElementById(C.id?C.id:"terminal-container")),C.showInModal||U.fit(),function(){R.reset(),ce(!0)}},[]),(0,F.useImperativeHandle)(Y,function(){return{write:function($){ae&&(U.fit(),ce(!1)),R.write($)},clear:function(){R.clear()},getTerminal:function(){return R},findNext:function($){H.findNext($)},findPrev:function($){H.findPrevious($)},fit:function(){U.fit()},onData:function($){return R.onData($)}}}),(0,k.jsx)("div",{id:C.id?C.id:"terminal-container",style:{width:C.width?C.width:"100%",height:C.height?C.height:"500px",marginTop:(G=C.style)===null||G===void 0?void 0:G.marginTop}})});Ze.Z=Te},90098:function(He,Ze,e){e.d(Ze,{GG:function(){return Te},MG:function(){return ae},Oh:function(){return k},Pn:function(){return N},Yz:function(){return Y},iE:function(){return Pe},im:function(){return p},j6:function(){return H},pm:function(){return F},tw:function(){return q},vf:function(){return ge},zN:function(){return _}});var Ee=e(15009),d=e.n(Ee),Fe=e(99289),j=e.n(Fe),b=e(82346);function p(l){return Ce.apply(this,arguments)}function Ce(){return Ce=j()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,b.request)("/dpanel/api/app/compose/create",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),Ce.apply(this,arguments)}function F(l){return X.apply(this,arguments)}function X(){return X=j()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,b.request)("/dpanel/api/app/compose/get-list",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),X.apply(this,arguments)}function N(l){return c.apply(this,arguments)}function c(){return c=j()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,b.request)("/dpanel/api/app/compose/get-task",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),c.apply(this,arguments)}function k(l){return R.apply(this,arguments)}function R(){return R=j()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,b.request)("/dpanel/api/app/compose/container-deploy",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),R.apply(this,arguments)}function H(l){return U.apply(this,arguments)}function U(){return U=j()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,b.request)("/dpanel/api/app/compose/container-destroy",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),U.apply(this,arguments)}function Te(l){return C.apply(this,arguments)}function C(){return C=j()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,b.request)("/dpanel/api/app/compose/container-ctrl",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),C.apply(this,arguments)}function Y(l){return G.apply(this,arguments)}function G(){return G=j()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,b.request)("/dpanel/api/app/compose/container-log",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),G.apply(this,arguments)}function ge(l){return J.apply(this,arguments)}function J(){return J=j()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.download=!0,o.id=String(o.id),n.next=4,(0,b.request)("/dpanel/api/app/compose/container-log",{method:"POST",data:o,responseType:"blob"});case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},l)})),J.apply(this,arguments)}function ae(l){return ce.apply(this,arguments)}function ce(){return ce=j()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,b.request)("/dpanel/api/app/compose/get-from-uri",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),ce.apply(this,arguments)}function _(l){return $.apply(this,arguments)}function $(){return $=j()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,b.request)("/dpanel/api/app/compose/get-from-git",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),$.apply(this,arguments)}function Pe(l){return le.apply(this,arguments)}function le(){return le=j()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,b.request)("/dpanel/api/common/store/deploy",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),le.apply(this,arguments)}function q(l){return z.apply(this,arguments)}function z(){return z=j()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,b.request)("/dpanel/api/app/compose/download",{method:"POST",data:o,responseType:"blob"}));case 2:case"end":return n.stop()}},l)})),z.apply(this,arguments)}}}]);
