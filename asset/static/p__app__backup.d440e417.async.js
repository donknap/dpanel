"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[550],{58638:function(ne,T,e){e.d(T,{Z:function(){return D}});var u=e(87462),a=e(67294),g={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 912H144c-17.7 0-32-14.3-32-32V144c0-17.7 14.3-32 32-32h360c4.4 0 8 3.6 8 8v56c0 4.4-3.6 8-8 8H184v656h656V520c0-4.4 3.6-8 8-8h56c4.4 0 8 3.6 8 8v360c0 17.7-14.3 32-32 32zM770.87 199.13l-52.2-52.2a8.01 8.01 0 014.7-13.6l179.4-21c5.1-.6 9.5 3.7 8.9 8.9l-21 179.4c-.8 6.6-8.9 9.4-13.6 4.7l-52.4-52.4-256.2 256.2a8.03 8.03 0 01-11.3 0l-42.4-42.4a8.03 8.03 0 010-11.3l256.1-256.3z"}}]},name:"export",theme:"outlined"},l=g,Z=e(84089),w=function(C,M){return a.createElement(Z.Z,(0,u.Z)({},C,{ref:M,icon:l}))},E=a.forwardRef(w),D=E},30159:function(ne,T,e){e.d(T,{Z:function(){return D}});var u=e(87462),a=e(67294),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"},l=g,Z=e(84089),w=function(C,M){return a.createElement(Z.Z,(0,u.Z)({},C,{ref:M,icon:l}))},E=a.forwardRef(w),D=E},87740:function(ne,T,e){e.d(T,{Z:function(){return D}});var u=e(87462),a=e(67294),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},l=g,Z=e(84089),w=function(C,M){return a.createElement(Z.Z,(0,u.Z)({},C,{ref:M,icon:l}))},E=a.forwardRef(w),D=E},87784:function(ne,T,e){e.d(T,{Z:function(){return D}});var u=e(87462),a=e(67294),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372 0-89 31.3-170.8 83.5-234.8l523.3 523.3C682.8 852.7 601 884 512 884zm288.5-137.2L277.2 223.5C341.2 171.3 423 140 512 140c205.4 0 372 166.6 372 372 0 89-31.3 170.8-83.5 234.8z"}}]},name:"stop",theme:"outlined"},l=g,Z=e(84089),w=function(C,M){return a.createElement(Z.Z,(0,u.Z)({},C,{ref:M,icon:l}))},E=a.forwardRef(w),D=E},98165:function(ne,T,e){e.d(T,{Z:function(){return D}});var u=e(87462),a=e(67294),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},l=g,Z=e(84089),w=function(C,M){return a.createElement(Z.Z,(0,u.Z)({},C,{ref:M,icon:l}))},E=a.forwardRef(w),D=E},88484:function(ne,T,e){e.d(T,{Z:function(){return D}});var u=e(87462),a=e(67294),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"},l=g,Z=e(84089),w=function(C,M){return a.createElement(Z.Z,(0,u.Z)({},C,{ref:M,icon:l}))},E=a.forwardRef(w),D=E},10781:function(ne,T,e){e.d(T,{Z:function(){return le}});var u=e(5574),a=e.n(u),g=e(87462),l=e(67294),Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},w=Z,E=e(84089),D=function(i,h){return l.createElement(E.Z,(0,g.Z)({},i,{ref:h,icon:w}))},L=l.forwardRef(D),C=L,M=e(98165),N=e(18429),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},ee=_,H=function(i,h){return l.createElement(E.Z,(0,g.Z)({},i,{ref:h,icon:ee}))},se=l.forwardRef(H),y=se,n=e(66212),V={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"},re=V,d=function(i,h){return l.createElement(E.Z,(0,g.Z)({},i,{ref:h,icon:re}))},m=l.forwardRef(d),$=m,k=e(30159),A=e(87740),f=e(50888),F=e(66309),J=e(83062),ue=e(36146),p=e(85893);function le(t){var i,h,c=new ue.Uo("components.containerStatus"),x=t.status.split("."),W=a()(x,2),K=W[0],O=W[1],R="";R=c.format(t.status,(i=t.statusValue)!==null&&i!==void 0?i:{});var B=(0,p.jsx)(p.Fragment,{});return O=="0"&&(B=(0,p.jsx)(F.Z,{icon:(0,p.jsx)(C,{}),color:"default",children:R})),O=="10"&&(B=(0,p.jsx)(F.Z,{icon:(0,p.jsx)(M.Z,{spin:!0}),color:"processing",children:R})),O=="20"&&(B=(0,p.jsx)(F.Z,{icon:(0,p.jsx)(N.Z,{}),color:"error",children:R})),O=="30"&&(B=(0,p.jsx)(F.Z,{icon:(0,p.jsx)(y,{}),color:"success",children:R})),O=="new"&&(B=(0,p.jsx)(F.Z,{icon:(0,p.jsx)(n.Z,{}),children:R})),(O=="running"||O=="healthy"||O=="active"||O=="ready")&&(B=(0,p.jsx)(F.Z,{icon:(0,p.jsx)($,{}),color:"success",children:R})),(O=="paused"||O=="pause"||O=="rollback_paused")&&(B=(0,p.jsx)(F.Z,{icon:(0,p.jsx)(k.Z,{}),color:"warning",children:R})),(O=="waiting"||O=="starting"||O=="accepted")&&(B=(0,p.jsx)(F.Z,{icon:(0,p.jsx)(A.Z,{}),children:R})),["deploying","pending","allocated","accepted","assigned","preparing","updating","rollback_started"].includes(O)&&(B=(0,p.jsx)(F.Z,{icon:(0,p.jsx)(f.Z,{}),color:"processing",children:R})),(O=="error"||O=="down"||O=="failed")&&(B=(0,p.jsx)(F.Z,{icon:(0,p.jsx)(N.Z,{}),color:"error",children:R})),["complete","completed","rollback_completed"].includes(O)&&(B=(0,p.jsx)(F.Z,{icon:(0,p.jsx)(y,{}),color:"success",children:R})),["exited","dead","removing","restarting","unhealthy","created","drain","unreachable","shutdown","rejected","remove","orphaned"].includes(O)&&(B=(0,p.jsx)(F.Z,{icon:(0,p.jsx)(N.Z,{}),color:"warning",children:R})),(0,p.jsx)(J.Z,{placement:"top",title:(h=t.tip)!==null&&h!==void 0?h:"",children:B})}},76428:function(ne,T,e){e.d(T,{Z:function(){return l}});var u=e(25593),a=e(67294),g=e(85893);function l(Z){return(0,g.jsx)(u.Z.Text,{copyable:!0,children:Z.title})}},86645:function(ne,T,e){e.d(T,{Z:function(){return d}});var u=e(4813),a=e(91604),g=e(1413),l=e(55850),Z=e(15861),w=e(97685),E=e(45987),D=e(88484),L=e(31365),C=e(83622),M=e(29104),N=e(67294),_=e(9105),ee=e(90789),H=e(85893),se=["fieldProps","action","accept","listType","title","max","icon","buttonProps","disabled","proFieldProps","imageProps"],y=function($){return new Promise(function(k,A){var f=new FileReader;f.readAsDataURL($),f.onload=function(){return k(f.result)},f.onerror=function(F){return A(F)}})},n=function($,k){var A,f=$.fieldProps,F=$.action,J=$.accept,ue=$.listType,p=$.title,le=p===void 0?"\u5355\u51FB\u4E0A\u4F20":p,t=$.max,i=$.icon,h=i===void 0?(0,H.jsx)(D.Z,{}):i,c=$.buttonProps,x=$.disabled,W=$.proFieldProps,K=$.imageProps,O=(0,E.Z)($,se),R=(0,N.useState)(!1),B=(0,w.Z)(R,2),pe=B[0],de=B[1],te=(0,N.useState)(""),ve=(0,w.Z)(te,2),ie=ve[0],z=ve[1],Q=(0,N.useMemo)(function(){var S;return(S=O.fileList)!==null&&S!==void 0?S:O.value},[O.fileList,O.value]),G=function(){var S=(0,Z.Z)((0,l.Z)().mark(function r(o){return(0,l.Z)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(!o.url&&!o.preview)){j.next=4;break}return j.next=3,y(o.originFileObj);case 3:o.preview=j.sent;case 4:z(o.url||o.preview),de(!0);case 6:case"end":return j.stop()}},r)}));return function(o){return S.apply(this,arguments)}}(),U=(0,N.useContext)(_.A),q=(W==null?void 0:W.mode)||U.mode||"edit",ae=(t===void 0||!Q||(Q==null?void 0:Q.length)<t)&&q!=="read",ce=(ue!=null?ue:f==null?void 0:f.listType)==="picture-card";return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(L.Z,(0,g.Z)((0,g.Z)({action:F,accept:J,ref:k,listType:ue||"picture",fileList:Q,onPreview:G},f),{},{name:(A=f==null?void 0:f.name)!==null&&A!==void 0?A:"file",onChange:function(r){var o;f==null||(o=f.onChange)===null||o===void 0||o.call(f,r)},children:ae&&(ce?(0,H.jsxs)("span",{children:[h," ",le]}):(0,H.jsxs)(C.ZP,(0,g.Z)((0,g.Z)({disabled:x||(f==null?void 0:f.disabled)},c),{},{children:[h,le]})))})),ie&&(0,H.jsx)(M.Z,(0,g.Z)((0,g.Z)({wrapperStyle:{display:"none"}},K),{},{preview:(0,g.Z)({visible:pe,onVisibleChange:function(r){return de(r)},afterOpenChange:function(r){return!r&&z("")}},(K==null?void 0:K.preview)||{}),src:ie}))]})},V=(0,ee.G)(N.forwardRef(n),{getValueFromEvent:function($){return $.fileList}}),re=V;function d(m){return m.showDragger?(0,H.jsx)(a.Z,{max:m.max?m.max:1,title:m.title,label:m.label,required:m.required,rules:[{required:m.required}],fieldProps:{multiple:!!(m.max&&m.max>1),name:"file",accept:m.accept,action:"/dpanel/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(k){return new Promise(function(A){var f;(0,u._)({path:(f=k.response.data.path)!==null&&f!==void 0?f:""}).then(function(F){A(!0)})})},onChange:function(k){k.file.status=="done"&&m.onFinish&&m.onFinish(k.fileList)}},name:m.name}):(0,H.jsx)(re,{max:m.max?m.max:1,title:m.title,label:m.label,required:m.required,rules:[{required:m.required}],fieldProps:{multiple:!!(m.max&&m.max>1),name:"file",accept:m.accept,action:"/dpanel/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(k){return new Promise(function(A){var f;(0,u._)({path:(f=k.response.data.path)!==null&&f!==void 0?f:""}).then(function(F){A(!0)})})},onChange:function(k){k.file.status=="done"&&m.onFinish&&m.onFinish(k.fileList)}},name:m.name})}},65913:function(ne,T,e){var u=e(5574),a=e.n(u),g=e(74330),l=e(67294),Z=e(85893),w=(0,l.forwardRef)(function(E,D){(0,l.useImperativeHandle)(D,function(){return{show:function(){N(!0)},destroy:function(){N(!1)}}});var L=(0,l.useState)(!1),C=a()(L,2),M=C[0],N=C[1];return(0,Z.jsx)(g.Z,{spinning:M,size:"default",children:E.children})});T.Z=w},6091:function(ne,T,e){e.r(T),e.d(T,{default:function(){return ie}});var u=e(15009),a=e.n(u),g=e(99289),l=e.n(g),Z=e(37476),w=e(86615),E=e(97462),D=e(5966),L=e(83622),C=e(67294),M=e(1699),N=e(63713);function _(z){return ee.apply(this,arguments)}function ee(){return ee=l()(a()().mark(function z(Q){return a()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,N.request)("/dpanel/api/pro/container-backup/import",{data:Q,method:"POST"});case 2:return U.abrupt("return",U.sent);case 3:case"end":return U.stop()}},z)})),ee.apply(this,arguments)}var H=e(3616),se=e(86645),y=e(36146),n=e(85893),V=(0,C.forwardRef)(function(z,Q){(0,C.useImperativeHandle)(Q,function(){return{}});var G=(0,C.useRef)(),U=new y.Uo("components.appDetail");return(0,n.jsx)(M.u,{showProTips:!0,access:["canSeeEnableCe","canSeeEnableDockerEnvLocal"],children:function(ae){var ce=ae.canSeeEnableCe,S=ae.canSeeEnableDockerEnvLocal;return S&&(0,n.jsxs)(Z.Y,{modalProps:{width:H.ob},onFinish:function(){var r=l()(a()().mark(function o(v){var j,s,P;return a()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return j=v.tarFilePath,v.tarFileUpload&&v.tarFileUpload.length>0&&(j=(s=v.tarFileUpload[0].response.data.path)!==null&&s!==void 0?s:""),X.next=4,_({type:v.type,tarFilePath:j});case 4:return P=X.sent,z.onFinish&&z.onFinish(),X.abrupt("return",!0);case 7:case"end":return X.stop()}},o)}));return function(o){return r.apply(this,arguments)}}(),title:U.format("backupImportTitle"),formRef:G,trigger:(0,n.jsx)(L.ZP,{disabled:ce,type:"primary",children:U.format("backupImportTitle")}),onOpenChange:function(){var o;(o=G.current)===null||o===void 0||o.resetFields()},children:[(0,n.jsx)(w.Z.Group,{label:U.format("backupImportType"),name:"type",initialValue:"upload",options:U.option("backupImportTypeOption",["upload"])}),(0,n.jsx)(E.Z,{name:["type"],children:function(o){var v=o.type;if(v=="upload")return(0,n.jsx)(se.Z,{required:!0,label:U.format("backupImportTarFileUpload"),name:"tarFileUpload",accept:".snapshot"});if(v=="serverPath")return(0,n.jsx)(D.Z,{required:!0,rules:[{required:!0}],name:"tarFilePath",label:U.format("backupImportTarFilePath")})}})]})}})}),re=V,d=e(5574),m=e.n(d),$=e(65913),k=e(85265),A=e(26412),f=e(23345),F=e(96074),J=e(25593),ue=e(66309),p=e(2487),le=e(70146),t=e(5251),i=e(45605),h=e(58638),c=e(38345),x=e(76428),W=(0,C.forwardRef)(function(z,Q){(0,C.useImperativeHandle)(Q,function(){return{show:function(P){return l()(a()().mark(function b(){var X;return a()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,(0,le.iD)({id:P});case 2:X=I.sent,ce(X.data.detail),v(!0);case 5:case"end":return I.stop()}},b)}))()}}});var G=(0,C.useRef)(),U=(0,C.useState)(),q=m()(U,2),ae=q[0],ce=q[1],S=(0,C.useState)(!1),r=m()(S,2),o=r[0],v=r[1],j=new y.Uo("components.appDetail");return(0,n.jsx)(k.Z,{title:j.format("titleBackup"),open:o,onClose:function(){v(!1)},width:H.R_,children:(0,n.jsx)($.Z,{ref:G,children:ae&&ae.map(function(s){var P,b,X=[],me=[];return s.NetworkSettings&&s.NetworkSettings.Ports&&Object.entries(s.NetworkSettings.Ports).map(function(I){var Y=m()(I,2),oe=Y[0],ge=Y[1],fe=ge!=null?ge:[{HostPort:null,HostIp:""}],Ce=oe.split("/"),he=m()(Ce,2),ye=he[0],Oe=he[1];fe.map(function(xe){xe.HostPort?X.push({PrivatePort:ye,Type:Oe,IP:xe.HostIp,PublicPort:xe.HostPort}):me.push({PrivatePort:ye,Type:Oe,IP:"",PublicPort:""})})}),(0,n.jsx)(c.Z,{title:(0,n.jsx)(i.Z,{}),subTitle:j.format("titleBasic"),ghost:!0,children:(0,n.jsxs)(A.Z,{column:1,bordered:!0,children:[(0,n.jsx)(A.Z.Item,{label:y.FD.format("listName"),children:(0,n.jsx)(f.Z,{split:(0,n.jsx)(F.Z,{type:"vertical"}),children:(0,n.jsx)(J.Z.Text,{children:(0,t.fi)(s.Name,"/")})})}),(0,n.jsx)(A.Z.Item,{label:y.FD.format("listImageName"),children:(0,n.jsxs)(f.Z,{split:(0,n.jsx)(F.Z,{type:"vertical"}),children:[(0,n.jsx)(J.Z.Text,{copyable:!0,children:s.Config.Image}),(0,n.jsx)(ue.Z,{color:"blue",children:s.EnableImage?y.FD.format("listHas"):y.FD.format("listHasNot")})]})}),(0,n.jsx)(A.Z.Item,{label:y.FD.format("listPort"),children:(0,n.jsx)(f.Z,{size:"large",wrap:!0,children:[].concat(X,me).map(function(I,Y){return(0,n.jsx)(ue.Z,{color:I.PublicPort?"#2db7f5":"warning",icon:I.PublicPort?(0,n.jsx)(h.Z,{}):"",style:{marginBottom:10,marginRight:15,width:210},children:I.PublicPort?"".concat(I.PublicPort?I.IP+":"+I.PublicPort+" -> ":"").concat(I.PrivatePort,"/").concat(I.Type):"".concat(I.PrivatePort,"/").concat(I.Type)},Y)})},"space")}),s.State.Running&&s.NetworkSettings.Networks&&Object.keys(s.NetworkSettings.Networks).map(function(I,Y){return(0,n.jsx)(A.Z.Item,{label:I,children:I=="host"?y.FD.format("listNetworkUseHost"):(0,n.jsxs)(f.Z,{direction:"vertical",children:[(0,n.jsx)(x.Z,{title:s.NetworkSettings.Networks[I].IPAddress}),s.NetworkSettings.Networks[I].Gateway,s.NetworkSettings.Networks[I].MacAddress]})},Y)}),(0,n.jsx)(A.Z.Item,{label:y.FD.format("listEnv"),children:(0,n.jsx)(p.Z,{dataSource:(P=s.Config.Env)!==null&&P!==void 0?P:[],renderItem:function(Y){var oe=Y.split("=");return(0,n.jsxs)(p.Z.Item,{children:[(0,n.jsx)(J.Z.Text,{code:!0,children:oe[0]})," = ",(0,n.jsx)(J.Z.Text,{copyable:!0,children:oe.slice(1).join("=")})]},oe[0])}})}),s.Mounts&&s.Mounts.length>0&&(0,n.jsx)(A.Z.Item,{label:y.FD.format("listHostPath"),children:(0,n.jsx)(p.Z,{dataSource:(b=s.Mounts)!==null&&b!==void 0?b:[],renderItem:function(Y){return(0,n.jsxs)(p.Z.Item,{children:[(0,n.jsx)(J.Z.Text,{code:!0,children:Y.Source})," : ",(0,n.jsx)(J.Z.Text,{children:Y.Destination})]},Y.Source)}})})]})},s.Name)})})})}),K=W,O=e(10781),R=e(55681),B=e(24963),pe=e(99611),de=e(87740),te=e(87784),ve=e(74453);function ie(){var z=new y.Uo("app"),Q=(0,N.useAccess)(),G=(0,C.useRef)(),U=(0,N.useModel)("subscriber"),q=(0,C.useRef)(),ae=(0,C.useContext)(B.Z),ce=ae.message;return(0,n.jsxs)(ve._z,{children:[(0,n.jsx)(K,{ref:q}),(0,n.jsx)(R.Co,{rowKey:"id",columns:[{title:y.FD.format("listContainerName"),dataIndex:"containerId",width:150,render:function(r,o,v,j,s){return(0,n.jsx)(J.Z.Link,{onClick:function(){var b;(b=q.current)===null||b===void 0||b.show(o.id)},children:(0,t.fi)(o.containerId,"/")})}},{title:y.FD.format("listFilePath"),search:!1,width:300,render:function(r,o,v,j,s){var P=o.setting.backupTar;return(0,n.jsx)("span",{style:{wordBreak:"break-word"},children:P.substring(P.lastIndexOf("/",P.lastIndexOf("/")-1))})}},{title:y.FD.format("listSize"),search:!1,width:100,render:function(r,o,v,j,s){return o.setting.size?(0,n.jsx)(J.Z.Text,{children:(0,t.FI)(o.setting.size)}):"-"}},{title:y.FD.format("listContainerVolume"),search:!1,minWidth:100,render:function(r,o,v,j,s){return(0,n.jsx)(f.Z,{wrap:!0,children:o.setting.volumePathList.map(function(P){return P})})}},{title:y.FD.format("listStatus"),search:!1,width:80,render:function(r,o,v,j,s){var P,b;return(0,n.jsx)(O.Z,{tip:(P=o.setting.error)!==null&&P!==void 0?P:"",status:"status.".concat((b=o.setting.status)!==null&&b!==void 0?b:"30")},o.id)}},{title:y.FD.format("listCreatedAt"),search:!1,width:200,render:function(r,o,v,j,s){return new Date(o.createdAt).toLocaleString()}}],request:function(){var S=l()(a()().mark(function r(o,v,j){var s;return a()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,le.Zy)({containerId:o.containerId,page:o.current,pageSize:o.pageSize});case 2:return s=b.sent,b.abrupt("return",{data:s.data.list,success:!0,total:s.data.total});case 4:case"end":return b.stop()}},r)}));return function(r,o,v){return S.apply(this,arguments)}}(),rowSelection:Q.canSeeContainerBackupManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:G,quickToolbar:{render:function(r){return(0,n.jsx)(f.Z,{children:(0,n.jsx)(re,{onFinish:function(){var v;!((v=G.current)===null||v===void 0)&&v.reloadAndRest&&G.current.reloadAndRest()}},"backup-import")})}},actions:[{key:"view",label:y.FD.format("listManageView"),showInContext:"manage",showInOperator:!0,buttonProps:{icon:(0,n.jsx)(pe.Z,{})},disable:function(r){return r.isMultiple()||r.selectedRow&&r.selectedRow.setting.status!="30"},action:function(r){return l()(a()().mark(function o(){var v,j,s;return a()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:j=r.finish,s=r.selectedRow,j(!0),(v=q.current)===null||v===void 0||v.show(s.id);case 3:case"end":return b.stop()}},o)}))()}},{key:"recover",label:y.FD.format("listManageUnpause"),showInContext:"manage",showInOperator:!0,buttonProps:{icon:(0,n.jsx)(de.Z,{})},confirmProps:{description:z.format("recycleRestoreConfirm")},action:function(r){return l()(a()().mark(function o(){var v,j;return a()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return v=r.finish,j=r.selectedRow,v(!0),P.abrupt("return",(0,le.SR)({id:j.id,enableForce:!1}).then(function(){ce.success(y.FD.format("finish"))}).finally(function(){v(!0)}));case 3:case"end":return P.stop()}},o)}))()},disable:function(r){return r.isMultiple()||r.selectedRow&&r.selectedRow.setting.status!="30"}},{key:"stop",label:y.FD.format("listManageStop"),showInContext:"manage",showInOperator:!0,buttonProps:{icon:(0,n.jsx)(te.Z,{})},disable:function(r){return r.isMultiple()||r.selectedRow&&r.selectedRow.setting.status!="10"},action:function(r){return l()(a()().mark(function o(){var v;return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return v=r.selectedRow,U.progress.close("container:backup:".concat(v.id)),setTimeout(function(){var P;!((P=G.current)===null||P===void 0)&&P.reloadAndRest&&G.current.reloadAndRest()},500),s.abrupt("return",!1);case 4:case"end":return s.stop()}},o)}))()}},{key:"delete",action:function(r){return l()(a()().mark(function o(){var v,j,s;return a()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return v=r.loading,j=r.finish,s=r.selectedRows,v(),b.abrupt("return",(0,le.VE)({id:s.map(function(X){return X.id})}).finally(function(){j(!0)}));case 3:case"end":return b.stop()}},o)}))()}}]})]})}},70146:function(ne,T,e){e.d(T,{SR:function(){return N},VE:function(){return C},Zy:function(){return D},iD:function(){return ee},vG:function(){return se},yB:function(){return w}});var u=e(15009),a=e.n(u),g=e(99289),l=e.n(g),Z=e(63713);function w(n){return E.apply(this,arguments)}function E(){return E=l()(a()().mark(function n(V){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,Z.request)("/dpanel/api/app/container-backup/create",{data:V,method:"POST"});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},n)})),E.apply(this,arguments)}function D(n){return L.apply(this,arguments)}function L(){return L=l()(a()().mark(function n(V){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,Z.request)("/dpanel/api/app/container-backup/get-list",{method:"POST",data:V}));case 1:case"end":return d.stop()}},n)})),L.apply(this,arguments)}function C(n){return M.apply(this,arguments)}function M(){return M=l()(a()().mark(function n(V){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,Z.request)("/dpanel/api/app/container-backup/delete",{method:"POST",data:V}));case 1:case"end":return d.stop()}},n)})),M.apply(this,arguments)}function N(n){return _.apply(this,arguments)}function _(){return _=l()(a()().mark(function n(V){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,Z.request)("/dpanel/api/app/container-backup/restore",{method:"POST",data:V}));case 1:case"end":return d.stop()}},n)})),_.apply(this,arguments)}function ee(n){return H.apply(this,arguments)}function H(){return H=l()(a()().mark(function n(V){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,Z.request)("/dpanel/api/app/container-backup/get-detail",{method:"POST",data:V}));case 1:case"end":return d.stop()}},n)})),H.apply(this,arguments)}function se(n){return y.apply(this,arguments)}function y(){return y=l()(a()().mark(function n(V){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,Z.request)("/dpanel/api/app/site/restore",{data:V,method:"POST"});case 2:return d.abrupt("return",d.sent);case 3:case"end":return d.stop()}},n)})),y.apply(this,arguments)}},66309:function(ne,T,e){e.d(T,{Z:function(){return le}});var u=e(67294),a=e(93967),g=e.n(a),l=e(98423),Z=e(98787),w=e(69760),E=e(96159),D=e(45353),L=e(53124),C=e(11568),M=e(15063),N=e(14747),_=e(83262),ee=e(83559);const H=t=>{const{paddingXXS:i,lineWidth:h,tagPaddingHorizontal:c,componentCls:x,calc:W}=t,K=W(c).sub(h).equal(),O=W(i).sub(h).equal();return{[x]:Object.assign(Object.assign({},(0,N.Wf)(t)),{display:"inline-block",height:"auto",marginInlineEnd:t.marginXS,paddingInline:K,fontSize:t.tagFontSize,lineHeight:t.tagLineHeight,whiteSpace:"nowrap",background:t.defaultBg,border:`${(0,C.bf)(t.lineWidth)} ${t.lineType} ${t.colorBorder}`,borderRadius:t.borderRadiusSM,opacity:1,transition:`all ${t.motionDurationMid}`,textAlign:"start",position:"relative",[`&${x}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:t.defaultColor},[`${x}-close-icon`]:{marginInlineStart:O,fontSize:t.tagIconSize,color:t.colorIcon,cursor:"pointer",transition:`all ${t.motionDurationMid}`,"&:hover":{color:t.colorTextHeading}},[`&${x}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${t.iconCls}-close, ${t.iconCls}-close:hover`]:{color:t.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${x}-checkable-checked):hover`]:{color:t.colorPrimary,backgroundColor:t.colorFillSecondary},"&:active, &-checked":{color:t.colorTextLightSolid},"&-checked":{backgroundColor:t.colorPrimary,"&:hover":{backgroundColor:t.colorPrimaryHover}},"&:active":{backgroundColor:t.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${t.iconCls} + span, > span + ${t.iconCls}`]:{marginInlineStart:K}}),[`${x}-borderless`]:{borderColor:"transparent",background:t.tagBorderlessBg}}},se=t=>{const{lineWidth:i,fontSizeIcon:h,calc:c}=t,x=t.fontSizeSM;return(0,_.IX)(t,{tagFontSize:x,tagLineHeight:(0,C.bf)(c(t.lineHeightSM).mul(x).equal()),tagIconSize:c(h).sub(c(i).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:t.defaultBg})},y=t=>({defaultBg:new M.t(t.colorFillQuaternary).onBackground(t.colorBgContainer).toHexString(),defaultColor:t.colorText});var n=(0,ee.I$)("Tag",t=>{const i=se(t);return H(i)},y),V=function(t,i){var h={};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&i.indexOf(c)<0&&(h[c]=t[c]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,c=Object.getOwnPropertySymbols(t);x<c.length;x++)i.indexOf(c[x])<0&&Object.prototype.propertyIsEnumerable.call(t,c[x])&&(h[c[x]]=t[c[x]]);return h},d=u.forwardRef((t,i)=>{const{prefixCls:h,style:c,className:x,checked:W,children:K,icon:O,onChange:R,onClick:B}=t,pe=V(t,["prefixCls","style","className","checked","children","icon","onChange","onClick"]),{getPrefixCls:de,tag:te}=u.useContext(L.E_),ve=q=>{R==null||R(!W),B==null||B(q)},ie=de("tag",h),[z,Q,G]=n(ie),U=g()(ie,`${ie}-checkable`,{[`${ie}-checkable-checked`]:W},te==null?void 0:te.className,x,Q,G);return z(u.createElement("span",Object.assign({},pe,{ref:i,style:Object.assign(Object.assign({},c),te==null?void 0:te.style),className:U,onClick:ve}),O,u.createElement("span",null,K)))}),m=e(98719);const $=t=>(0,m.Z)(t,(i,{textColor:h,lightBorderColor:c,lightColor:x,darkColor:W})=>({[`${t.componentCls}${t.componentCls}-${i}`]:{color:h,background:x,borderColor:c,"&-inverse":{color:t.colorTextLightSolid,background:W,borderColor:W},[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}));var k=(0,ee.bk)(["Tag","preset"],t=>{const i=se(t);return $(i)},y);function A(t){return typeof t!="string"?t:t.charAt(0).toUpperCase()+t.slice(1)}const f=(t,i,h)=>{const c=A(h);return{[`${t.componentCls}${t.componentCls}-${i}`]:{color:t[`color${h}`],background:t[`color${c}Bg`],borderColor:t[`color${c}Border`],[`&${t.componentCls}-borderless`]:{borderColor:"transparent"}}}};var F=(0,ee.bk)(["Tag","status"],t=>{const i=se(t);return[f(i,"success","Success"),f(i,"processing","Info"),f(i,"error","Error"),f(i,"warning","Warning")]},y),J=function(t,i){var h={};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&i.indexOf(c)<0&&(h[c]=t[c]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,c=Object.getOwnPropertySymbols(t);x<c.length;x++)i.indexOf(c[x])<0&&Object.prototype.propertyIsEnumerable.call(t,c[x])&&(h[c[x]]=t[c[x]]);return h};const p=u.forwardRef((t,i)=>{const{prefixCls:h,className:c,rootClassName:x,style:W,children:K,icon:O,color:R,onClose:B,bordered:pe=!0,visible:de}=t,te=J(t,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:ve,direction:ie,tag:z}=u.useContext(L.E_),[Q,G]=u.useState(!0),U=(0,l.Z)(te,["closeIcon","closable"]);u.useEffect(()=>{de!==void 0&&G(de)},[de]);const q=(0,Z.o2)(R),ae=(0,Z.yT)(R),ce=q||ae,S=Object.assign(Object.assign({backgroundColor:R&&!ce?R:void 0},z==null?void 0:z.style),W),r=ve("tag",h),[o,v,j]=n(r),s=g()(r,z==null?void 0:z.className,{[`${r}-${R}`]:ce,[`${r}-has-color`]:R&&!ce,[`${r}-hidden`]:!Q,[`${r}-rtl`]:ie==="rtl",[`${r}-borderless`]:!pe},c,x,v,j),P=oe=>{oe.stopPropagation(),B==null||B(oe),!oe.defaultPrevented&&G(!1)},[,b]=(0,w.b)((0,w.w)(t),(0,w.w)(z),{closable:!1,closeIconRender:oe=>{const ge=u.createElement("span",{className:`${r}-close-icon`,onClick:P},oe);return(0,E.wm)(oe,ge,fe=>({onClick:Ce=>{var he;(he=fe==null?void 0:fe.onClick)===null||he===void 0||he.call(fe,Ce),P(Ce)},className:g()(fe==null?void 0:fe.className,`${r}-close-icon`)}))}}),X=typeof te.onClick=="function"||K&&K.type==="a",me=O||null,I=me?u.createElement(u.Fragment,null,me,K&&u.createElement("span",null,K)):K,Y=u.createElement("span",Object.assign({},U,{ref:i,className:s,style:S}),I,b,q&&u.createElement(k,{key:"preset",prefixCls:r}),ae&&u.createElement(F,{key:"status",prefixCls:r}));return o(X?u.createElement(D.Z,{component:"Tag"},Y):Y)});p.CheckableTag=d;var le=p}}]);
