"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8566],{1699:function(re,Z,t){t.d(Z,{u:function(){return U}});var B=t(9783),u=t.n(B),N=t(97857),S=t.n(N),F=t(67294),b=t(82346),O=t(40411),k=t(42075),M=t(85893),U=function(i){var T=(0,b.useAccess)(),e=Array.isArray(i.access)?i.access:[i.access],I,p=i.fallback;if(typeof i.children=="function"?(I=i.children(e.reduce(function(o,l){return S()(S()({},o),{},u()({},l,T[l]))},{})),I||(I=p)):e.every(function(o){return T[o]})?I=i.children:I=p,!p&&I&&i.showProTips&&T.canSeeEnableCe){if(T.canSeeEnableHiddenProTips)return null;I=(0,M.jsx)(O.Z,{offset:i.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:I})}if(!p&&I&&i.showProRibbonTips&&T.canSeeEnableCe){if(T.canSeeEnableHiddenProTips)return null;I=(0,M.jsx)(O.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:I})}return i.space?(0,M.jsx)(k.Z,S()(S()({},i.space),{},{children:I})):I}},80821:function(re,Z,t){t.d(Z,{Z:function(){return T}});var B=t(97857),u=t.n(B),N=t(5574),S=t.n(N),F=t(24963),b=t(36146),O=t(86738),k=t(83062),M=t(96074),U=t(83622),D=t(67294),i=t(85893);function T(e){var I=(0,D.useState)(!1),p=S()(I,2),o=p[0],l=p[1],v=(0,D.useContext)(F.Z),xe=v.message,de=function(){l(!0);var pe=e.action();pe instanceof Promise?pe.then(function(se){if(l(!1),se){typeof e.onSuccess=="function"&&e.onSuccess(se);var Ie=b.FD.format("finish");xe.success(Ie)}}).catch(function(se){l(!1),typeof e.onError=="function"&&e.onError(se)}):l(!1)};if(e.confirmProps){var ce,me,fe,H,ve,te,R,he=e.confirmProps.description;return e.confirmProps.showCommonConfirm&&(he=b.FD.format("confirm.title")),e.confirmProps.showCommonDisabled&&(he=b.FD.format("confirm.disable")),(0,i.jsx)(O.Z,u()(u()({},e.confirmProps),{},{style:{width:500},title:(ce=e.confirmProps)!==null&&ce!==void 0&&ce.title?(me=e.confirmProps)===null||me===void 0?void 0:me.title:b.FD.format("title.tip"),description:he,onConfirm:de,okText:"Yes",cancelText:"No",children:(0,i.jsxs)(k.Z,{title:e.tips,children:[e.showDivider&&(0,i.jsx)(M.Z,{type:"vertical",style:{marginRight:15}}),(0,i.jsx)(U.ZP,u()(u()({},e.buttonProps),{},{ghost:((fe=e.buttonProps)===null||fe===void 0?void 0:fe.ghost)&&((H=e.buttonProps)===null||H===void 0?void 0:H.type)!=="link",style:(ve=e.buttonProps)!==null&&ve!==void 0&&ve.ghost?u()(u()({},e.buttonProps.style),{},{padding:0,width:"auto"}):u()({},(te=e.buttonProps)===null||te===void 0?void 0:te.style),icon:!e.children&&o||(R=e.buttonProps)===null||R===void 0?void 0:R.icon,loading:o,children:e.children}))]})}))}else{var _e,ge,ie,le,je;return(0,i.jsxs)(k.Z,{title:e.tips,children:[e.showDivider&&(0,i.jsx)(M.Z,{type:"vertical",style:{marginRight:15}}),(0,i.jsx)(U.ZP,u()(u()({},e.buttonProps),{},{ghost:((_e=e.buttonProps)===null||_e===void 0?void 0:_e.ghost)&&((ge=e.buttonProps)===null||ge===void 0?void 0:ge.type)!=="link",style:(ie=e.buttonProps)!==null&&ie!==void 0&&ie.ghost?u()(u()({},e.buttonProps.style),{},{padding:0,width:"auto"}):u()({},(le=e.buttonProps)===null||le===void 0?void 0:le.style),icon:!e.children&&o||(je=e.buttonProps)===null||je===void 0?void 0:je.icon,loading:o,onClick:de,children:e.children}))]})}}},3616:function(re,Z,t){t.d(Z,{Ed:function(){return S},FK:function(){return u},R_:function(){return B},ob:function(){return N}});var B=window.innerWidth<=1024?"90vw":"65vw",u="90vw",N="60vw",S="50vh"},24963:function(re,Z,t){var B=t(67294),u=(0,B.createContext)({});Z.Z=u},72289:function(re,Z,t){t.r(Z),t.d(Z,{default:function(){return Ge}});var B=t(15009),u=t.n(B),N=t(99289),S=t.n(N),F=t(5574),b=t.n(F),O=t(19632),k=t.n(O),M=t(1699),U=t(80821),D=t(82346),i=t(67294),T=t(64389),e=t(85893);function I(f){var h=(0,D.useModel)("@@initialState"),_=h.initialState,d="chart-area-".concat(f.name),E=(0,i.useState)(),L=b()(E,2),P=L[0],x=L[1],y={};f.data.forEach(function(r){r.show===!1?y[r.name]=!1:y[r.name]=!0});var C={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},valueFormatter:function(g){return f.yValueFormatter?f.yValueFormatter(g):g}},legend:{selected:y},grid:{left:"0",right:"0",bottom:"0",top:"30",containLabel:!0},xAxis:{type:"category",data:f.data[0].data.map(function(r){return r.date}),boundaryGap:!1,axisLabel:{rotate:20}},yAxis:{type:"value",axisLabel:{formatter:f.yLabelFormatter},max:function(g){if(f.yDomainMaxCallback)return f.yDomainMaxCallback(g)}},series:[]};return(0,i.useEffect)(function(){var r="",g=window.matchMedia("(prefers-color-scheme: dark)");(_==null?void 0:_.theme.algorithm)=="dark"||g.matches?r="dark":r="",P&&!P.isDisposed()&&P.dispose();var z=document.getElementById(d),K=T.S1(z,r);K.setOption(C);var G=new ResizeObserver(function(){K.resize()});z&&G.observe(z),x(K)},[_]),(0,i.useEffect)(function(){P&&!P.isDisposed()&&P.setOption({legend:{data:f.data.map(function(r){return r.name})},xAxis:{data:f.data[0].data.map(function(r){return r.date})},series:f.data.map(function(r){return{name:r.name,type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:r.data.map(function(g){return g.value})}})})},[f.data]),(0,e.jsx)("div",{style:{height:200},id:d})}var p=t(3616),o=t(5251),l=t(36146),v=t(184),xe=t(25593),de=t(60940),ce=new l.Uo("components.containerStat");function me(f){return(0,e.jsx)(v.a,{drawerProps:{width:p.R_},title:ce.format("detailTitle"),submitter:!1,trigger:(0,e.jsx)(xe.Z.Link,{children:l.FD.format("listManageDetail")}),children:(0,e.jsx)(de.Z,{pagination:!1,dataSource:f.data,rowKey:"name",columns:[{title:l.FD.format("listContainerName"),dataIndex:"name"},{title:"Cpu",dataIndex:"cpu",sorter:function(_,d){return _.cpu-d.cpu},render:function(_,d,E){return"".concat(d.cpu.toFixed(2),"%")}},{title:"Memory",dataIndex:"memory",sorter:function(_,d){return _.memory.in-d.memory.in},render:function(_,d,E){var L,P;return"".concat((0,o.FI)((L=d==null?void 0:d.memory.in)!==null&&L!==void 0?L:0)," / ").concat((0,o.FI)((P=d==null?void 0:d.memory.out)!==null&&P!==void 0?P:0))}},{title:l.FD.format("listNetworkIO"),dataIndex:"networkIO",width:180,render:function(_,d,E){return"".concat((0,o.FI)(d.networkIO.in)," / ").concat((0,o.FI)(d.networkIO.out))}},{title:l.FD.format("listDiskIO"),dataIndex:"blockIO",width:180,render:function(_,d,E){return"".concat((0,o.FI)(d.blockIO.in)," / ").concat((0,o.FI)(d.blockIO.out))}}]})})}var fe=t(97857),H=t.n(fe),ve={tooltip:{show:!0,formatter:function(h){return h&&h.data&&h.data.tooltipItem?h.data.tooltipItem.map(function(_){return"<div>".concat(_.field,": ").concat(_.content,"</div>")}).join(" "):"".concat(h.data.name,": ").concat((0,o.FI)(h.data.value))}},legend:{selectedMode:"single",top:0,itemGap:5},series:[]},te={name:"",type:"treemap",left:0,right:0,top:30,bottom:0,roam:!1,label:{show:!0},levels:[{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}}],sort:!0,leafDepth:1,data:[]},R=new l.Uo("components.containerStat"),he=(0,i.forwardRef)(function(f,h){var _=(0,i.useState)(),d=b()(_,2),E=d[0],L=d[1];(0,i.useImperativeHandle)(h,function(){return{show:P}});function P(x){if(!x.Containers||!x.Images){E&&E.setOption({series:[H()(H()({},te),{},{name:"",data:[{name:R.format("usageEmpty"),value:1}]})]});return}var y=[],C=[];x.Containers&&x.Containers.forEach(function(r){var g,z,K,G=r.SizeRootFs+((g=r.SizeRw)!==null&&g!==void 0?g:0),q=[];r.Mounts&&r.Mounts.forEach(function(X){var ee=x.Volumes&&x.Volumes.find(function(Se){return Se.Name==X.Name});ee&&(G+=ee.UsageData.Size,q.push({name:R.format("usageVolume",{name:X.Name}),value:ee.UsageData.Size,children:[]}))});var oe={name:(0,o.fi)(r.Names[0],"/"),value:G,tooltipItem:[{field:(0,o.fi)(r.Names[0],"/"),content:(0,o.FI)(G)},{field:R.format("usageContainerRootFs"),content:(0,o.FI)((z=r.SizeRootFs)!==null&&z!==void 0?z:0)},{field:R.format("usageContainerRw"),content:(0,o.FI)((K=r.SizeRw)!==null&&K!==void 0?K:0)}],children:[{name:R.format("usageContainerRootFs"),value:r.SizeRootFs,children:[]},{name:R.format("usageContainerRw"),value:r.SizeRw,children:[]}]};if(q&&q.length>0){var ue,ae;(ue=oe.children).push.apply(ue,q),(ae=oe.tooltipItem)===null||ae===void 0||ae.push.apply(ae,k()(q.map(function(X){var ee;return{field:X.name,content:(0,o.FI)((ee=X.value)!==null&&ee!==void 0?ee:0)}})))}C.push(oe)}),y.push(H()(H()({},te),{},{name:R.format("usageTitleContainer"),data:C})),C=[],x.Images&&x.Images.forEach(function(r){var g,z,K,G;C.push({name:r.RepoTags?r.RepoTags[0]:r.Id.substring(7,19),value:r.Size+((g=r.SharedSize)!==null&&g!==void 0?g:0),tooltipItem:[{field:r.RepoTags?r.RepoTags[0]:r.Id.substring(7,19),content:(0,o.FI)(r.Size+((z=r.SharedSize)!==null&&z!==void 0?z:0))},{field:R.format("usageImageSize"),content:(0,o.FI)((K=r.Size)!==null&&K!==void 0?K:0)},{field:R.format("usageImageSharedSize"),content:(0,o.FI)((G=r.SharedSize)!==null&&G!==void 0?G:0)}],children:[{name:R.format("usageImageSize"),value:r.Size,children:[]},{name:R.format("usageImageSharedSize"),value:r.SharedSize,children:[]}]})}),y.push(H()(H()({},te),{},{name:R.format("usageTitleImage"),data:C})),C=[],x.Volumes&&x.Volumes.forEach(function(r){C.push({name:r.Name,value:r.UsageData.Size,children:[]})}),y.push(H()(H()({},te),{},{name:R.format("usageTitleVolume"),data:C})),y&&y.length>0&&E&&E.setOption({series:y,legend:{data:y.map(function(r){return r.name})}})}return(0,i.useEffect)(function(){var x=document.getElementById("docker-disk-usage"),y=T.S1(x);y.setOption(ve);var C=new ResizeObserver(function(){y&&y.resize()});return x&&C.observe(x),L(y),function(){E&&E.dispose(),L(void 0)}},[]),(0,i.useEffect)(function(){E&&P(f.data.usage)},[E,f.data]),(0,e.jsx)("div",{style:{height:450},id:"docker-disk-usage"})}),_e=he,ge=t(55241),ie=t(71230),le=t(15746),je=t(38703),Te=(0,i.forwardRef)(function(f,h){return(0,i.useImperativeHandle)(h,function(){return{}}),(0,e.jsxs)(ge.Z,{placement:"left",children:[(0,e.jsx)(ie.Z,{justify:"center",children:(0,e.jsx)(le.Z,{children:(0,e.jsx)(je.Z,{percent:f.showPercent,type:"dashboard",format:function(d,E){return"".concat(d,"%")},size:150,status:f.showPercent>=100?"exception":"normal"})})}),(0,e.jsx)(ie.Z,{justify:"center",children:(0,e.jsxs)(le.Z,{style:{marginTop:"10px"},children:[f.showLabel,": ",f.showUse," / ",f.showTotal]})})]})}),pe=Te,se=t(24963),Ie=t(87662),Ee=t(2831),Be=t(97841),Ae=t(20578),ze=t(45605),Ke=t(1210),ye=t(12122),w=t(38345),A=t(88273),Q=t(42075),V=t(26412),be=t(83062),$e=t(40411),Ne=t(86250),s=new l.Uo("system.home.overview"),Ve=function(h,_){switch(_.type){case"update":var d=new Date().toLocaleTimeString(),E=0,L=0,P=0,x=0,y=0,C=0;_.payload&&_.payload.forEach(function(g){E+=g.cpu,L+=g.memory.in,P+=g.networkIO.in,x+=g.networkIO.out,y+=g.blockIO.in,C+=g.blockIO.out});var r={list:_.payload,cpu:E,memory:L,network:[{name:s.format("runStatNetworkOut"),data:[].concat(k()(h.network[0].data.slice(-20)),[{date:d,value:x.toString()}])},{name:s.format("runStatNetworkIn"),data:[].concat(k()(h.network[1].data.slice(-20)),[{date:d,value:P.toString()}])}],io:[{name:s.format("runStatIoOut"),data:[].concat(k()(h.io[0].data.slice(-20)),[{date:d,value:C.toString()}])},{name:s.format("runStatIoIn"),data:[].concat(k()(h.io[1].data.slice(-20)),[{date:d,value:y.toString()}])}]};return r}};function Ge(){var f,h,_,d,E,L,P,x,y,C,r,g,z,K,G,q,oe,ue,ae,X=(0,D.useAccess)(),ee=(0,i.useState)(),Se=b()(ee,2),J=Se[0],He=Se[1],Je=(0,i.useState)(),Me=b()(Je,2),a=Me[0],Xe=Me[1],Ye=(0,i.useState)(),Ue=b()(Ye,2),n=Ue[0],Qe=Ue[1],qe=(0,i.useState)(),Re=b()(qe,2),De=Re[0],Ze=Re[1],et=(0,i.useState)(),Fe=b()(et,2),Pe=Fe[0],tt=Fe[1],at=(0,i.useReducer)(Ve,{cpu:0,memory:0,network:[{name:s.format("runStatNetworkOut"),data:[]},{name:s.format("runStatNetworkIn"),data:[]}],io:[{name:s.format("runStatIoOut"),data:[]},{name:s.format("runStatIoIn"),data:[]}],list:[]}),ke=b()(at,2),W=ke[0],we=ke[1],nt=(0,i.useContext)(se.Z),Le=nt.loading,Ce=(0,D.useModel)("subscriber");Ce.addDataHandler("container:stat",function(m){we({type:"update",payload:m.data})}),Ce.addDataHandler("stat:diskUsage",function(m){Ze(m.data)});function We(){return Oe.apply(this,arguments)}function Oe(){return Oe=S()(u()().mark(function m(){var c,j,Y;return u()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return Le.show(),$.next=3,(0,Ee.aF)().finally(function(){Le.destroy()});case 3:return c=$.sent,Xe(c.data),$.next=7,(0,Ee.Ll)();case 7:return j=$.sent,Qe(j.data),Ze(j.data.diskUsage),$.next=12,(0,Ie.Cz)({follow:!0});case 12:Y=$.sent,we({type:"update",payload:[]});case 14:case"end":return $.stop()}},m)})),Oe.apply(this,arguments)}return(0,i.useEffect)(function(){return We(),!X.canSeeEnableCe&&(0,Ae.q)().then(function(m){He(m.data)}),(0,Ee.u5)().then(function(m){tt(m.data)}),function(){Ce.progress.close("container:stat")}},[]),(0,e.jsxs)(w.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,e.jsxs)(w.Z,{bordered:!0,split:"vertical",wrap:!0,children:[(0,e.jsx)(w.Z,{style:{height:"570px",overflow:"hidden"},colSpan:{xs:24,sm:24,md:24,lg:9,xl:9},headerBordered:!0,title:(0,e.jsx)(ze.Z,{}),subTitle:s.format("basicInfoTitle"),extra:(0,e.jsx)(Q.Z,{children:X.canSeeEnableCe&&X.canSeeEnableInDPanel&&(0,e.jsx)("a",{href:"https://dpanel.cc/pro",target:"_blank",children:new l.Uo("components.systemBasic").format("proBuyButton")},"proLink")}),children:(0,e.jsxs)(V.Z,{column:1,styles:{label:{width:120,justifyContent:"flex-end"}},children:[(0,e.jsx)(V.Z.Item,{label:s.format("basicDPanelTitleVersion"),children:(0,e.jsxs)(Q.Z,{direction:"horizontal",wrap:!0,children:[a==null?void 0:a.dpanel.version," - ",a==null?void 0:a.dpanel.env," - ",a==null?void 0:a.dpanel.family,X.canSeeEnableInDPanel&&(0,e.jsx)(be.Z,{title:s.format("basicDPanelTitleUpgradeInfo"),children:(0,e.jsx)("a",{target:"_blank",href:"https://github.com/donknap/dpanel/releases",children:(0,e.jsx)(Ke.Z,{})})}),Pe&&Pe.newVersion!=""&&(0,e.jsx)("a",{href:"https://dpanel.cc/upgrade",target:"_blank",children:(0,e.jsx)($e.Z,{count:Pe.newVersion,size:"small"})})]})}),(0,e.jsxs)(V.Z.Item,{label:"Docker Host",children:[a==null?void 0:a.info.Name," ",(0,e.jsx)(e.Fragment,{children:(a==null?void 0:a.info.ID)==""&&(0,e.jsx)(D.Link,{to:"/system/env",state:{name:"local",t:(0,o.Fs)()},children:s.format("basicEnvSettingDefaultEnv")})})]}),(0,e.jsx)(V.Z.Item,{label:s.format("basicDockerTitleVersion"),children:"Server: ".concat(a==null?void 0:a.info.ServerVersion," / Client: ").concat(a==null?void 0:a.clientVersion)}),(0,e.jsx)(V.Z.Item,{label:"Docker SDK",children:"".concat(a==null?void 0:a.sdkVersion)}),(0,e.jsx)(V.Z.Item,{label:s.format("basicDockerTitleFileDriver"),children:"".concat(a==null?void 0:a.info.Driver)}),(0,e.jsx)(V.Z.Item,{label:s.format("basicDockerTitleLogDriver"),children:"".concat(a==null?void 0:a.info.LoggingDriver)}),(0,e.jsx)(V.Z.Item,{label:s.format("basicDockerTitleSystemVersion"),children:"".concat(a==null?void 0:a.info.OperatingSystem," - ").concat(a==null?void 0:a.info.KernelVersion," - ").concat(a==null?void 0:a.info.Architecture)}),(0,e.jsxs)(V.Z.Item,{label:"Cpu / Mem",children:[a==null?void 0:a.info.NCPU," ",l.FD.format("unitCpu")," / ",(0,o.FI)((f=a==null?void 0:a.info.MemTotal)!==null&&f!==void 0?f:0)]}),(0,e.jsx)(V.Z.Item,{label:s.format("basicDockerTitleRootDir"),children:a==null?void 0:a.info.DockerRootDir}),(0,e.jsx)(V.Z.Item,{label:s.format("basicDockerTitlePluginsVolume"),children:(0,e.jsx)(Q.Z,{children:a==null?void 0:a.info.Plugins.Volume})}),(0,e.jsx)(V.Z.Item,{label:s.format("basicDockerTitlePluginsNetwork"),children:(0,e.jsx)(Q.Z,{wrap:!0,children:a==null?void 0:a.info.Plugins.Network})}),(0,e.jsx)(V.Z.Item,{label:s.format("basicDockerTitleSystemTime"),children:new Date((h=a==null?void 0:a.info.SystemTime)!==null&&h!==void 0?h:"").toLocaleString()})]})}),(0,e.jsxs)(w.Z,{headerBordered:!0,colSpan:{xs:24,sm:24,md:24,lg:15,xl:15},title:(0,e.jsx)(ye.Z,{}),subTitle:s.format("runStatTitle"),split:"horizontal",extra:(0,e.jsx)(Q.Z,{children:W.list&&(0,e.jsx)(me,{data:W.list})}),children:[(0,e.jsx)(w.Z,{children:(0,e.jsxs)(Ne.Z,{gap:50,align:"center",justify:"space-evenly",children:[(0,e.jsx)(pe,{showPercent:parseFloat((((_=W==null?void 0:W.cpu)!==null&&_!==void 0?_:0)/((d=a==null?void 0:a.info.NCPU)!==null&&d!==void 0?d:0)).toFixed(2)),showLabel:"Cpu",showUse:"".concat(((E=W==null?void 0:W.cpu)!==null&&E!==void 0?E:0).toFixed(2)),showTotal:"".concat((L=a==null?void 0:a.info.NCPU)!==null&&L!==void 0?L:0," ").concat(l.FD.format("unitCpu"))}),(0,e.jsx)(pe,{showPercent:parseFloat((((P=W==null?void 0:W.memory)!==null&&P!==void 0?P:0)/((x=a==null?void 0:a.info.MemTotal)!==null&&x!==void 0?x:0)*100).toFixed(2)),showLabel:"Memory",showUse:(0,o.FI)((y=W==null?void 0:W.memory)!==null&&y!==void 0?y:0),showTotal:"".concat((0,o.FI)((C=a==null?void 0:a.info.MemTotal)!==null&&C!==void 0?C:0))})]})}),(0,e.jsxs)(w.Z,{split:"vertical",wrap:!0,children:[(0,e.jsx)(w.Z,{colSpan:12,title:(0,e.jsx)(ye.Z,{}),subTitle:s.format("usageNetwork"),headerBordered:!0,children:(0,e.jsx)(I,{data:W.network,yLabelFormatter:function(c){return(0,o.FI)(parseFloat(c))},yValueFormatter:function(c){return(0,o.FI)(parseFloat(c))},yDomainMaxCallback:function(c){return c.max*1.5},name:"network"})}),(0,e.jsx)(w.Z,{colSpan:12,title:(0,e.jsx)(ye.Z,{}),subTitle:s.format("usageDisk"),headerBordered:!0,children:(0,e.jsx)(I,{name:"disk",data:W.io,yLabelFormatter:function(c){return(0,o.FI)(parseFloat(c))},yValueFormatter:function(c){return(0,o.FI)(parseFloat(c))},yDomainMaxCallback:function(c){return c.max*1.5}})})]})]})]}),(0,e.jsxs)(w.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(ye.Z,{}),subTitle:s.format("usageTitle"),wrap:!0,extra:(0,e.jsx)(Q.Z,{children:(0,e.jsx)("span",{children:De&&De.updatedAt?"".concat(s.format("usageLastUpgradeTime")," ").concat((0,o.NF)(De.updatedAt)):""},"lastUpdate")},"size"),children:[(0,e.jsx)(w.Z,{colSpan:{xs:24,sm:24,md:24,lg:24,xl:12,xxl:12},ghost:!0,children:De&&(0,e.jsx)(_e,{data:De})}),(0,e.jsxs)(w.Z,{colSpan:{xs:24,sm:8,md:8,lg:8,xl:4,xxl:4},split:"horizontal",ghost:!0,children:[(0,e.jsx)(A.Z,{statistic:{title:(0,e.jsx)(Q.Z,{children:s.format("usageContainer")}),value:n!=null&&n.diskUsage.usage.Containers?(0,o.FI)((r=n.diskUsage.usage.Containers.reduce(function(m,c){var j;return m+c.SizeRootFs+((j=c.SizeRw)!==null&&j!==void 0?j:0)},0))!==null&&r!==void 0?r:0):0,description:s.format("usageDescContainer")}}),(0,e.jsx)(A.Z,{statistic:{title:(0,e.jsx)(Q.Z,{children:s.format("usageImage")}),value:n!=null&&n.diskUsage.usage.Images?(0,o.FI)((g=n.diskUsage.usage.Images.reduce(function(m,c){var j;return m+(c.Size+((j=c.SharedSize)!==null&&j!==void 0?j:0))},0))!==null&&g!==void 0?g:0):0,description:s.format("usageDescImage")}}),(0,e.jsx)(A.Z,{statistic:{title:(0,e.jsx)(Q.Z,{children:s.format("usageVolume")}),value:n!=null&&n.diskUsage.usage.Volumes?(0,o.FI)((z=n.diskUsage.usage.Volumes.reduce(function(m,c){return m+c.UsageData.Size},0))!==null&&z!==void 0?z:0):0,description:s.format("usageDescVolume")}}),(0,e.jsx)(A.Z,{statistic:{title:s.format("usageBuildCache"),value:n!=null&&n.diskUsage.usage.BuildCache?(0,o.FI)((K=n.diskUsage.usage.BuildCache.reduce(function(m,c){return m+c.Size},0))!==null&&K!==void 0?K:0):0,description:(0,e.jsx)(M.u,{access:"canSeeHomeOverviewClear",children:(0,e.jsx)(U.Z,{action:function(){return(0,Be.c5)()},buttonProps:{type:"link",ghost:!0},onSuccess:function(){We()},children:l.FD.format("listManageClear")})})}})]}),(0,e.jsxs)(w.Z,{colSpan:{xs:24,sm:16,md:16,lg:16,xl:8,xxl:8},ghost:!0,split:"horizontal",children:[(0,e.jsx)(w.Z,{ghost:!0,children:(0,e.jsxs)(A.Z.Group,{children:[(0,e.jsx)(A.Z,{statistic:{title:s.format("usageContainer"),value:(G=a==null?void 0:a.info.Containers)!==null&&G!==void 0?G:0,description:(0,e.jsx)(D.Link,{to:"/app/list",children:l.FD.format("listManageDetail")})}}),!X.canSeeEnableCe&&(0,e.jsx)(A.Z,{statistic:{title:s.format("usageContainerNew"),status:"processing",valueRender:function(c){var j,Y,ne;return(0,e.jsx)(be.Z,{title:"".concat(l.FD.format("title.ignore"),": ").concat((j=J==null?void 0:J.ignore)!==null&&j!==void 0?j:0,` 
                      `).concat(l.FD.format("title.ignore"),": ").concat((Y=J==null?void 0:J.failed)!==null&&Y!==void 0?Y:0,` 
                      `).concat(l.FD.format("title.local"),": ").concat((ne=J==null?void 0:J.local)!==null&&ne!==void 0?ne:0),children:J==null?void 0:J.upgrade})}}}),(0,e.jsx)(A.Z,{statistic:{title:l.FD.format("title.warning"),status:"error",valueRender:function(c){var j,Y,ne,$=0;return n&&n.total&&n.total.containerRunning.stop&&($+=n.total.containerRunning.stop),n&&n.total&&n.total.containerRunning.pause&&($+=n.total.containerRunning.pause),n&&n.total&&n.total.containerRunning.unhealthy&&($+=n.total.containerRunning.unhealthy),(0,e.jsx)(be.Z,{title:"".concat(new l.Uo("components.containerStatus").format("container.exited"),": ").concat((j=n==null?void 0:n.total.containerRunning.stop)!==null&&j!==void 0?j:0,`
                      `).concat(new l.Uo("components.containerStatus").format("container.paused"),": ").concat((Y=n==null?void 0:n.total.containerRunning.pause)!==null&&Y!==void 0?Y:0,` 
                      `).concat(new l.Uo("components.containerStatus").format("container.unhealthy"),": ").concat((ne=n==null?void 0:n.total.containerRunning.unhealthy)!==null&&ne!==void 0?ne:0),children:$})}}}),(0,e.jsx)(A.Z,{statistic:{title:s.format("usageContainerRecycle"),value:(q=n==null?void 0:n.total.containerTask)!==null&&q!==void 0?q:0,description:(0,e.jsx)(D.Link,{to:"/app/recycle",children:l.FD.format("listManageDetail")})}})]})}),(0,e.jsxs)(w.Z,{ghost:!0,children:[(0,e.jsx)(A.Z,{statistic:{title:s.format("usageImage"),value:"".concat((oe=(n==null?void 0:n.diskUsage.usage.Images)&&(n==null?void 0:n.diskUsage.usage.Images.length))!==null&&oe!==void 0?oe:0),description:(0,e.jsx)(D.Link,{to:"/image/list",children:l.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(A.Z,{statistic:{title:s.format("usageImageTask"),value:(ue=n==null?void 0:n.total.imageTask)!==null&&ue!==void 0?ue:0,description:(0,e.jsx)(D.Link,{to:"/image/create",children:l.FD.format("listManageDetail")})},chartPlacement:"left"})]}),(0,e.jsxs)(w.Z,{ghost:!0,children:[(0,e.jsx)(A.Z,{statistic:{title:s.format("usageNetwork"),value:n==null?void 0:n.total.network,description:(0,e.jsx)(D.Link,{to:"/docker/network",children:l.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(A.Z,{statistic:{title:s.format("usageNetworkPortBind"),value:n==null?void 0:n.total.port,description:(0,e.jsx)(v.a,{drawerProps:{width:p.R_},submitter:!1,title:s.format("usageNetworkPortBind"),trigger:(0,e.jsx)(xe.Z.Link,{children:l.FD.format("listManageDetail")}),children:(0,e.jsx)(de.Z,{pagination:!1,dataSource:n==null?void 0:n.port,rowKey:function(c){return"".concat(c.port.host).concat(c.port.dest)},columns:[{title:s.format("usageNetworkPortBindHost"),dataIndex:["port","host"],sorter:function(c,j){return parseInt(c.port.host)-parseInt(j.port.host)},render:function(c,j,Y){return j.port.host!="0"?"".concat(j.port.hostIp,":").concat(j.port.host):"-"}},{title:s.format("usageNetworkPortBindDest"),dataIndex:["port","dest"]},{title:s.format("usageNetworkPortBindName"),dataIndex:"name",render:function(c,j,Y){return(0,o.fi)(j.name,"/")}}]})})},chartPlacement:"left"})]}),(0,e.jsxs)(w.Z,{ghost:!0,children:[(0,e.jsx)(A.Z,{statistic:{title:s.format("usageVolume"),value:(ae=(n==null?void 0:n.diskUsage.usage.Volumes)&&(n==null?void 0:n.diskUsage.usage.Volumes.length))!==null&&ae!==void 0?ae:0,description:(0,e.jsx)(D.Link,{to:"/docker/volume",children:l.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(A.Z,{statistic:{title:s.format("usageBackup"),value:n==null?void 0:n.total.backup,description:(0,e.jsx)(D.Link,{to:"/app/backup",children:l.FD.format("listManageDetail")})},chartPlacement:"left"})]})]})]})]})}},2831:function(re,Z,t){t.d(Z,{Ll:function(){return U},aF:function(){return b},u5:function(){return k}});var B=t(15009),u=t.n(B),N=t(99289),S=t.n(N),F=t(82346);function b(){return O.apply(this,arguments)}function O(){return O=S()(u()().mark(function i(){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,F.request)("/api/common/home/info",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},i)})),O.apply(this,arguments)}function k(){return M.apply(this,arguments)}function M(){return M=S()(u()().mark(function i(){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,F.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},i)})),M.apply(this,arguments)}function U(){return D.apply(this,arguments)}function D(){return D=S()(u()().mark(function i(){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,F.request)("/api/common/home/usage",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},i)})),D.apply(this,arguments)}},97841:function(re,Z,t){t.d(Z,{Xr:function(){return i},bJ:function(){return U},c5:function(){return e},hf:function(){return b},l9:function(){return k}});var B=t(15009),u=t.n(B),N=t(99289),S=t.n(N),F=t(82346);function b(p){return O.apply(this,arguments)}function O(){return O=S()(u()().mark(function p(o){return u()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,F.request)("/api/app/image-build/delete",{method:"POST",data:o});case 2:return v.abrupt("return",v.sent);case 3:case"end":return v.stop()}},p)})),O.apply(this,arguments)}function k(p){return M.apply(this,arguments)}function M(){return M=S()(u()().mark(function p(o){return u()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,F.request)("/api/app/image-build/create",{method:"POST",data:o}));case 1:case"end":return v.stop()}},p)})),M.apply(this,arguments)}function U(p){return D.apply(this,arguments)}function D(){return D=S()(u()().mark(function p(o){return u()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,F.request)("/api/app/image-build/get-list",{method:"POST",data:o}));case 1:case"end":return v.stop()}},p)})),D.apply(this,arguments)}function i(p){return T.apply(this,arguments)}function T(){return T=S()(u()().mark(function p(o){return u()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,F.request)("/api/app/image-build/get-detail",{method:"POST",data:o});case 2:return v.abrupt("return",v.sent);case 3:case"end":return v.stop()}},p)})),T.apply(this,arguments)}function e(){return I.apply(this,arguments)}function I(){return I=S()(u()().mark(function p(){return u()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,F.request)("/api/app/image-build/prune",{method:"POST"});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},p)})),I.apply(this,arguments)}},20578:function(re,Z,t){t.d(Z,{q:function(){return b}});var B=t(15009),u=t.n(B),N=t(99289),S=t.n(N),F=t(82346);function b(){return O.apply(this,arguments)}function O(){return O=S()(u()().mark(function k(){return u()().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return U.next=2,(0,F.request)("/api/pro/container-upgrade/get-all-list",{method:"POST"});case 2:return U.abrupt("return",U.sent);case 3:case"end":return U.stop()}},k)})),O.apply(this,arguments)}}}]);
