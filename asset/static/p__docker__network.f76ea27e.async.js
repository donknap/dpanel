"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[236],{37413:function(z,w,e){e.d(w,{Z:function(){return V}});var p=e(19632),f=e.n(p),U=e(36146),I=e(85577),S=e(58638),D=e(36693),F=e(35995),B=e(99611),M=e(38345),x=e(42075),_=e(66309),G=e(55241),i=e(85893);function V(o){var L,R=new U.Uo("components.containerPort"),l=[];o.publicPort&&(l=f()(o.publicPort)),o.privatePort&&(l=[].concat(f()(l),f()(o.privatePort)));var u=(L=o.serverIp)!==null&&L!==void 0?L:"localhost";if(u!=""&&u.indexOf("http")===-1&&u.indexOf(":")>-1&&(u="[".concat(u,"]")),u==""||u=="127.0.0.1"){var K=document.location.protocol+"//"+document.location.hostname;u=K}var s=(0,i.jsxs)(M.Z,{direction:o.layout=="inline"?"row":"column",style:{width:o.layout!="inline"?600:"auto"},ghost:!0,children:[l.length>0&&(0,i.jsx)(M.Z,{title:(0,i.jsx)(I.Z,{}),subTitle:R.format("cardPortTitle"),ghost:o.ghost,bodyStyle:{maxHeight:300,overflow:"auto",margin:"10px 0"},children:l.map(function(v,t){var b;return u==""&&v.IP&&(u=v.IP),(0,i.jsx)(x.Z,{size:"large",wrap:!0,children:(0,i.jsx)(_.Z,{color:v.PublicPort?"blue":"yellow",icon:v.PublicPort?(0,i.jsx)(S.Z,{}):"",style:{marginBottom:10,marginRight:15},children:v.PublicPort?(0,i.jsx)("a",{href:"".concat(u.indexOf("http")===0?u:"http://"+u,":").concat(v.PublicPort),target:"_blank",children:"".concat(v.PublicPort?((b=v.IP)!==null&&b!==void 0?b:"0.0.0.0")+":"+v.PublicPort+" -> ":"").concat(v.PrivatePort,"/").concat(v.Type)},"link".concat(t)):"".concat(v.PrivatePort,"/").concat(v.Type)})},"space".concat(t))})}),o.domain&&o.domain.length>0&&(0,i.jsx)(M.Z,{title:(0,i.jsx)(D.Z,{}),subTitle:R.format("cardDomainTitle"),ghost:o.ghost,children:(0,i.jsx)(x.Z,{wrap:!0,style:{textAlign:"left"},children:o.domain&&o.domain.map(function(v,t){return(0,i.jsx)(_.Z,{color:"blue",icon:(0,i.jsx)(S.Z,{}),children:(0,i.jsx)("a",{href:v,target:"_blank",children:v})},"domain".concat(t))})})})]});return o.showInDetail?s:(0,i.jsx)(G.Z,{placement:"right",content:s,children:(0,i.jsxs)(x.Z,{direction:"vertical",children:[o.privatePort&&o.privatePort.length>0&&(0,i.jsxs)(_.Z,{color:"yellow",icon:(0,i.jsx)(F.Z,{}),children:[R.format("portPrivate"),": ",o.privatePort.length]}),o.publicPort&&o.publicPort.length>0&&(0,i.jsxs)(_.Z,{color:"blue",icon:(0,i.jsx)(B.Z,{}),children:[R.format("protPublic"),": ",o.publicPort.length]}),o.domain&&o.domain.length>0&&(0,i.jsx)(_.Z,{color:"geekblue",icon:(0,i.jsx)(D.Z,{}),children:o.domainTitle?o.domainTitle:"".concat(R.format("domain"),": ").concat(o.domain.length)})]})})}},36588:function(z,w,e){e.d(w,{Z:function(){return g}});var p=e(15009),f=e.n(p),U=e(99289),I=e.n(U),S=e(5574),D=e.n(S),F=e(80821),B=e(3616),M=e(14946),x=e(36146),_=e(82061),G=e(184),i=e(38345),V=e(60940),o=e(42075),L=e(25593),R=e(96074),l=e(26412),u=e(67294),K=e(92067),s=e(83622),v=e(85265),t=e(85893);function b(d){var a=(0,u.useState)(!1),P=D()(a,2),j=P[0],m=P[1],c=new x.Uo("docker");return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.ZP,{type:"primary",onClick:function(){m(!0)},children:c.format("networkJoinContainer")}),(0,t.jsx)(v.Z,{open:j,onClose:function(){m(!1)},width:B.R_,title:c.format("networkJoinContainer"),children:(0,t.jsx)(K.Z,{onSelect:function(){var r=I()(f()().mark(function E(n){return f()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return N.next=2,(0,M.HY)({name:d.detail.Name,containerName:n.Name,ipV4:""});case 2:m(!1),d.onFinish&&d.onFinish(d.detail);case 4:case"end":return N.stop()}},E)}));return function(E){return r.apply(this,arguments)}}()})})]})}var J=e(13822),Y=(0,u.forwardRef)(function(d,a){(0,u.useImperativeHandle)(a,function(){return{show:Q}});var P=(0,u.useState)(!1),j=D()(P,2),m=j[0],c=j[1],r=(0,u.useState)(),E=D()(r,2),n=E[0],T=E[1],N=(0,u.useState)(),ee=D()(N,2),te=ee[0],ne=ee[1],$=new x.Uo("components.network");function Q(h){return X.apply(this,arguments)}function X(){return X=I()(f()().mark(function h(C){var O,H,y,Z,W,re,k,q;return f()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,M.IS)({name:C});case 2:if(O=A.sent,!O.data.info.Containers){A.next=19;break}H=[],y=0,Z=Object.entries(O.data.info.Containers);case 6:if(!(y<Z.length)){A.next=16;break}return W=D()(Z[y],2),re=W[0],k=W[1],A.next=10,(0,J.jV)({md5:k.Name});case 10:q=A.sent,q.data.info.NetworkSettings.Networks[C]&&(k.Alias=q.data.info.NetworkSettings.Networks[C].Aliases),H.push(k);case 13:y++,A.next=6;break;case 16:ne(H),A.next=20;break;case 19:ne([]);case 20:T(O.data.info),c(!0);case 22:case"end":return A.stop()}},h)})),X.apply(this,arguments)}return(0,t.jsx)(G.a,{drawerProps:{width:B.R_},title:$.format("detailTitle"),open:m,onOpenChange:function(C){c(C)},submitter:!1,children:(0,t.jsxs)(i.Z,{ghost:!0,direction:"column",gutter:[10,0],children:[(0,t.jsx)(i.Z,{title:$.format("detailContainer"),ghost:!0,extra:n&&(0,t.jsx)(b,{detail:n,onFinish:function(C){Q(C.Name)}}),children:(0,t.jsx)(V.Z,{rowKey:"Name",columns:[{title:x.FD.format("listContainerName"),dataIndex:"Name"},{title:x.FD.format("listAlias"),dataIndex:"Alias",render:function(C,O,H){return(0,t.jsx)(o.Z,{direction:"vertical",children:O.Alias&&O.Alias.map(function(y,Z){return(0,t.jsx)(L.Z.Text,{copyable:!0,keyboard:!0,children:y},Z)})})}},{title:"IPV4",dataIndex:"IPv4Address"},{title:"IPV6",dataIndex:"IPv6Address"},{title:"MacAddress",dataIndex:"MacAddress"},{title:x.FD.format("listManage"),render:function(C,O,H){return(0,t.jsx)(o.Z,{split:(0,t.jsx)(R.Z,{type:"vertical"}),children:(0,t.jsx)(F.Z,{buttonProps:{type:"text",icon:(0,t.jsx)(_.Z,{}),danger:!0},confirmProps:{showCommonConfirm:!0},action:function(){var Z,W;return(0,M.t9)({name:(Z=n==null?void 0:n.Id)!==null&&Z!==void 0?Z:"",containerName:(W=O.Name)!==null&&W!==void 0?W:""})},tips:x.FD.format("listManageExit"),onSuccess:function(){n&&Q(n.Name)}},"delete")})}}],dataSource:te,pagination:!1})}),(0,t.jsx)(i.Z,{ghost:!0,title:$.format("detailBasic"),children:(0,t.jsxs)(l.Z,{styles:{label:{width:150}},column:2,bordered:!0,children:[(0,t.jsx)(l.Z.Item,{label:$.format("detailName"),children:n==null?void 0:n.Name}),(0,t.jsx)(l.Z.Item,{label:"Id",children:n==null?void 0:n.Id.slice(0,12)}),(0,t.jsx)(l.Z.Item,{label:"Driver",children:n==null?void 0:n.Driver}),(0,t.jsx)(l.Z.Item,{label:"Scope",children:n==null?void 0:n.Scope}),(0,t.jsx)(l.Z.Item,{label:"Attachable",children:$.yesNo(n==null?void 0:n.Attachable)}),(0,t.jsx)(l.Z.Item,{label:"Internal",children:$.yesNo(n==null?void 0:n.Internal)}),(n==null?void 0:n.IPAM.Config)&&(n==null?void 0:n.IPAM.Config.map(function(h,C){return(0,t.jsx)(l.Z.Item,{label:h.Gateway&&h.Gateway.includes(":")?"IPV6":"IPV4",children:(0,t.jsxs)(l.Z,{styles:{label:{width:150}},column:1,bordered:!0,children:[(0,t.jsx)(l.Z.Item,{label:"Subnet",children:h.Subnet}),(0,t.jsx)(l.Z.Item,{label:"Gateway",children:h.Gateway}),(0,t.jsx)(l.Z.Item,{label:"IP Range ",children:h.IPRange}),(0,t.jsx)(l.Z.Item,{label:"Excluded IPs",children:h.AuxiliaryAddresses&&Object.keys(h.AuxiliaryAddresses).map(function(O){return h.AuxiliaryAddresses[O]+" ,"})})]})},C)})),(n==null?void 0:n.Options)&&Object.keys(n==null?void 0:n.Options).length>0&&(0,t.jsx)(l.Z.Item,{label:"Options",children:(0,t.jsx)(l.Z,{styles:{label:{width:150}},column:1,bordered:!0,children:Object.keys(n==null?void 0:n.Options).map(function(h){return(0,t.jsx)(l.Z.Item,{label:h,children:n.Options[h]},h)})})}),(n==null?void 0:n.Labels)&&Object.keys(n==null?void 0:n.Labels).length>0&&(0,t.jsx)(l.Z.Item,{label:"Lables",children:(0,t.jsx)(l.Z,{styles:{label:{width:150}},column:1,bordered:!0,children:Object.keys(n==null?void 0:n.Labels).map(function(h){return(0,t.jsx)(l.Z.Item,{label:h,children:n.Labels[h]},h)})})})]})})]})})}),g=Y},3616:function(z,w,e){e.d(w,{Ed:function(){return I},FK:function(){return f},R_:function(){return p},ob:function(){return U}});var p=window.innerWidth<=1024?"90vw":"65vw",f="90vw",U="60vw",I="50vh"},6005:function(z,w,e){e.r(w),e.d(w,{default:function(){return v}});var p=e(15009),f=e.n(p),U=e(99289),I=e.n(U),S=e(1699),D=e(80821),F=e(16970),B=e(36588),M=e(98510),x=e(14946),_=e(36146),G=e(52645),i=e(82061),V=e(99611),o=e(74453),L=e(82346),R=e(25593),l=e(66309),u=e(42075),K=e(67294),s=e(85893);function v(){var t=(0,K.useRef)(),b=(0,K.useRef)(),J=(0,L.useAccess)(),Y=new _.Uo("docker");return(0,s.jsxs)(o._z,{header:{extra:[(0,s.jsx)(S.u,{access:"canSeeDockerNetworkManage",children:(0,s.jsx)(F.Z,{onFinish:function(){var d,a;!((d=t.current)===null||d===void 0)&&d.reloadAndRest&&((a=t.current)===null||a===void 0||a.reloadAndRest())}},"create")},"create")]},children:[(0,s.jsx)(B.Z,{ref:b}),(0,s.jsx)(M.C,{rowKey:"Name",columns:[{title:_.FD.format("listTitle"),ellipsis:!0,dataIndex:"Name",render:function(d,a,P,j,m){return(0,s.jsx)(R.Z.Link,{onClick:function(){var r;(r=b.current)===null||r===void 0||r.show(a.Name)},children:a.Name})}},{title:_.FD.format("listType"),width:100,render:function(d,a,P,j,m){return(a.Name=="none"||a.Name=="bridge"||a.Name=="host")&&(0,s.jsx)(l.Z,{color:"blue",children:"System"})}},{title:_.FD.format("listDriver"),ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",ellipsis:!0,width:150,search:!1,render:function(d,a,P,j,m){return a.IPAM.Config&&a.IPAM.Config[0]?(0,s.jsxs)(u.Z,{direction:"vertical",children:[(0,s.jsx)("div",{children:a.IPAM.Config&&a.IPAM.Config[0].Subnet}),(0,s.jsx)("div",{children:a.IPAM.Config&&a.IPAM.Config[0].Gateway})]}):"-"}},{title:"IPV6",ellipsis:!0,width:150,search:!1,render:function(d,a,P,j,m){return a.IPAM.Config&&a.IPAM.Config[1]?(0,s.jsxs)(u.Z,{direction:"vertical",children:[(0,s.jsx)("div",{children:a.IPAM.Config&&a.IPAM.Config[1].Subnet}),(0,s.jsx)("div",{children:a.IPAM.Config&&a.IPAM.Config[1].Gateway})]}):"-"}},{title:_.FD.format("listCreatedAt"),ellipsis:!0,width:180,search:!1,dataIndex:"Created",render:function(d,a,P,j,m){return new Date(a.Created).toLocaleString()}}],request:function(){var g=I()(f()().mark(function d(a,P,j){var m;return f()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,x.jR)({name:a.Name});case 2:return m=r.sent,r.abrupt("return",{data:m.data.list,success:!0,total:m.data.list.length});case 4:case"end":return r.stop()}},d)}));return function(d,a,P){return g.apply(this,arguments)}}(),rowSelection:J.canSeeDockerNetworkManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:t,quickToolbarRender:function(d){var a=d.selectedRows,P=d.finish,j=d.loading;return(0,s.jsxs)(u.Z,{size:16,children:[(0,s.jsx)(D.Z,{action:function(){return j(),(0,x.CI)().finally(function(){P(!0)})},buttonProps:{icon:(0,s.jsx)(G.Z,{})},onSuccess:function(){var c,r;return!((c=t.current)===null||c===void 0)&&c.reloadAndRest&&((r=t.current)===null||r===void 0||r.reloadAndRest()),!0},onError:function(){var c,r;return!((c=t.current)===null||c===void 0)&&c.reset&&((r=t.current)===null||r===void 0||r.reset()),!0},confirmProps:{description:Y.format("networkListManagePruneTip")},children:_.FD.format("listManagePrune")},"clearNotUse"),(0,s.jsx)(D.Z,{buttonProps:{danger:!0,type:"primary",icon:(0,s.jsx)(i.Z,{})},confirmProps:{showCommonConfirm:!0},action:I()(f()().mark(function m(){return f()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return j(),r.abrupt("return",(0,x._x)({name:a.map(function(E){return E.Id})}).finally(function(){P(!0)}));case 2:case"end":return r.stop()}},m)})),onSuccess:function(){var c,r;return!((c=t.current)===null||c===void 0)&&c.reloadAndRest&&((r=t.current)===null||r===void 0||r.reloadAndRest()),!0},onError:function(){var c,r;return!((c=t.current)===null||c===void 0)&&c.reset&&((r=t.current)===null||r===void 0||r.reset()),!0},children:_.FD.format("listManageDeleteBatch")},"delete")]})},contextMenu:function(d){var a=d.loading,P=d.finish,j=d.isMultiple,m=d.selectedRow,c=d.selectedRows;return{items:[{type:"group",label:_.FD.format("listManage"),key:"operator",children:[{label:(0,s.jsx)(M.C.ContextMenuItem,{buttonProps:{icon:(0,s.jsx)(V.Z,{}),disabled:j()},action:I()(f()().mark(function r(){var E;return f()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:P(!0),(E=b.current)===null||E===void 0||E.show(m.Name);case 2:case"end":return T.stop()}},r)})),children:_.FD.format("listManageView")}),key:"view"}]},{key:"delete",label:(0,s.jsx)(M.C.ContextMenuItem,{buttonProps:{icon:(0,s.jsx)(i.Z,{})},type:"danger",confirmProps:{showCommonConfirm:!0},action:I()(f()().mark(function r(){return f()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a(),n.abrupt("return",(0,x._x)({name:c.map(function(T){return T.Id})}).finally(function(){P(!0)}));case 2:case"end":return n.stop()}},r)})),children:_.FD.format("listManageDelete")},"deleteBatch")}]}}})]})}}}]);
