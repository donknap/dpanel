"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3840],{99861:function(Ge,Me,e){var xe=e(64599),M=e.n(xe),je=e(15009),p=e.n(je),le=e(99289),Ce=e.n(le),U=e(5574),S=e.n(U),te=e(42119),y=e(83062),h=e(67294),F=e(92754),g=e(184),me=e(38345),W=e(3616),ae=e(36146),_e=e(68297),E=e(85893),_=(0,h.forwardRef)(function(t,o){(0,h.useImperativeHandle)(o,function(){return{start:function(){var C;return Z(!0),fe((C=t.image)!==null&&C!==void 0?C:[])},finish:function(){Z(!1)},pull:function(C){return Z(!0),fe(C)}}});var $=(0,h.useState)(0),he=S()($,2),Ie=he[0],u=he[1],k=(0,h.useRef)(),V=(0,h.useState)(!1),Pe=S()(V,2),oe=Pe[0],Z=Pe[1],l=(0,h.useState)([]),G=S()(l,2),v=G[0],x=G[1],n=new ae.Uo("components.appCompose");function fe(T){return Oe.apply(this,arguments)}function Oe(){return Oe=Ce()(p()().mark(function T(C){var L,i,P,K,Q,Le,Ke;return p()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:i=0,x(C),P=M()(C),X.prev=3,P.s();case 5:if((K=P.n()).done){X.next=15;break}return Le=K.value,u(i),(Q=k.current)===null||Q===void 0||Q.setStart(Le),X.next=11,(0,_e.Ze)({tag:Le,type:"pull"});case 11:Ke=X.sent,i++;case 13:X.next=5;break;case 15:X.next=20;break;case 17:X.prev=17,X.t0=X.catch(3),P.e(X.t0);case 20:return X.prev=20,P.f(),X.finish(20);case 23:(L=k.current)===null||L===void 0||L.setFinish(),u(i),t.finishAutoHide&&Z(!1);case 26:case"end":return X.stop()}},T,null,[[3,17,20,23]])})),Oe.apply(this,arguments)}return(0,E.jsxs)(g.a,{trigger:t.trigger,open:oe,submitter:!1,title:n.format("pullImageTitle"),onOpenChange:function(){var T=Ce()(p()().mark(function C(L){var i,P;return p()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:Z(L),L&&t.trigger&&fe((i=t.image)!==null&&i!==void 0?i:[]),L||(P=k.current)===null||P===void 0||P.close();case 3:case"end":return Q.stop()}},C)}));return function(C){return T.apply(this,arguments)}}(),drawerProps:{forceRender:!0,width:W.R_},children:[(0,E.jsx)(me.Z,{children:v&&(0,E.jsx)(te.Z,{current:Ie,items:v.map(function(T,C){return{title:(0,E.jsx)(y.Z,{title:T,children:T.length>15?T.substring(0,6)+" ... "+T.substring(T.length-6):T}),key:C}})})}),(0,E.jsx)(me.Z,{children:(0,E.jsx)(F.Z,{ref:k})})]})});Me.Z=_},44771:function(Ge,Me,e){e.d(Me,{Z:function(){return S}});var xe=e(36146),M=e(38345),je=e(64317),p=e(97462),le=e(31199),Ce=e(86250),U=e(85893);function S(te){var y=new xe.Uo("components.appForm");return(0,U.jsx)(M.Z,{ghost:te.ghost,children:(0,U.jsxs)(Ce.Z,{gap:50,children:[(0,U.jsx)(je.Z,{tooltip:"".concat(y.format("createParamsDemo",{params:"--restart always"})),label:te.showLabel&&y.format("createAdvRestart"),name:["restart","name"],width:"md",initialValue:te.defaultValue?te.defaultValue:"on-failure",options:y.option("createAdvRestartOption",["no","on-failure","unless-stopped","always"])}),(0,U.jsx)(p.Z,{name:["restart"],children:function(F){var g=F.restart;return g&&g.name=="on-failure"&&(0,U.jsx)(le.Z,{width:"md",label:y.format("createAdvRestartMax"),name:["restart","maxAttempt"],initialValue:5})}})]})})}},84941:function(Ge,Me,e){e.d(Me,{Z:function(){return or}});var xe=e(97857),M=e.n(xe),je=e(15009),p=e.n(je),le=e(19632),Ce=e.n(le),U=e(99289),S=e.n(U),te=e(5574),y=e.n(te),h=e(38345),F=e(62370),g=e(5966),me=e(24739),W=e(97462),ae=e(83622),_e=e(30291),E=e(92398),_=e(40056),t=e(67294),o=e(42963),$=e(51042),he=e(63434),Ie=e(17186),u=e(71230),k=e(15746),V=e(42075),Pe=e(25593),oe=e(85265),Z=e(92067),l=e(5251),G=e(3616),v=e(36146),x=e(89240),n=e(85893),fe=(0,t.forwardRef)(function(j,Ae){var d=(0,t.useState)(!1),se=y()(d,2),b=se[0],ie=se[1],z=(0,t.useRef)(),c=new v.Uo("components.appForm"),B=function(A){return(0,n.jsxs)(h.Z,{bordered:!0,extra:A.action,style:{marginBottom:10},children:[(0,n.jsx)(h.Z,{title:c.format("createLinkItemTitle"),ghost:!0,children:(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(k.Z,{span:6,children:(0,n.jsx)(g.Z,{label:c.format("createLinkItemName"),name:"name",width:"md",readonly:!0})}),(0,n.jsxs)(k.Z,{span:14,children:[(0,n.jsx)(g.Z,{label:c.format("createLinkItemAlise"),name:"alise",width:"md",readonly:!0,tooltip:c.format("createLinkItemAliseTip"),hidden:!0}),(0,n.jsx)(F.Z,{label:c.format("createLinkItemAlise"),tooltip:c.format("createLinkItemAliseTip"),children:(0,n.jsx)(V.Z,{direction:"vertical",children:[A.name,A.record.alise].map(function(O){return(0,n.jsx)(Pe.Z.Text,{copyable:!0,children:O})})})})]}),(0,n.jsx)(k.Z,{span:4,children:(0,n.jsx)(he.Z,{label:c.format("createLinkItemVolume"),name:"volume"})})]})}),(0,n.jsx)(h.Z,{ghost:!0,title:c.format("createLinkItemEnv"),children:(0,n.jsx)(V.Z,{direction:"vertical",children:A.record.env&&(0,l.oZ)(A.record.env).map(function(O,Re){return(0,n.jsx)(Pe.Z.Text,{copyable:{icon:(0,n.jsx)($.Z,{}),onCopy:function(){j.onAddEnv(O.name,O.value)},tooltips:[c.format("createLinkAddToEnv"),"success"]},code:!0,ellipsis:{tooltip:"".concat(O.name,"=").concat(O.value)},children:"".concat(O.name,"=").concat(O.value)},Re)})},"linkEnv")})]})},q=function(A){var O,Re,We=!1,we=(O=(Re=z.current)===null||Re===void 0?void 0:Re.getList())!==null&&O!==void 0?O:[];if(we.map(function(w){w.name==A.name&&(We=!0)}),!We){var Ue;(Ue=z.current)===null||Ue===void 0||Ue.add(A)}};return(0,t.useImperativeHandle)(Ae,function(){return{setDefaultLink:function(A){A&&A.map(function(O){O.name!=""&&q(O)})}}}),(0,n.jsxs)(h.Z,{title:c.format("createLinkTitle"),headerBordered:!0,tooltip:"".concat(c.format("createParamsDemo",{params:"--link list"})),ghost:!0,children:[(0,n.jsx)(Ie.u,{name:"links",actionRef:z,creatorButtonProps:{creatorButtonText:c.format("createLinkAddButton")},actionGuard:{beforeAddRow:function(A,O){return ie(!0),!1}},copyIconProps:!1,min:0,itemRender:function(A,O){return(0,n.jsx)(B,{action:A.action,name:O.record.name,record:O.record})}}),(0,n.jsx)(oe.Z,{title:c.format("createLinkSelectContainer"),width:G.R_,footer:!1,open:b,onClose:function(){return ie(!1)},children:(0,n.jsx)(Z.Z,{onSelect:function(A){q({name:(0,l.fi)(A.Name,"/"),volume:!1,env:A.Config.Env,alise:(0,x.zY)(A.Name)}),ie(!1)}})})]})}),Oe=fe,T=e(91058),C=e(10523),L=e(24796),i=e(52688),P=e(24963);function K(){var j=(0,t.useContext)(P.Z),Ae=j.message,d=new v.Uo("components.appForm");return(0,n.jsx)(h.Z,{ghost:!0,children:(0,n.jsxs)(me.UW,{children:[(0,n.jsx)(i.Z,{fieldProps:{onChange:function(b){b&&Ae.warning(d.format("createAdvRunCommandPrivilegedNotice"))}},name:"privileged",tooltip:"".concat(d.format("createParamsDemo",{params:"--privileged"})),label:d.format("createAdvRunCommandPrivileged"),initialValue:!1}),(0,n.jsx)(i.Z,{name:"autoRemove",tooltip:"".concat(d.format("createParamsDemo",{params:"--rm"})),label:d.format("createAdvRunCommandAutoRemove"),initialValue:!1}),(0,n.jsx)(i.Z,{fieldProps:{onChange:function(b){b&&Ae.warning(d.format("createAdvRunCommandHostPidNotice"))}},tooltip:"".concat(d.format("createParamsDemo",{params:"--pid host"})),name:"hostPid",label:d.format("createAdvRunCommandHostPid"),initialValue:!1}),(0,n.jsx)(i.Z,{name:"init",tooltip:"".concat(d.format("createParamsDemo",{params:"--init"})),label:d.format("createAdvRunCommandInit"),initialValue:!1})]})})}var Q=e(62597),Le=e(82346),Ke=e(20743),Se=(0,t.forwardRef)(function(j,Ae){var d=(0,t.useRef)(),se=(0,t.useRef)(),b=new v.Uo("components.appForm");(0,t.useImperativeHandle)(Ae,function(){return{}});var ie=function(c){var B,q,N=!1,A=(B=(q=d.current)===null||q===void 0?void 0:q.getList())!==null&&B!==void 0?B:[];if(A.map(function(Re){Re.name==c.name&&(N=!0)}),!N){var O;(O=d.current)===null||O===void 0||O.add(c)}};return(0,n.jsxs)(h.Z,{ghost:!0,title:b.format("createNetworkTitle"),tooltip:"".concat(b.format("createParamsDemo",{params:"--network list"})),headerBordered:!0,extra:(0,n.jsx)(V.Z,{children:j.showUseBridgeNetwork&&(0,n.jsx)(i.Z,{name:"useBridgeNetwork",initialValue:!0,fieldProps:{checkedChildren:b.format("createNetworkUseBridgeNetwork"),unCheckedChildren:b.format("createNetworkUseBridgeNetwork")}},"useBridgeNetwork")}),children:[(0,n.jsx)(Ie.u,{name:"network",actionRef:d,creatorButtonProps:{creatorButtonText:b.format("createNetworkAddButton")},actionGuard:{beforeAddRow:function(c,B){var q;return(q=se.current)===null||q===void 0||q.show(),!1}},copyIconProps:!1,min:0,itemRender:function(c,B){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(me.UW,{children:[(0,n.jsx)(g.Z,{label:b.format("createNetworkName"),name:"name",width:"md",disabled:!0,fieldProps:{value:B.record.name}}),(0,n.jsx)(g.Z,{label:b.format("createNetworkAlise"),name:"alise",tooltip:b.format("createNetworkAliseTip"),placeholder:b.format("createNetworkAliseEmpty"),disabled:B.record.name=="bridge"}),(0,n.jsx)(g.Z,{label:"IpV4",name:"ipV4",width:"md",disabled:B.record.name=="bridge",fieldProps:{addonAfter:B.record.subnet}}),B.record.subnetV6&&(0,n.jsx)(g.Z,{label:"IpV6",name:"ipV6",width:"md",disabled:B.record.name=="bridge",fieldProps:{addonAfter:B.record.subnetV6}}),(0,n.jsx)(F.Z,{label:" ",children:c.action})]})})}}),(0,n.jsx)(Ke.Z,{ref:se,onSelect:function(c){ie({name:c.Name,alise:[""],subnet:c.IPAM.Config&&c.IPAM.Config[0].Subnet,subnetV6:c.IPAM.Config&&c.IPAM.Config[1]&&c.IPAM.Config[1].Subnet})}})]})}),X=Se,gn=e(82034),be=e(52255),On=e(59252),tn=e(73813),An=function(Ae){var d=new v.Uo("components.appForm");return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(h.Z,{title:d.format("createSelfNetworkTitle"),subTitle:d.format("createSelfNetworkTitleTip"),tooltip:"".concat(d.format("createParamsDemo",{params:"--network string --ip string --ip6 string"})),ghost:!0,children:[(0,n.jsxs)(me.UW,{children:[(0,n.jsx)(g.Z,{label:d.format("createSelfNetworkIp",{ip:"ipv4"}),name:["ipV4","address"],width:"md",tooltip:d.format("createSelfNetworkIpTip",{ip:"ipv4",example:"192.168.1.5"}),placeholder:"192.168.1.5"}),(0,n.jsx)(W.Z,{name:["ipV4"],children:function(b){var ie=b.ipV4;return(0,n.jsx)(g.Z,{label:d.format("createSelfNetworkIpSubnet",{ip:"ipv4"}),name:["ipV4","subnet"],width:"md",required:ie&&ie.address,tooltip:d.format("createSelfNetworkIpSubnetTip",{ip:"ipv4",example:"192.168.1.0/24"}),placeholder:"192.168.1.0/24",rules:[{required:ie&&ie.address}]})}}),(0,n.jsx)(g.Z,{label:d.format("createSelfNetworkIpGateway",{ip:"ipv4"}),name:["ipV4","gateway"],width:"md",tooltip:d.format("createSelfNetworkIpGatewayTip",{ip:"ipv4",example:"192.168.1.1"}),placeholder:"192.168.1.1"}),(0,n.jsx)(i.Z,{label:d.format("createSelfNetworkIpV6Enable"),name:"enableIpV6Address"})]}),(0,n.jsx)(W.Z,{name:["enableIpV6Address"],children:function(b){var ie=b.enableIpV6Address;if(ie)return(0,n.jsxs)(me.UW,{children:[(0,n.jsx)(g.Z,{label:d.format("createSelfNetworkIp",{ip:"ipv6"}),name:["ipV6","address"],width:"md",tooltip:d.format("createSelfNetworkIpTip",{ip:"ipv6",example:"2001:db8::5"}),placeholder:"2001:db8::5"}),(0,n.jsx)(W.Z,{name:["ipV6"],children:function(c){var B=c.ipV6;return(0,n.jsx)(g.Z,{label:d.format("createSelfNetworkIpSubnet",{ip:"ipv6"}),name:["ipV6","subnet"],width:"md",required:B&&B.address,tooltip:d.format("createSelfNetworkIpSubnetTip",{ip:"ipv6",example:"2001:db8::/48"}),placeholder:"2001:db8::/48",rules:[{required:B&&B.address}]})}}),(0,n.jsx)(g.Z,{label:d.format("createSelfNetworkIpGateway",{ip:"ipv6"}),name:["ipV6","gateway"],width:"md",tooltip:d.format("createSelfNetworkIpGatewayTip",{ip:"ipv6",example:"2001:db8::1"}),placeholder:"2001:db8::1"})]})}})]})})},yn=An,Zn=e(90672);function bn(){var j=new v.Uo("components.appForm");return(0,n.jsx)(h.Z,{ghost:!0,title:j.format("createHookTitle"),subTitle:"",children:(0,n.jsx)(Zn.Z,{label:j.format("createHookContainerCreate"),name:["hook","containerCreate"],placeholder:j.format("createHookContainerCreateTip")})})}var Tn=e(93529),Ln=e(66309),wn=e(96074),Un=e(83062),Bn=e(64789),Nn=e(85060),Cn=e(78451),Sn=e(99861),Wn=e(80821),kn=e(1699),Kn=e(80271),Hn=e(47248),Fn=e(98510);function $n(j){var Ae=(0,t.useState)(!1),d=y()(Ae,2),se=d[0],b=d[1],ie=(0,t.useContext)(o.Z),z=ie.createFormRef,c=ie.volumeListRef,B=ie.createEnvRef,q=ie.domainRef,N=new v.Uo("components.appForm"),A=(0,t.useState)(!1),O=y()(A,2),Re=O[0],We=O[1];(0,t.useEffect)(function(){if(z.current){var w;We(!!((w=z.current)!==null&&w!==void 0&&w.getFieldValue("id")))}},[z.current]);function we(w){return Ue.apply(this,arguments)}function Ue(){return Ue=S()(p()().mark(function w(ee){var R,ve,I,D,a,ne,ye,re,ue,de,Ee,ge;return p()().wrap(function(Ze){for(;;)switch(Ze.prev=Ze.next){case 0:return Ze.next=2,(0,tn.YU)({md5:ee});case 2:return I=Ze.sent,Re||(ye=(D=z.current)===null||D===void 0?void 0:D.getFieldsValue(),(a=z.current)===null||a===void 0||a.resetFields(),(ne=z.current)===null||ne===void 0||ne.setFieldsValue({siteName:ye.siteName,siteTitle:ye.siteTitle})),I.data.info.Config.Env&&I.data.info.Config.Env.map(function(H){var Y,He=H.split("=");(Y=B.current)===null||Y===void 0||Y.addEnvItem(He[0],He.slice(1).join("="))}),(R=z.current)===null||R===void 0||R.setFieldValue("imageName",ee),(ve=z.current)===null||ve===void 0||ve.setFieldValue("workDir",I.data.info.Config.WorkingDir),Re||((re=q.current)===null||re===void 0||re.setExposePort(I.data.info.Config.ExposedPorts),I.data.info.Config.Volumes?(Ee=[],Object.keys(I.data.info.Config.Volumes).map(function(H,Y){Ee.push(H)}),(de=c.current)===null||de===void 0||de.setDefaultDestPath(Ee)):(ge=c.current)===null||ge===void 0||ge.setDefaultDestPath([]),(ue=z.current)===null||ue===void 0||ue.setFieldsValue({workDir:{value:"",useDefault:!0,default:I.data.info.Config.WorkingDir},user:{value:"",useDefault:!0,default:I.data.info.Config.User},command:{value:"",useDefault:!0,default:I.data.info.Config.Cmd&&I.data.info.Config.Cmd.join(" ")},entrypoint:{value:"",useDefault:!0,default:I.data.info.Config.Entrypoint&&I.data.info.Config.Entrypoint.join(" ")}})),Ze.abrupt("return",!0);case 9:case"end":return Ze.stop()}},w)})),Ue.apply(this,arguments)}return(0,t.useEffect)(function(){j.fromImageId&&we(j.fromImageId)},[j.fromImageId]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(oe.Z,{destroyOnHidden:!0,open:se,width:G.R_,title:N.format("dockerImageTitle"),footer:!1,onClose:function(){b(!1)},children:(0,n.jsx)(Fn.C,{columns:[{title:"Id",dataIndex:"Id",search:!1,width:120,render:function(ee,R,ve,I,D){return(0,n.jsx)(Cn.Z,{content:R.Id.slice(7,19)})}},{title:v.FD.format("listImageName"),dataIndex:"tag",render:function(ee,R,ve,I){return(0,n.jsx)(Cn.Z,{content:R.RepoTags[0]})}},{title:"Digest",width:120,render:function(ee,R,ve,I,D){var a=R.RepoDigests&&R.RepoDigests[0];return a?a.substring(a.indexOf("@")+8).substring(0,12):(0,n.jsx)(Ln.Z,{color:"warning",children:new v.Uo("components.appDetail").format("checkImageUpgradeOption.-3")})}},{title:v.FD.format("listCreatedAt"),dataIndex:"Created",search:!1,width:180,render:function(ee,R,ve,I){return(0,n.jsx)("div",{children:(0,l.ZM)(R.Created*1e3)},R.Id)},sorter:function(ee,R){return ee.Created-R.Created}},{title:v.FD.format("listManage"),valueType:"option",key:"option",width:50,render:function(ee,R,ve,I){return(0,n.jsx)(V.Z,{split:(0,n.jsx)(wn.Z,{type:"vertical"}),children:(0,n.jsx)(Wn.Z,{buttonProps:{icon:(0,n.jsx)(Bn.Z,{}),type:"link"},tips:v.FD.format("listManageUse"),action:function(){return we(R.RepoTags[0])},onSuccess:function(){b(!1)}},"addImage")})}}],request:function(){var w=S()(p()().mark(function ee(R,ve,I){var D,a,ne;return p()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=3,(0,tn.KG)({tag:R.tag});case 3:return D=re.sent,a=0,ne=[],D.data.list&&(ne=D.data.list.flatMap(function(ue){return ue.RepoTags.map(function(de){var Ee,ge=(Ee=ue.RepoDigests)===null||Ee===void 0?void 0:Ee.find(function(Be){var Ze=Be.split("@"),H=y()(Ze,2),Y=H[0],He=H[1];return de.includes(Y)});return{Key:a++,Id:ue.Id,Created:ue.Created,RepoTags:[de],RepoDigests:[ge]}})})),re.abrupt("return",{data:ne,success:!0,total:ne.length});case 8:case"end":return re.stop()}},ee)}));return function(ee,R,ve){return w.apply(this,arguments)}}(),rowKey:"Key"})},"imageTableList"),(0,n.jsxs)(V.Z.Compact,{children:[(0,n.jsx)(g.Z,{width:"lg",label:N.format("dockerImageImageName"),name:"imageName",disabled:!0,placeholder:N.format("dockerImageImageNameEmpty"),rules:[{required:!0}],required:!0}),(0,n.jsx)(F.Z,{label:" ",children:(0,n.jsx)(ae.ZP,{type:"primary",onClick:function(){return b(!0)},children:N.format("dockerImageTitle")},"showBtn")}),(0,n.jsx)(W.Z,{name:["imageName"],children:function(ee){var R=ee.imageName;if(R)return(0,n.jsx)(F.Z,{label:" ",children:(0,n.jsx)(Sn.Z,{finishAutoHide:!0,image:R?[R]:[],trigger:(0,n.jsx)(Un.Z,{title:N.format("dockerImageUpgradeImageTip"),children:(0,n.jsx)(ae.ZP,{icon:(0,n.jsx)(Nn.Z,{}),children:N.format("dockerImageUpgradeImageButton")})})})})}}),(0,n.jsx)(F.Z,{label:" ",children:(0,n.jsx)(Hn.Z,{onFinish:function(ee){we(ee)}},"remote")}),(0,n.jsx)(F.Z,{label:" ",children:(0,n.jsx)(W.Z,{name:["imageName"],children:function(ee){var R=ee.imageName;if(R)return(0,n.jsx)(kn.u,{access:"canSeeEnableCe",showProTips:!0,children:function(I){var D=I.canSeeEnableCe;return(0,n.jsx)(Kn.Z,{imageId:R,trigger:(0,n.jsx)(ae.ZP,{disabled:D,children:N.format("dockerImageFileExplorer")})})}})}})})]})]})}var Vn=e(44349);function Gn(){var j=new v.Uo("components.appForm");return(0,n.jsx)(h.Z,{ghost:!0,title:j.format("createDevice"),headerBordered:!0,tooltip:"".concat(j.format("createParamsDemo",{params:"--device list"})),children:(0,n.jsx)(Vn.Z,{name:"device",showAddButtonLabel:"".concat(v.FD.format("listManageAdd")).concat(j.format("createDevice")),hideCopyButton:!0,showAddButton:!0,gap:10,items:[{label:j.format("createDeviceHost"),name:"host",width:"md",placeholder:"/dev/tty0"},{label:j.format("createDeviceDest"),name:"dest",width:"md",placeholder:"/dev/tty0"}]})})}var Pn=e(64317);function zn(){var j=new v.Uo("components.appForm");return(0,n.jsxs)(h.Z,{ghost:!0,children:[(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(k.Z,{span:4,children:(0,n.jsx)(i.Z,{label:j.format("createGpus"),name:["gpus","enable"]})}),(0,n.jsx)(k.Z,{span:20,children:(0,n.jsx)(W.Z,{name:["gpus"],children:function(d){var se=d.gpus;if(se&&se.enable)return(0,n.jsx)(Pn.Z,{tooltip:"".concat(j.format("createParamsDemo",{params:"--gpus 'device=0'"})),mode:"tags",label:j.format("createGpusDevice"),name:["gpus","device"],placeholder:j.format("createGpusDeviceEmpty")})}})})]}),(0,n.jsx)(W.Z,{name:["gpus"],children:function(d){var se=d.gpus;if(se&&se.enable)return(0,n.jsx)(Pn.Z,{tooltip:"".concat(j.format("createParamsDemo",{params:"--gpus 'capabilities=compute,utility'"})),label:j.format("createGpusCap"),name:["gpus","capabilities"],mode:"multiple",fieldProps:{allowClear:!0},options:j.option("createGpusCapOption",["compute","compat32","graphics","utility","video","display"])})}})]})}var Yn=e(55730),Jn=e(27323),Qn=e(44771),Xn=e(33879),qn=e(96486),qe=e.n(qn),er=e(73396),En=e(14946),nr=e(13822),rr=e(64412),tr=e(27166),ar=(0,t.forwardRef)(function(j,Ae){var d=(0,t.useContext)(P.Z),se=d.notice,b=(0,Le.useAccess)(),ie=(0,t.useState)("basic"),z=y()(ie,2),c=z[0],B=z[1],q=new v.Uo("app"),N=new v.Uo("components.appForm"),A=(0,t.useRef)(),O=(0,t.useRef)(),Re=(0,t.useRef)(),We=(0,t.useRef)(),we=(0,t.useRef)(),Ue=(0,t.useState)(!1),w=y()(Ue,2),ee=w[0],R=w[1],ve=(0,t.useRef)();return(0,t.useImperativeHandle)(Ae,function(){return{show:function(D){return S()(p()().mark(function a(){var ne,ye,re,ue,de,Ee,ge,Be,Ze,H,Y,He,an,on,sn,ln,un,dn,ze,cn,mn,fn,vn,Ye,Fe,r,De,jn,Je,In,Rn,Qe,Dn,pn;return p()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if((ne=A.current)===null||ne===void 0||ne.resetFields(),D){pe.next=3;break}return pe.abrupt("return");case 3:return R(!0),(ye=ve.current)===null||ye===void 0||ye.loading(),pe.prev=5,pe.next=8,(0,Q.iE)({id:D});case 8:if(Fe=pe.sent,r=(re=Fe.data.containerInfo)===null||re===void 0?void 0:re.Info,De={info:{}},!r){pe.next=16;break}return pe.next=14,(0,tn.YU)({md5:r.Image});case 14:jn=pe.sent,De=jn.data;case 16:return Je=[],pe.next=19,(0,En.jR)();case 19:return In=pe.sent,Je=In.data.list,Rn=function(s){if(!s)return{};var m=s[Fe.data.siteName];if(!m)return{};var f=Je&&Je.find(function(J){return J.Id==m.NetworkID});return{ipV4:{address:m.IPAddress,gateway:m.Gateway,subnet:f&&f.IPAM.Config&&f.IPAM.Config[0]&&f.IPAM.Config[0].Subnet},ipV6:{address:m.GlobalIPv6Address,gateway:m.IPv6Gateway,subnet:f&&f.IPAM.Config&&f.IPAM.Config[1]&&f.IPAM.Config[1].Subnet},enableIpV6Address:f&&f.IPAM.Config&&f.IPAM.Config[1],bindIpV6:!!(f&&f.IPAM.Config&&f.IPAM.Config[1])}}(r==null?void 0:r.NetworkSettings.Networks),Qe=[],pe.next=25,function(){var s=S()(p()().mark(function m(f,J){var Te;return p()().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(!(!(J!=null&&J.NetworkSettings)||!(J!=null&&J.NetworkSettings.Networks)||!(J!=null&&J.NetworkSettings.Networks[f]))){ce.next=2;break}return ce.abrupt("return",[]);case 2:return ce.next=4,(0,En.IS)({name:f});case 4:if(Te=ce.sent,ce.t0=Te.data.info.Containers,!ce.t0){ce.next=10;break}return ce.next=9,Promise.all(Object.entries(Te.data.info.Containers).filter(function(ke){var en=y()(ke,2),Mn=en[0],nn=en[1];return nn.Name!=f}).map(function(){var ke=S()(p()().mark(function en(Mn){var nn,sr,rn,Xe,xn,$e,_n;return p()().wrap(function(Ve){for(;;)switch(Ve.prev=Ve.next){case 0:if(nn=y()(Mn,2),sr=nn[0],rn=nn[1],rn.Name==f){Ve.next=9;break}return Ve.next=4,(0,nr.jV)({md5:rn.Name});case 4:return xn=Ve.sent,$e=xn.data.info,_n=(Xe=J.HostConfig)===null||Xe===void 0||(Xe=Xe.VolumesFrom)===null||Xe===void 0?void 0:Xe.includes(rn.Name),_n&&$e.Mounts&&Qe.push.apply(Qe,Ce()($e.Mounts.map(function(ir){var hn;return(hn=ir.Destination)!==null&&hn!==void 0?hn:""}))),Ve.abrupt("return",{name:rn.Name,alise:$e&&(0,x.zY)($e.Name),env:$e&&$e.Config.Env,volume:_n});case 9:case"end":return Ve.stop()}},en)}));return function(en){return ke.apply(this,arguments)}}()));case 9:ce.t0=ce.sent;case 10:return ce.abrupt("return",ce.t0);case 11:case"end":return ce.stop()}},m)}));return function(m,f){return s.apply(this,arguments)}}()(Fe.data.siteName,r);case 25:Dn=pe.sent,(ue=A.current)===null||ue===void 0||ue.setFieldsValue(M()({id:r==null?void 0:r.Id,siteTitle:Fe.data.siteTitle,siteName:Fe.data.siteName,hook:Fe.data.env.hook,imageName:r==null?void 0:r.Config.Image,hostname:r==null?void 0:r.Config.Hostname,privileged:r==null||(de=r.HostConfig)===null||de===void 0?void 0:de.Privileged,useHostNetwork:(r==null||(Ee=r.HostConfig)===null||Ee===void 0?void 0:Ee.NetworkMode)=="host",publishAllPorts:r==null||(ge=r.HostConfig)===null||ge===void 0?void 0:ge.PublishAllPorts,groupAdd:r==null||(Be=r.HostConfig)===null||Be===void 0?void 0:Be.GroupAdd,workDir:{value:r==null?void 0:r.Config.WorkingDir,useDefault:De.info.Config.WorkingDir==(r==null?void 0:r.Config.WorkingDir),default:De&&De.info.Config&&De.info.Config.WorkingDir},user:{value:r==null?void 0:r.Config.User,useDefault:De.info.Config.User==(r==null?void 0:r.Config.User),default:De.info.Config.User},command:{value:(0,l.PK)(r==null?void 0:r.Config.Cmd),useDefault:qe().isEmpty(r==null?void 0:r.Config.Cmd)||qe().isEqual(De.info.Config.Cmd,r==null?void 0:r.Config.Cmd),default:((Ze=De.info.Config)===null||Ze===void 0?void 0:Ze.Cmd)&&(0,l.PK)(De.info.Config.Cmd)},entrypoint:{value:(0,l.PK)(r==null?void 0:r.Config.Entrypoint),useDefault:qe().isEmpty(r==null?void 0:r.Config.Entrypoint)||qe().isEqual(De.info.Config.Entrypoint,r==null?void 0:r.Config.Entrypoint),default:((H=De.info)===null||H===void 0||(H=H.Config)===null||H===void 0?void 0:H.Entrypoint)&&(0,l.PK)(De.info.Config.Entrypoint)},shmsize:(0,x.Rk)(r==null||(Y=r.HostConfig)===null||Y===void 0?void 0:Y.ShmSize),cpus:(0,x.PD)(r==null||(He=r.HostConfig)===null||He===void 0?void 0:He.NanoCpus),memory:(0,x.pM)(r==null||(an=r.HostConfig)===null||an===void 0?void 0:an.Memory),environment:(r==null?void 0:r.Config.Env)&&(0,l.oZ)(r.Config.Env,"="),label:function(s){return s&&Object.entries(s).map(function(m){var f=y()(m,2),J=f[0],Te=f[1];return{name:J,value:Te}})}(r==null?void 0:r.Config.Labels),volumes:function(s){return s==null?void 0:s.filter(function(m){var f;return!Qe||Qe.length==0||!Qe.includes((f=m.Destination)!==null&&f!==void 0?f:"")}).map(function(m){return{host:m.Type=="bind"?m.Source:m.Name,dest:m.Destination,type:m.Type,permission:m.RW?"write":"readonly"}})}(r==null?void 0:r.Mounts),ports:(0,x.yi)(r),links:Dn,network:function(s){return s&&Object.entries(s).map(function(m){var f=y()(m,2),J=f[0],Te=f[1],Ne=Je&&Je.find(function(ke){return ke.Name==J}),ce="";return Te.Aliases&&Te.Aliases.forEach(function(ke){if(!ke.includes("pod.dpanel.local")){ce=ke;return}}),{name:J,alise:ce,ipV4:Te.IPAddress,subnet:"".concat(Ne&&Ne.IPAM.Config&&Ne!==null&&Ne!==void 0&&Ne.IPAM.Config[0]?Ne==null?void 0:Ne.IPAM.Config[0].Subnet:"-","/").concat(Te.IPPrefixLen)}})}(r==null?void 0:r.NetworkSettings.Networks),restart:function(s){return s?{name:s==null?void 0:s.Name,maxAttempt:s==null?void 0:s.MaximumRetryCount}:{name:"no"}}(r==null||(on=r.HostConfig)===null||on===void 0?void 0:on.RestartPolicy),extraHosts:(0,l.oZ)(r==null||(sn=r.HostConfig)===null||sn===void 0?void 0:sn.ExtraHosts,":"),autoRemove:r==null||(ln=r.HostConfig)===null||ln===void 0?void 0:ln.AutoRemove,init:r==null||(un=r.HostConfig)===null||un===void 0?void 0:un.Init,log:function(s,m){return{driver:(m=s==null?void 0:s.Type)!==null&&m!==void 0?m:"json-file",maxFile:(s==null?void 0:s.Config)&&s.Config["max-file"],maxSize:(s==null?void 0:s.Config)&&s.Config["max-size"]}}(r==null||(dn=r.HostConfig)===null||dn===void 0?void 0:dn.LogConfig),dns:r==null||(ze=r.HostConfig)===null||ze===void 0||(ze=ze.Dns)===null||ze===void 0?void 0:ze.join(`
`),gpus:function(s){var m=s==null?void 0:s.find(function(J){return J.Driver=="nvidia"});if(!m)return{enable:!1};var f=m.Capabilities&&m.Capabilities[0];return{device:m.DeviceIDs,capabilities:f&&f.includes("gpu")?[]:f,enable:!0}}(r==null||(cn=r.HostConfig)===null||cn===void 0?void 0:cn.DeviceRequests),device:function(s){return s==null?void 0:s.map(function(m){return{host:m.PathOnHost,dest:m.PathInContainer}})}(r==null||(mn=r.HostConfig)===null||mn===void 0?void 0:mn.Devices),hostPid:(r==null||(fn=r.HostConfig)===null||fn===void 0?void 0:fn.PidMode)=="host",capAdd:r==null||(vn=r.HostConfig)===null||vn===void 0?void 0:vn.CapAdd,healthcheck:function(s,m,f){if(!s)return{};var J=s!=null&&(m=s.Test)!==null&&m!==void 0&&m.includes("CMD-SHELL")?"CMD-SHELL":"CMD";return{interval:(s==null?void 0:s.Interval)&&s.Interval/Q.nL.Second,timeout:(s==null?void 0:s.Timeout)&&s.Timeout/Q.nL.Second,retries:s==null?void 0:s.Retries,cmd:s!=null&&s.Test?s==null||(f=s.Test)===null||f===void 0?void 0:f.slice(1).join(" "):"",shellType:J}}(r==null?void 0:r.Config.Healthcheck),useBridgeNetwork:function(s){return!!(s&&s.bridge)}(r==null?void 0:r.NetworkSettings.Networks),enableBindHost:r==null||(Ye=r.HostConfig)===null||Ye===void 0||(Ye=Ye.ExtraHosts)===null||Ye===void 0?void 0:Ye.some(function(s){return s.includes(":host-gateway")})},Rn));case 27:return pe.prev=27,(pn=ve.current)===null||pn===void 0||pn.finish(),pe.finish(27);case 30:case"end":return pe.stop()}},a,null,[[5,,27,30]])}))()}}}),(0,n.jsx)(o.Z.Provider,{value:{createFormRef:A,volumeListRef:O,domainRef:Re,createEnvRef:we,createLinkRef:We},children:(0,n.jsx)(tr.Z,{title:v.Ob.format("container.create"),trigger:j.showTrigger?(0,n.jsx)(ae.ZP,{type:"primary",disabled:!b.canSeeContainerListManageCreate,children:v.Ob.format("container.create")}):void 0,drawerProps:{width:G.R_,rootClassName:"createAppWapper"},ref:ve,formRef:A,onFinish:function(){var I=S()(p()().mark(function D(a){var ne,ye,re,ue,de,Ee,ge,Be;return p()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if((ne=ve.current)===null||ne===void 0||ne.loading(),ge={id:a.id,siteTitle:a.siteTitle,siteName:a.siteName,hostname:a.hostname,imageName:a.imageName,environment:a.environment,links:a.links,ports:a.ports,volumes:a.volumes,network:a.network&&a.network.map(function(Y){return qe().isArray(Y.alise)||(Y.alise=[Y.alise]),Y}),privileged:(ye=a.privileged)!==null&&ye!==void 0?ye:!1,autoRemove:(re=a.autoRemove)!==null&&re!==void 0?re:!1,init:(ue=a.init)!==null&&ue!==void 0?ue:!1,restartPolicy:a.restart,cpus:a.cpus,memory:a.memory,shmsize:(de=a.shmsize)!==null&&de!==void 0?de:"0",workDir:a.workDir&&!a.workDir.useDefault?a.workDir.value:"",user:a.user&&!a.user.useDefault?a.user.value:"",groupAdd:a.groupAdd,command:a.command&&!a.command.useDefault?a.command.value:"",entrypoint:a.entrypoint&&!a.entrypoint.useDefault?a.entrypoint.value:"",useHostNetwork:a.useHostNetwork,bindIpV6:a.bindIpV6,log:a.log,dns:a.dns,label:a.label,publishAllPorts:a.publishAllPorts,extraHosts:a.extraHosts,ipV4:a.ipV4,ipV6:a.ipV6,device:a.device,gpus:a.gpus,hook:a.hook,hostPid:a.hostPid,capAdd:a.capAdd,useBridgeNetwork:(Ee=a.useBridgeNetwork)!==null&&Ee!==void 0?Ee:!0},!(!a.useBridgeNetwork&&!a.useHostNetwork&&(!a.network||a.network.length==0))){H.next=5;break}return se.error(q.format("createMessageNoBridgeNetworkMustHasUseNetwork")),H.abrupt("return",!1);case 5:return a.useBridgeNetwork&&ge.network&&!ge.network.find(function(Y){return Y.name=="bridge"})&&ge.network.push({name:"bridge",alise:[],ipV4:""}),a.healthcheck&&a.healthcheck.cmd&&a.healthcheck.cmd!=""&&(ge.healthcheck=a.healthcheck),H.next=9,(0,Q.$G)(ge).finally(function(){var Y;(Y=ve.current)===null||Y===void 0||Y.finish()});case 9:return Be=H.sent,j.onFinish&&j.onFinish(Be.data.containerId),H.abrupt("return",!0);case 12:case"end":return H.stop()}},D)}));return function(D){return I.apply(this,arguments)}}(),open:ee,onOpenChange:function(D){var a;R(D),!D&&((a=A.current)===null||a===void 0||a.resetFields())},children:(0,n.jsxs)(h.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,n.jsxs)(h.Z,{ghost:!0,title:q.format("createTitle"),children:[(0,n.jsx)(F.Z,{hidden:!0,name:"id"}),(0,n.jsx)(g.Z,{name:"siteTitle",label:q.format("createSiteTitle"),placeholder:q.format("createSiteTitleEmpty")}),(0,n.jsxs)(me.UW,{children:[(0,n.jsx)(g.Z,{width:"md",name:"siteName",label:q.format("createSiteName"),required:!0,rules:[{required:!0}],tooltip:"".concat(N.format("createParamsDemo",{params:"--name string"})),placeholder:q.format("createSiteNameEmpty")}),(0,n.jsx)(g.Z,{label:"Hostname",name:"hostname",width:"md",tooltip:"".concat(N.format("createParamsDemo",{params:"--hostname string"}))})]}),(0,n.jsx)($n,{fromImageId:""})]}),(0,n.jsx)(_e.Z,{offsetTop:10,target:function(){return document.querySelector(".createAppWapper .ant-drawer-body")},children:(0,n.jsx)(h.Z,{style:{margin:-20},children:(0,n.jsx)(E.Z,{activeKey:c,onChange:function(D){B(D)},items:N.option("createTabOption",["basic","link","run-command","resource","cap"]).map(function(I){return{label:I.label,key:I.value}})})})}),(0,n.jsxs)(be.Z,{show:c=="basic",children:[(0,n.jsx)(gn.Z,{ref:Re,showBindHost:!0,showBindIpV6:!0,showBindAll:!0}),(0,n.jsx)(T.Z,{showAddButton:!0,showImportButton:!0,showCodeMode:!0,ref:we,drawerProps:{title:N.format("createEnvTitle"),tooltip:"".concat(N.format("createParamsDemo",{params:"-e, --env list"})),ghost:!0}}),(0,n.jsx)(C.Z,{showDefault:!0,ref:O}),(0,n.jsx)(W.Z,{name:["siteName","useHostNetwork"],children:function(D){var a=D.siteName,ne=D.useHostNetwork;if(!ne)return(0,n.jsx)(yn,{})}}),(0,n.jsx)(rr.Z,{}),(0,n.jsx)(L.Z,{})]}),(0,n.jsxs)(be.Z,{show:c=="link",children:[(0,n.jsx)(W.Z,{name:["siteName","useHostNetwork"],children:function(D){var a=D.siteName,ne=D.useHostNetwork;return ne?(0,n.jsx)(h.Z,{children:(0,n.jsx)(_.Z,{showIcon:!0,description:q.format("createNetworkDesc")})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Oe,{onAddEnv:function(re,ue){var de;(de=we.current)===null||de===void 0||de.addEnvItem(re,ue)},ref:We}),(0,n.jsx)(X,{showUseBridgeNetwork:!0,siteName:a}),(0,n.jsx)(On.Z,{})]})}}),(0,n.jsx)(Gn,{})]}),(0,n.jsxs)(be.Z,{show:c=="run-command",children:[(0,n.jsxs)(me.UW,{children:[(0,n.jsx)(Qn.Z,{ghost:!0,defaultValue:"always",showLabel:!0}),(0,n.jsx)(K,{})]}),(0,n.jsx)(Xn.Z,{showCommand:!0,showEntrypoint:!0,showWorkDir:!0,showUser:!0}),(0,n.jsx)(Jn.Z,{}),(0,n.jsx)(bn,{})]}),(0,n.jsxs)(be.Z,{show:c=="resource",children:[(0,n.jsx)(er.Z,{}),(0,n.jsx)(Yn.Z,{showShmsize:!0}),(0,n.jsx)(zn,{})]}),(0,n.jsx)(be.Z,{show:c=="cap",children:(0,n.jsx)(Tn.Z,{})})]})})})}),or=ar},47248:function(Ge,Me,e){var xe=e(15009),M=e.n(xe),je=e(99289),p=e.n(je),le=e(5574),Ce=e.n(le),U=e(38345),S=e(97269),te=e(5966),y=e(62370),h=e(64317),F=e(83622),g=e(85265),me=e(25593),W=e(42075),ae=e(67294),_e=e(92754),E=e(82346),_=e(2205),t=e(3616),o=e(36146),$=e(23430),he=e(68297),Ie=e(77342),u=e(85893),k=(0,ae.forwardRef)(function(V,Pe){var oe=(0,ae.useState)(!1),Z=Ce()(oe,2),l=Z[0],G=Z[1],v=(0,ae.useRef)(),x=(0,ae.useRef)(),n=(0,ae.useState)(!1),fe=Ce()(n,2),Oe=fe[0],T=fe[1],C=new o.Uo("components.imagePull");return(0,ae.useImperativeHandle)(Pe,function(){return{upgradeImage:function(i){var P;return G(!0),(P=v.current)===null||P===void 0||P.setFieldValue("imageUrl",i),(0,he.Ze)({tag:i,type:"pull"})},setImageName:function(i){var P;G(!0),(P=v.current)===null||P===void 0||P.setFieldValue("imageUrl",i)}}}),[(0,u.jsx)(F.ZP,{type:V.buttonType?V.buttonType:"default",icon:(0,u.jsx)($.Z,{}),onClick:function(){var i,P;G(!0),(i=v.current)===null||i===void 0||i.resetFields(),(P=x.current)===null||P===void 0||P.setStart("")},children:C.format("triggerButton")},"remoteBtn"),(0,u.jsxs)(g.Z,{forceRender:!0,open:l,title:C.format("drawerTitle"),width:t.R_,onClose:function(){var i;G(!1),(i=x.current)===null||i===void 0||i.close()},footer:!1,children:[(0,u.jsx)(U.Z,{children:(0,u.jsx)(me.Z.Text,{children:(0,u.jsxs)("ul",{style:{lineHeight:"30px"},children:[(0,u.jsxs)("li",{children:[C.format("tip.1")," ",(0,u.jsx)("a",{href:"https://hub.docker.com/",target:"_blank",children:o.FD.format("help")})]}),(0,u.jsxs)("li",{children:[C.format("tip.2")," ",(0,u.jsx)("a",{href:"https://hub.docker.com/search?q=",target:"_blank",children:o.FD.format("help")})]}),(0,u.jsxs)("li",{children:[C.format("tip.3")," "]}),(0,u.jsxs)("li",{children:[C.format("tip.4")," ",(0,u.jsx)(E.Link,{to:"/image/registry",children:o.Ob.format("image.registry.create")})]}),(0,u.jsxs)("li",{children:[C.format("tip.5")," ",(0,u.jsx)(E.Link,{to:"/image/registry",children:o.Ob.format("image.registry")})]})]})})}),(0,u.jsx)(U.Z,{title:C.format("triggerButton"),headerBordered:!0,children:(0,u.jsxs)(S.A,{formRef:v,submitter:!1,isKeyPressSubmit:!0,onFinish:function(){var L=p()(M()().mark(function i(P){var K,Q,Le,Ke,Se,X;return M()().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return Se=(K=P.imageUrl)!==null&&K!==void 0?K:"",P.registryUrl&&(Se="".concat(P.registryUrl,"/").concat(Se)),T(!0),(Q=x.current)===null||Q===void 0||Q.setStart(Se),be.next=6,(0,he.Ze)({tag:(0,Ie.Z)(Se," "),type:"pull",platform:(Le=P.platform)!==null&&Le!==void 0?Le:""}).finally(function(){T(!1)});case 6:return X=be.sent,(Ke=x.current)===null||Ke===void 0||Ke.setFinish(),G(!1),V.onFinish&&V.onFinish(X.data.tag),be.abrupt("return",!0);case 11:case"end":return be.stop()}},i)}));return function(i){return L.apply(this,arguments)}}(),children:[(0,u.jsx)(te.Z,{name:"registryUrl",hidden:!0}),(0,u.jsxs)(W.Z.Compact,{children:[(0,u.jsx)(y.Z,{shouldUpdate:!0,children:function(i){return(0,u.jsx)(_.Z,{width:"150px",onChange:function(K){i.setFieldValue("registryUrl",K?K.serverAddress:"")}})}}),(0,u.jsx)(te.Z,{disabled:Oe,width:270,name:"imageUrl",placeholder:C.format("imageUrlEmpty"),required:!0,rules:[{required:!0}]}),(0,u.jsx)(h.Z,{name:"platform",style:{width:100},placeholder:C.format("imagePlatformEmpty"),options:he.ii.map(function(L){return{label:L.name,value:L.name}})}),(0,u.jsx)(F.ZP,{loading:Oe,onClick:p()(M()().mark(function L(){var i;return M()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:(i=v.current)===null||i===void 0||i.submit();case 1:case"end":return K.stop()}},L)})),children:C.format("triggerButton")}),(0,u.jsx)(F.ZP,{danger:!0,onClick:function(){var i;(i=x.current)===null||i===void 0||i.close()},children:o.FD.format("listManageKill")})]}),(0,u.jsx)(y.Z,{label:C.format("progressTitle"),children:(0,u.jsx)(_e.Z,{ref:x})})]})})]},"remoteDrawer")]});Me.Z=k},20743:function(Ge,Me,e){var xe=e(15009),M=e.n(xe),je=e(99289),p=e.n(je),le=e(5574),Ce=e.n(le),U=e(67294),S=e(14946),te=e(64789),y=e(9773),h=e(83622),F=e(85265),g=e(42075),me=e(66309),W=e(16970),ae=e(3616),_e=e(36146),E=e(67255),_=e(85893),t=(0,U.forwardRef)(function(o,$){(0,U.useImperativeHandle)($,function(){return{show:function(){k(!0)}}});var he=(0,U.useState)(!1),Ie=Ce()(he,2),u=Ie[0],k=Ie[1],V=(0,U.useRef)(),Pe=new _e.Uo("components.network");return(0,_.jsxs)(_.Fragment,{children:[o.showTriggerButton&&(0,_.jsx)(h.ZP,{onClick:function(){k(!0)},children:Pe.format("selectTriggerButton")}),(0,_.jsx)(F.Z,{title:Pe.format("selectDrawerTitle"),width:ae.R_,footer:!1,open:u,onClose:function(){return k(!1)},extra:(0,_.jsx)(g.Z,{children:(0,_.jsx)(W.Z,{onFinish:function(){var Z,l;!((Z=V.current)===null||Z===void 0)&&Z.reloadAndRest&&((l=V.current)===null||l===void 0||l.reloadAndRest())}},"create")}),children:(0,_.jsx)(y.Z,{rowKey:"Name",actionRef:V,columns:[{title:_e.FD.format("listTitle"),dataIndex:"Name",render:function(Z,l,G,v,x){return l.Name=="none"||l.Name=="bridge"||l.Name=="host"?(0,_.jsxs)(_.Fragment,{children:[l.Name," ",(0,_.jsx)(me.Z,{color:"blue",children:"System"})]}):(0,_.jsx)(_.Fragment,{children:Z})}},{title:_e.FD.format("listType"),ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"Driver",ellipsis:!0,width:100,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",search:!1,width:120,render:function(Z,l,G,v,x){return l.IPAM.Config&&l.IPAM.Config[0]&&(0,_.jsxs)(g.Z,{direction:"vertical",children:[l.IPAM.Config[0].Subnet,l.IPAM.Config[0].Gateway]})}},{title:"IPV6",search:!1,render:function(Z,l,G,v,x){return l.IPAM.Config&&l.IPAM.Config[1]&&(0,_.jsxs)(g.Z,{direction:"vertical",children:[l.IPAM.Config[1].Subnet,l.IPAM.Config[1].Gateway]})}},{title:_e.FD.format("listManage"),width:100,search:!1,render:function(Z,l,G,v,x){return[l.Name!="none"&&l.Name!="bridge"&&l.Name!="host"&&(0,_.jsx)(h.ZP,{type:"link",onClick:function(){o.onSelect(l),k(!1)},children:(0,_.jsx)(te.Z,{})},l.Id)]}}],request:function(){var oe=p()(M()().mark(function Z(l,G,v){var x;return M()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return fe.next=2,(0,S.jR)({name:l.Name});case 2:return x=fe.sent,fe.abrupt("return",{data:x.data.list,success:!0,total:x.data.list.length});case 4:case"end":return fe.stop()}},Z)}));return function(Z,l,G){return oe.apply(this,arguments)}}(),pagination:(0,E.Oh)()})})]})});Me.Z=t},70146:function(Ge,Me,e){e.d(Me,{SR:function(){return F},VE:function(){return y},Zy:function(){return S},iD:function(){return me},vG:function(){return ae},yB:function(){return Ce}});var xe=e(15009),M=e.n(xe),je=e(99289),p=e.n(je),le=e(82346);function Ce(E){return U.apply(this,arguments)}function U(){return U=p()(M()().mark(function E(_){return M()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,le.request)("/dpanel/api/app/container-backup/create",{data:_,method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},E)})),U.apply(this,arguments)}function S(E){return te.apply(this,arguments)}function te(){return te=p()(M()().mark(function E(_){return M()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,le.request)("/dpanel/api/app/container-backup/get-list",{method:"POST",data:_}));case 1:case"end":return o.stop()}},E)})),te.apply(this,arguments)}function y(E){return h.apply(this,arguments)}function h(){return h=p()(M()().mark(function E(_){return M()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,le.request)("/dpanel/api/app/container-backup/delete",{method:"POST",data:_}));case 1:case"end":return o.stop()}},E)})),h.apply(this,arguments)}function F(E){return g.apply(this,arguments)}function g(){return g=p()(M()().mark(function E(_){return M()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,le.request)("/dpanel/api/app/container-backup/restore",{method:"POST",data:_}));case 1:case"end":return o.stop()}},E)})),g.apply(this,arguments)}function me(E){return W.apply(this,arguments)}function W(){return W=p()(M()().mark(function E(_){return M()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,le.request)("/dpanel/api/app/container-backup/get-detail",{method:"POST",data:_}));case 1:case"end":return o.stop()}},E)})),W.apply(this,arguments)}function ae(E){return _e.apply(this,arguments)}function _e(){return _e=p()(M()().mark(function E(_){return M()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,le.request)("/dpanel/api/app/site/restore",{data:_,method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},E)})),_e.apply(this,arguments)}},89240:function(Ge,Me,e){e.d(Me,{HJ:function(){return W},PD:function(){return _e},Rk:function(){return ae},pM:function(){return E},yi:function(){return me},zY:function(){return _}});var xe=e(64599),M=e.n(xe),je=e(5251),p=e(10531),le=e(43836),Ce=e(17179),U=e(74911),S=e(17637),te=e(58353),y=/^([1-9]|[1-5]?[0-9]{2,4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/m;function h(t){return y.test(t)?parseInt(t,10):0}function F(t){typeof t!="string"&&(t=t.toString());var o=p.Z(t,"-",2),$=le.Z(o,h);return $.length==1&&$.push($[0]),$}function g(t,o){typeof t!="string"&&(t=t.toString());var $=null,he=t.indexOf(":");he>=0&&($=t.substring(0,he),t=t.substring(he+1)),o=typeof o=="number"?o:h(o);var Ie=F(t),u=Math.min(Ie[0],o),k=Math.max(Ie[1],o);return $?$+":"+u+"-"+k:u+"-"+k}function me(t){if(!t||!t.HostConfig||!t.HostConfig.PortBindings)return[];var o=[],$=t.HostConfig.PortBindings,he=Ce.Z($),Ie=U.Z(he,function(u){return p.Z(u,"/")[1]});return S.Z(Ie,function(u,k){var V={},Pe=M()(u),oe;try{for(Pe.s();!(oe=Pe.n()).done;){var Z=oe.value,l=M()($[Z]),G;try{for(l.s();!(G=l.n()).done;){var v=G.value;V[v.HostIp]=V[v.HostIp]||[],V[v.HostIp].push(Z)}}catch(x){l.e(x)}finally{l.f()}}}catch(x){Pe.e(x)}finally{Pe.f()}S.Z(V,function(x,n){var fe=te.Z(x,function(C){return parseInt(p.Z(C,"/")[0],10)}),Oe=-1,T=-1;S.Z(fe,function(C){var L=p.Z(C,"/"),i=parseInt(L[0],10),P=$[C][0];$[C].shift();var K=h(P.HostPort);if(K>0){if(o.length>0&&Oe===K-1&&T===i-1){o[o.length-1].host=g(o[o.length-1].host,K),o[o.length-1].dest=g(o[o.length-1].dest,i),Oe=K,T=i;return}Oe=K,T=i}else Oe=-1,T=-1;var Q=P.HostPort.toString();n&&(Q="".concat(n,":").concat(Q)),o.push({host:Q,dest:i.toString(),protocol:k})})})}),o}function W(t){return(0,je.fi)(t,"/")}function ae(t){return t?(0,je.FI)(t):"64M"}function _e(t){return t&&t>1e8?t/1e9:0}function E(t){return t?t/1024/1024:0}function _(t){return"".concat(W(t),".pod.dpanel.local")}}}]);
