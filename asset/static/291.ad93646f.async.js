!(function(){var oe=Object.defineProperty,le=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var ee=(W,C,e)=>C in W?oe(W,C,{enumerable:!0,configurable:!0,writable:!0,value:e}):W[C]=e,te=(W,C)=>{for(var e in C||(C={}))ue.call(C,e)&&ee(W,e,C[e]);if(q)for(var e of q(C))de.call(C,e)&&ee(W,e,C[e]);return W},ne=(W,C)=>le(W,_e(C));(self.webpackChunk=self.webpackChunk||[]).push([[291],{18429:function(W,C,e){"use strict";e.d(C,{Z:function(){return A}});var y=e(87462),h=e(67294),T={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},u=T,f=e(84089),m=function(n,o){return h.createElement(f.Z,(0,y.Z)({},n,{ref:o,icon:u}))},M=h.forwardRef(m),A=M},52688:function(W,C,e){"use strict";var y=e(1413),h=e(45987),T=e(67294),u=e(40284),f=e(85893),m=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],M=T.forwardRef(function(A,t){var n=A.fieldProps,o=A.unCheckedChildren,s=A.checkedChildren,a=A.proFieldProps,r=(0,h.Z)(A,m);return(0,f.jsx)(u.Z,(0,y.Z)({valueType:"switch",fieldProps:(0,y.Z)({unCheckedChildren:o,checkedChildren:s},n),ref:t,valuePropName:"checked",proFieldProps:a,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},r))});C.Z=M},90672:function(W,C,e){"use strict";var y=e(1413),h=e(45987),T=e(67294),u=e(40284),f=e(85893),m=["fieldProps","proFieldProps"],M=function(t,n){var o=t.fieldProps,s=t.proFieldProps,a=(0,h.Z)(t,m);return(0,f.jsx)(u.Z,(0,y.Z)({ref:n,valueType:"textarea",fieldProps:o,proFieldProps:s},a))};C.Z=T.forwardRef(M)},16894:function(W,C,e){"use strict";var y=e(9773);C.ZP=y.Z},74026:function(W,C,e){"use strict";var y=e(15009),h=e.n(y),T=e(99289),u=e.n(T),f=e(5574),m=e.n(f),M=e(66554),A=e(184),t=e(86615),n=e(97462),o=e(90672),s=e(64317),a=e(5966),r=e(62370),l=e(52688),_=e(83622),p=e(42075),v=e(71230),d=e(15746),E=e(67294),L=e(12491),O=e(75544),b=e(77865),U=e(82346),P=e(3616),R=e(36146),D=e(85893),x=(0,E.forwardRef)(function(S,F){var j=(0,E.useState)(!1),c=m()(j,2),g=c[0],I=c[1],i=(0,E.useRef)(),G=(0,E.useRef)(),$=(0,E.useState)([]),Z=m()($,2),Y=Z[0],X=Z[1],re=(0,U.useModel)("subscriber"),se=(0,E.useState)(),Q=m()(se,2),ae=Q[0],J=Q[1],w=new R.Uo("components.appDomain");return re.addDataHandler("domain:apply",function(H){var K;(K=G.current)===null||K===void 0||K.write(H.data)}),(0,E.useImperativeHandle)(F,function(){return{edit:function(K){var B,z;J(K),(B=i.current)===null||B===void 0||B.resetFields(),(z=i.current)===null||z===void 0||z.setFieldsValue({type:K.CA=="import"?"upload":"apply",domain:K.domain,dnsApi:K.dnsApi,sslKeyContent:K.sslKeyContent,sslCrtContent:K.sslCrtContent}),I(!0)}}}),(0,E.useEffect)(function(){(0,M.q2)().then(function(H){X(H.data.setting.map(function(K){return{label:K.title,value:K.serverName}}))})},[]),(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(A.a,{title:w.format("certTitle"),drawerProps:{forceRender:!0,width:P.R_},trigger:(0,D.jsx)(_.ZP,{type:"primary",children:w.format("certTitle")}),formRef:i,onFinish:function(){var H=u()(h()().mark(function K(B){var z,V,N,ie;return h()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if((z=G.current)===null||z===void 0||z.clear(),B.type!="upload"){k.next=7;break}return k.next=4,(0,M.ui)({type:B.type,sslKeyContent:B.sslKeyContent,sslCrtContent:B.sslCrtContent});case 4:V=k.sent,k.next=11;break;case 7:return localStorage.setItem("email",(N=B.email)!==null&&N!==void 0?N:""),k.next=10,(0,M.Pf)({type:B.type,domain:B.domain,email:B.email,certServer:B.certServer,autoUpgrade:B.autoUpgrade,renew:B.renew,debug:B.debug,dnsApi:B.dnsApi});case 10:ie=k.sent;case 11:return S.onFinish&&S.onFinish(),k.abrupt("return",!0);case 13:case"end":return k.stop()}},K)}));return function(K){return H.apply(this,arguments)}}(),onOpenChange:function(K){var B,z;if(!K){var V;J(void 0),(V=i.current)===null||V===void 0||V.resetFields()}if(S.domain&&S.domain.length>0){var N;(N=i.current)===null||N===void 0||N.setFieldValue("domain",S.domain)}(B=i.current)===null||B===void 0||B.setFieldsValue({email:(z=localStorage.getItem("email"))!==null&&z!==void 0?z:""}),I(K)},open:g,children:[(0,D.jsx)(t.Z.Group,{label:w.format("certFormType"),name:"type",initialValue:"apply",disabled:!!ae,options:w.option("certFormTypeOption",["upload","apply"])}),(0,D.jsx)(n.Z,{name:["type"],children:function(K){var B=K.type;return B=="upload"?[(0,D.jsx)(o.Z,{fieldProps:{rows:10},label:w.format("certFormSslCrtContent"),name:"sslCrtContent",tooltip:w.format("certFormSslCrtContentTip"),placeholder:"-----BEGIN CERTIFICATE-----",required:!0},"sslCrt"),(0,D.jsx)(L.Z,{title:w.format("certFormImportCrt"),onImport:function(V){var N;return(N=i.current)===null||N===void 0||N.setFieldValue("sslCrtContent",V),!0},onLoad:function(V){if(V.indexOf("BEGIN CERTIFICATE")<0)throw new Error(R.FD.format("commonFileIncorrectFormat",{name:".crt"}));return!0}},"importCrt"),(0,D.jsx)(o.Z,{fieldProps:{rows:10},label:w.format("certFormSslKeyContent"),name:"sslKeyContent",tooltip:w.format("certFormSslKeyContentTip"),placeholder:"-----BEGIN PRIVATE KEY-----",required:!0},"sslKey"),(0,D.jsx)(L.Z,{title:w.format("certFormImportKey"),onImport:function(V){var N;return(N=i.current)===null||N===void 0||N.setFieldValue("sslKeyContent",V),!0},onLoad:function(V){if(V.indexOf("PRIVATE KEY")<0)throw new Error(R.FD.format("commonFileIncorrectFormat",{name:".key"}));return!0}},"importKey")]:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(s.Z,{mode:"tags",name:"domain",label:w.format("certFormDomain"),placeholder:w.format("certFormDomainEmpty"),required:!0,rules:[{required:!0}]},"domain"),(0,D.jsx)(a.Z,{label:w.format("certFormEmail"),name:"email",required:!0,rules:[{required:!0}]}),(0,D.jsxs)(p.Z.Compact,{children:[(0,D.jsx)(s.Z,{label:w.format("certFormDnsApi"),tooltip:w.format("certFormDnsApiTip"),name:"dnsApi",width:"lg",required:!0,rules:[{required:!0}],options:Y}),(0,D.jsx)(r.Z,{label:" ",children:(0,D.jsx)(b.Z,{onFinish:function(V){X(V.map(function(N){return{label:N.title,value:N.serverName}}))}},"dns")})]}),(0,D.jsx)(s.Z,{label:w.format("certFormCertServer"),name:"certServer",tooltip:w.format("certFormCertServerTip"),initialValue:"letsencrypt",options:[{value:"letsencrypt",label:"Let's Encrypt"},{value:"zerossl",label:"ZeroSSL"}]}),(0,D.jsxs)(v.Z,{gutter:[20,10],children:[(0,D.jsx)(d.Z,{children:(0,D.jsx)(l.Z,{label:w.format("certFormAutoUpgrade"),name:"autoUpgrade",initialValue:!0})}),(0,D.jsx)(d.Z,{children:(0,D.jsx)(l.Z,{tooltip:w.format("certFormRenewTip"),label:w.format("certFormRenew"),name:"renew",initialValue:!1})}),(0,D.jsx)(d.Z,{children:(0,D.jsx)(l.Z,{tooltip:w.format("certFormDebugTip"),label:"Debug",name:"debug",initialValue:!1})}),(0,D.jsx)(d.Z,{})]}),(0,D.jsx)(O.Z,{height:"200px",style:{fontSize:12},ref:G})]})}})]})})});C.Z=x},77865:function(W,C,e){"use strict";var y=e(15009),h=e.n(y),T=e(99289),u=e.n(T),f=e(5574),m=e.n(f),M=e(184),A=e(86615),t=e(97462),n=e(5966),o=e(83622),s=e(67294),a=e(44349),r=e(52255),l=e(66554),_=e(3616),p=e(36146),v=e(85893),d=new p.Uo("components.appDomain"),E=[{value:"dns_cf",label:"CloudFlare",fields:[{name:"CF_Token"}],help:"https://dash.cloudflare.com/profile/api-tokens"},{value:"dns_dp",label:"DNSPod",fields:[{name:"DP_Id"},{name:"DP_Key"}],help:"https://console.dnspod.cn/account/token/token"},{value:"dns_tencent",label:d.format("dnsApiOption.dns_tencent"),fields:[{name:"Tencent_SecretId"},{name:"Tencent_SecretKey"}],help:"https://console.cloud.tencent.com/cam/capi"},{label:d.format("dnsApiOption.dns_ali"),value:"dns_ali",fields:[{name:"Ali_Key"},{name:"Ali_Secret"}],help:"https://ram.console.aliyun.com/users"},{label:d.format("dnsApiOption.dns_huaweicloud"),value:"dns_huaweicloud",fields:[{name:"HUAWEICLOUD_Username"},{name:"HUAWEICLOUD_Password"},{name:"HUAWEICLOUD_DomainName"}],help:"https://support.huaweicloud.com/api-iam/iam_01_0006.html"},{label:"GoDaddy",value:"dns_gd",fields:[{name:"GD_Key"},{name:"GD_Secret"}],help:"https://developer.godaddy.com/keys/"},{label:d.format("dnsApiOption.user"),value:"user",help:"https://github.com/acmesh-official/acme.sh/wiki/dnsapi"}],L=(0,s.forwardRef)(function(O,b){(0,s.useImperativeHandle)(b,function(){return{show:function(){D(!0)}}});var U=(0,s.useState)(!1),P=m()(U,2),R=P[0],D=P[1],x=(0,s.useRef)();return(0,v.jsxs)(M.a,{drawerProps:{width:_.R_},title:d.format("dnsApiTitle"),trigger:(0,v.jsx)(o.ZP,{children:d.format("dnsApiTitle")}),formRef:x,open:R,onFinish:function(){var S=u()(h()().mark(function F(j){var c,g;return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,l.q2)({account:Object.keys((c=j.account)!==null&&c!==void 0?c:{}).map(function(G){var $;return{title:($=E.find(function(Z){return Z.value==G}))===null||$===void 0?void 0:$.label,serverName:G,env:Object.keys(j.account[G]).map(function(Z){return{name:Z,value:j.account[G][Z]}})}}),user:j.user});case 2:return g=i.sent,O.onFinish&&O.onFinish(g.data.setting),i.abrupt("return",!0);case 5:case"end":return i.stop()}},F)}));return function(F){return S.apply(this,arguments)}}(),onOpenChange:function(){var S=u()(h()().mark(function F(j){var c,g,I,i;return h()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(D(j),!j){$.next=9;break}return(c=x.current)===null||c===void 0||c.resetFields(),$.next=5,(0,l.q2)();case 5:I=$.sent,i=[],I.data.setting&&I.data.setting.map(function(Z){E.find(function(Y){return Y.value==Z.serverName})?Z.env&&Z.env.map(function(Y){var X;(X=x.current)===null||X===void 0||X.setFieldValue(["account",Z.serverName,Y.name],Y.value)}):Z.env&&i.push(Z)}),(g=x.current)===null||g===void 0||g.setFieldValue("user",i);case 9:case"end":return $.stop()}},F)}));return function(F){return S.apply(this,arguments)}}(),children:[(0,v.jsx)(A.Z.Group,{label:d.format("dnsApiServerNameSelect"),name:"serverNameSelect",radioType:"button",initialValue:"dns_dp",options:E.map(function(S){return{label:S.label,value:S.value}})}),(0,v.jsx)(t.Z,{name:["serverNameSelect"],children:function(F){var j,c=F.serverNameSelect,g=(j=E.find(function(I){return I.value===c}))===null||j===void 0?void 0:j.help;return(0,v.jsxs)("div",{style:{marginBottom:20},children:[d.format("dnsApiServerNameTip"),": ",(0,v.jsx)("a",{href:g,target:"_blank",children:g})]})}}),(0,v.jsx)(t.Z,{name:["serverNameSelect"],children:function(F){var j=F.serverNameSelect;return(0,v.jsxs)(v.Fragment,{children:[E.map(function(c){if(c.fields)return(0,v.jsx)(r.Z,{show:j==c.value,children:c.fields.map(function(g,I){return(0,v.jsx)(n.Z,{label:g.name,name:["account",c.value,g.name]},"".concat(c.value,"-").concat(I,"-").concat(g.name))})},c.value)}),(0,v.jsx)(r.Z,{show:j=="user",children:(0,v.jsx)(a.Z,{gap:20,name:"user",label:d.format("dnsApiUser"),showAddButton:!0,hideCopyButton:!0,items:[{name:"serverName",label:d.format("dnsApiUserServerName")},{name:"env",render:function(g,I,i){return(0,v.jsx)(a.Z,{gap:20,name:"env",label:d.format("dnsApiUserEnv"),showAddButton:!0,hideCopyButton:!0,items:[{name:"name",label:d.format("dnsApiUserEnvName")},{name:"value",label:d.format("dnsApiUserEnvValue")}]},"env")}}]})},"user")]})}})]})});C.Z=L},52255:function(W,C,e){"use strict";e.d(C,{Z:function(){return T}});var y=e(67294),h=e(85893);function T(u){return(0,h.jsx)("div",{style:{display:u.show?"block":"none"},children:u.children})}},75544:function(W,C,e){"use strict";var y=e(5574),h=e.n(y),T=e(12323),u=e(78267),f=e.n(u),m=e(75458),M=e.n(m),A=e(67294),t=e(4244),n=e.n(t),o=e(24078),s=e(85893),a,r,l,_=(0,A.forwardRef)(function(p,v){var d,E=(0,A.useState)(!0),L=h()(E,2),O=L[0],b=L[1];return(0,A.useEffect)(function(){return a=new t.Terminal(T.X),r=new m.SearchAddon,l=new u.FitAddon,window.addEventListener("resize",function(){p.showInModal||l.fit()}),p.style&&p.style.fontSize&&(a.options.fontSize=p.style.fontSize),a.loadAddon(l),a.loadAddon(r),a.open(document.getElementById(p.id?p.id:"terminal-container")),p.showInModal||l.fit(),function(){a.reset(),b(!0)}},[]),(0,A.useImperativeHandle)(v,function(){return{write:function(P){O&&(l.fit(),b(!1)),a.write(P)},clear:function(){a.clear()},getTerminal:function(){return a},findNext:function(P){r.findNext(P)},findPrev:function(P){r.findPrevious(P)},fit:function(){l.fit()},onData:function(P){return a.onData(P)}}}),(0,s.jsx)("div",{id:p.id?p.id:"terminal-container",style:{width:p.width?p.width:"100%",height:p.height?p.height:"500px",marginTop:(d=p.style)===null||d===void 0?void 0:d.marginTop}})});C.Z=_},44349:function(W,C,e){"use strict";var y=e(97857),h=e.n(y),T=e(15009),u=e.n(T),f=e(99289),m=e.n(f),M=e(74763),A=e(17186),t=e(5966),n=e(86250),o=e(67294),s=e(85893),a=(0,o.forwardRef)(function(r,l){var _=(0,o.useRef)();(0,o.useImperativeHandle)(l,function(){return{addItem:function(v){function d(E,L,O){return v.apply(this,arguments)}return d.toString=function(){return v.toString()},d}(function(v,d,E){var L,O=(L=_.current)===null||L===void 0?void 0:L.getList(),b;if(O==null||O.forEach(function(R,D){R[v]==d[v]&&(b=D)}),!(0,M.k)(b)&&E){var U;(U=_.current)===null||U===void 0||U.remove(b),b=void 0}if(!b){var P;(P=_.current)===null||P===void 0||P.add(d)}}),removeItemByKey:function(d,E){return m()(u()().mark(function L(){var O,b;return u()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return b=(O=_.current)===null||O===void 0?void 0:O.getList(),b==null||b.forEach(function(R,D){if(R[d]==E){var x;(x=_.current)===null||x===void 0||x.remove(D);return}}),P.abrupt("return");case 3:case"end":return P.stop()}},L)}))()},clear:function(d){if(!d){var E;d=(E=_.current)===null||E===void 0||(E=E.getList())===null||E===void 0?void 0:E.map(function(O,b){return b})}if(d){var L;(L=_.current)===null||L===void 0||L.remove(d)}},getList:function(){var d;return(d=_.current)===null||d===void 0?void 0:d.getList()}}});var p={};return r.hideCopyButton===!0&&(p.copyIconProps=!1),r.hideDeleteButton===!0&&(p.deleteIconProps=!1),(0,s.jsx)(A.u,h()(h()({initialValue:r.initialValue,label:r.label,name:r.name,actionRef:_,creatorButtonProps:r.showAddButton?{creatorButtonText:r.label?r.label:r.showAddButtonLabel?r.showAddButtonLabel:r.name}:!1,min:r.min?r.min:0},p),{},{children:function(d,E,L){return(0,s.jsx)(n.Z,{justify:r.justify,gap:r.gap,children:r.items.map(function(O){return O.render?(0,s.jsx)("div",{children:O.render&&O.render(d,E,L)},"".concat(r.name,"-").concat(O.name,"-").concat(d.key)):(0,s.jsx)(t.Z,{width:O.width,name:O.name,label:O.label,required:O.required,rules:[{required:O.required}],disabled:O.disabled,placeholder:O.placeholder},"".concat(r.name,"-").concat(O.name,"-").concat(d.key))})})}}))});C.Z=a},12491:function(W,C,e){"use strict";e.d(C,{Z:function(){return l}});var y=e(5574),h=e.n(y),T=e(3616),u=e(24963),f=e(36146),m=e(88484),M=e(57546),A=e(62370),t=e(11106),n=e(42075),o=e(83622),s=e(85576),a=e(67294),r=e(85893);function l(_){var p=(0,a.useContext)(u.Z),v=p.message,d=p.notice,E=(0,a.useRef)(null),L=(0,a.useState)(!1),O=h()(L,2),b=O[0],U=O[1],P=(0,a.useState)(""),R=h()(P,2),D=R[0],x=R[1];(0,a.useEffect)(function(){_.data&&x(_.data)},[_.data]);var S=function(){E.current&&(E.current.click(),E.current.onchange=function(j){if(!j||!j.target)return"";var c=new FileReader;c.onload=function(i){var G,$,Z=(G=i.target)===null||G===void 0?void 0:G.result;if(_.onLoad)try{_.onLoad&&_.onLoad(Z)}catch(Y){d.error(Y);return}x(Z),typeof _.onImport=="function"&&(v.success(f.FD.format("finish")),_.onImport(Z)),($=E.current)!==null&&$!==void 0&&$.value&&(E.current.value="")};var g=j.target;if(g.files&&g.files[0]){var I=g.files[0];try{c.readAsText(I)}catch(i){d.error(f.FD.format("commonContentIncorrectFormat",{name:g.files[0].name}))}}})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(A.Z,{children:(0,r.jsxs)(n.Z.Compact,{block:!0,children:[(0,r.jsx)(o.ZP,{icon:(0,r.jsx)(m.Z,{}),block:!0,onClick:S,children:_.title}),_.showPaset&&(0,r.jsx)(o.ZP,{icon:(0,r.jsx)(M.Z,{}),onClick:function(){U(!0)}})]})}),(0,r.jsx)("input",{style:{display:"none"},type:"file",ref:E,name:"importFileInput"}),(0,r.jsx)(s.Z,{width:T.ob,open:b,onCancel:function(){U(!1)},onOk:function(){typeof _.onImport=="function"&&(v.success(f.FD.format("finish")),_.onImport(D)),U(!1)},children:(0,r.jsx)(t.ZP,{height:T.Ed,theme:"dark",value:D,onChange:function(j){x(j)}})})]})}},3616:function(W,C,e){"use strict";e.d(C,{Ed:function(){return u},FK:function(){return h},R_:function(){return y},ob:function(){return T}});var y=window.innerWidth<=1024?"90vw":"65vw",h="90vw",T="60vw",u="50vh"},12323:function(W,C,e){"use strict";e.d(C,{X:function(){return y},n:function(){return h}});var y={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,lineHeight:1,cursorStyle:"block",cursorInactiveStyle:"outline",cursorBlink:!0,letterSpacing:0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},h=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"]},66554:function(W,C,e){"use strict";e.d(C,{Fj:function(){return A},KK:function(){return x},Pf:function(){return _},Ss:function(){return O},dZ:function(){return R},dj:function(){return s},hZ:function(){return E},i7:function(){return m},lQ:function(){return r},ll:function(){return F},q2:function(){return U},ui:function(){return v}});var y=e(15009),h=e.n(y),T=e(99289),u=e.n(T),f=e(82346);function m(c){return M.apply(this,arguments)}function M(){return M=u()(h()().mark(function c(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.request)("/dpanel/api/app/site-domain/get-list",{method:"POST",data:g}));case 1:case"end":return i.stop()}},c)})),M.apply(this,arguments)}function A(c){return t.apply(this,arguments)}function t(){return t=u()(h()().mark(function c(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.request)("/dpanel/api/app/site-domain/create",{method:"POST",data:g}));case 1:case"end":return i.stop()}},c)})),t.apply(this,arguments)}function n(c){return o.apply(this,arguments)}function o(){return o=_asyncToGenerator(_regeneratorRuntime().mark(function c(g){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request("/dpanel/api/app/site-domain/update",{method:"POST",data:g}));case 1:case"end":return i.stop()}},c)})),o.apply(this,arguments)}function s(c){return a.apply(this,arguments)}function a(){return a=u()(h()().mark(function c(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.request)("/dpanel/api/app/site-domain/delete",{method:"POST",data:g}));case 1:case"end":return i.stop()}},c)})),a.apply(this,arguments)}function r(c){return l.apply(this,arguments)}function l(){return l=u()(h()().mark(function c(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.request)("/dpanel/api/app/site-domain/get-detail",{method:"POST",data:g}));case 1:case"end":return i.stop()}},c)})),l.apply(this,arguments)}function _(c){return p.apply(this,arguments)}function p(){return p=u()(h()().mark(function c(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.request)("/dpanel/api/app/site-cert/apply",{method:"POST",data:g}));case 1:case"end":return i.stop()}},c)})),p.apply(this,arguments)}function v(c){return d.apply(this,arguments)}function d(){return d=u()(h()().mark(function c(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.request)("/dpanel/api/app/site-cert/import",{method:"POST",data:g}));case 1:case"end":return i.stop()}},c)})),d.apply(this,arguments)}function E(){return L.apply(this,arguments)}function L(){return L=u()(h()().mark(function c(){return h()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",(0,f.request)("/dpanel/api/app/site-domain/restart-nginx",{method:"POST"}));case 1:case"end":return I.stop()}},c)})),L.apply(this,arguments)}function O(c){return b.apply(this,arguments)}function b(){return b=u()(h()().mark(function c(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.request)("/dpanel/api/app/site-domain/update-vhost",{method:"POST",data:g}));case 1:case"end":return i.stop()}},c)})),b.apply(this,arguments)}function U(c){return P.apply(this,arguments)}function P(){return P=u()(h()().mark(function c(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.request)("/dpanel/api/app/site-cert/dns-api",{method:"POST",data:g}));case 1:case"end":return i.stop()}},c)})),P.apply(this,arguments)}function R(c){return D.apply(this,arguments)}function D(){return D=u()(h()().mark(function c(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.request)("/dpanel/api/app/site-cert/get-list",{method:"POST",data:g}));case 1:case"end":return i.stop()}},c)})),D.apply(this,arguments)}function x(c){return S.apply(this,arguments)}function S(){return S=u()(h()().mark(function c(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.request)("/dpanel/api/app/site-cert/delete",{method:"POST",data:g}));case 1:case"end":return i.stop()}},c)})),S.apply(this,arguments)}function F(c){return j.apply(this,arguments)}function j(){return j=u()(h()().mark(function c(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,f.request)("/dpanel/api/app/site-cert/download",{method:"POST",data:g,responseType:"blob"}));case 1:case"end":return i.stop()}},c)})),j.apply(this,arguments)}},75458:function(W){(function(C,e){W.exports=e()})(self,()=>(()=>{"use strict";var C={345:(T,u)=>{Object.defineProperty(u,"__esModule",{value:!0}),u.runAndSubscribe=u.forwardEvent=u.EventEmitter=void 0,u.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=f=>(this._listeners.push(f),{dispose:()=>{if(!this._disposed){for(let m=0;m<this._listeners.length;m++)if(this._listeners[m]===f)return void this._listeners.splice(m,1)}}})),this._event}fire(f,m){const M=[];for(let A=0;A<this._listeners.length;A++)M.push(this._listeners[A]);for(let A=0;A<M.length;A++)M[A].call(void 0,f,m)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},u.forwardEvent=function(f,m){return f(M=>m.fire(M))},u.runAndSubscribe=function(f,m){return m(void 0),f(M=>m(M))}},859:(T,u)=>{function f(m){for(const M of m)M.dispose();m.length=0}Object.defineProperty(u,"__esModule",{value:!0}),u.getDisposeArrayDisposable=u.disposeArray=u.toDisposable=u.MutableDisposable=u.Disposable=void 0,u.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const m of this._disposables)m.dispose();this._disposables.length=0}register(m){return this._disposables.push(m),m}unregister(m){const M=this._disposables.indexOf(m);M!==-1&&this._disposables.splice(M,1)}},u.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(m){var M;this._isDisposed||m===this._value||((M=this._value)==null||M.dispose(),this._value=m)}clear(){this.value=void 0}dispose(){var m;this._isDisposed=!0,(m=this._value)==null||m.dispose(),this._value=void 0}},u.toDisposable=function(m){return{dispose:m}},u.disposeArray=f,u.getDisposeArrayDisposable=function(m){return{dispose:()=>f(m)}}}},e={};function y(T){var u=e[T];if(u!==void 0)return u.exports;var f=e[T]={exports:{}};return C[T](f,f.exports,y),f.exports}var h={};return(()=>{var T=h;Object.defineProperty(T,"__esModule",{value:!0}),T.SearchAddon=void 0;const u=y(345),f=y(859),m=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?";class M extends f.Disposable{constructor(t){var n;super(),this._highlightedLines=new Set,this._highlightDecorations=[],this._selectedDecoration=this.register(new f.MutableDisposable),this._linesCacheTimeoutId=0,this._linesCacheDisposables=new f.MutableDisposable,this._onDidChangeResults=this.register(new u.EventEmitter),this.onDidChangeResults=this._onDidChangeResults.event,this._highlightLimit=(n=t==null?void 0:t.highlightLimit)!=null?n:1e3}activate(t){this._terminal=t,this.register(this._terminal.onWriteParsed(()=>this._updateMatches())),this.register(this._terminal.onResize(()=>this._updateMatches())),this.register((0,f.toDisposable)(()=>this.clearDecorations()))}_updateMatches(){var t;this._highlightTimeout&&window.clearTimeout(this._highlightTimeout),this._cachedSearchTerm&&((t=this._lastSearchOptions)!=null&&t.decorations)&&(this._highlightTimeout=setTimeout(()=>{const n=this._cachedSearchTerm;this._cachedSearchTerm=void 0,this.findPrevious(n,ne(te({},this._lastSearchOptions),{incremental:!0,noScroll:!0}))},200))}clearDecorations(t){this._selectedDecoration.clear(),(0,f.disposeArray)(this._highlightDecorations),this._highlightDecorations=[],this._highlightedLines.clear(),t||(this._cachedSearchTerm=void 0)}clearActiveDecoration(){this._selectedDecoration.clear()}findNext(t,n){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const o=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,n);this._lastSearchOptions=n,n!=null&&n.decorations&&(this._cachedSearchTerm===void 0||t!==this._cachedSearchTerm||o)&&this._highlightAllMatches(t,n);const s=this._findNextAndSelect(t,n);return this._fireResults(n),this._cachedSearchTerm=t,s}_highlightAllMatches(t,n){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!t||t.length===0)return void this.clearDecorations();n=n||{},this.clearDecorations(!0);const o=[];let s,a=this._find(t,0,0,n);for(;a&&((s==null?void 0:s.row)!==a.row||(s==null?void 0:s.col)!==a.col)&&!(o.length>=this._highlightLimit);)s=a,o.push(s),a=this._find(t,s.col+s.term.length>=this._terminal.cols?s.row+1:s.row,s.col+s.term.length>=this._terminal.cols?0:s.col+1,n);for(const r of o){const l=this._createResultDecoration(r,n.decorations);l&&(this._highlightedLines.add(l.marker.line),this._highlightDecorations.push({decoration:l,match:r,dispose(){l.dispose()}}))}}_find(t,n,o,s){var l;if(!this._terminal||!t||t.length===0)return(l=this._terminal)==null||l.clearSelection(),void this.clearDecorations();if(o>this._terminal.cols)throw new Error(`Invalid col: ${o} to search in terminal of ${this._terminal.cols} cols`);let a;this._initLinesCache();const r={startRow:n,startCol:o};if(a=this._findInLine(t,r,s),!a)for(let _=n+1;_<this._terminal.buffer.active.baseY+this._terminal.rows&&(r.startRow=_,r.startCol=0,a=this._findInLine(t,r,s),!a);_++);return a}_findNextAndSelect(t,n){var _;if(!this._terminal||!t||t.length===0)return(_=this._terminal)==null||_.clearSelection(),this.clearDecorations(),!1;const o=this._terminal.getSelectionPosition();this._terminal.clearSelection();let s=0,a=0;o&&(this._cachedSearchTerm===t?(s=o.end.x,a=o.end.y):(s=o.start.x,a=o.start.y)),this._initLinesCache();const r={startRow:a,startCol:s};let l=this._findInLine(t,r,n);if(!l)for(let p=a+1;p<this._terminal.buffer.active.baseY+this._terminal.rows&&(r.startRow=p,r.startCol=0,l=this._findInLine(t,r,n),!l);p++);if(!l&&a!==0)for(let p=0;p<a&&(r.startRow=p,r.startCol=0,l=this._findInLine(t,r,n),!l);p++);return!l&&o&&(r.startRow=o.start.y,r.startCol=0,l=this._findInLine(t,r,n)),this._selectResult(l,n==null?void 0:n.decorations,n==null?void 0:n.noScroll)}findPrevious(t,n){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const o=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,n);this._lastSearchOptions=n,n!=null&&n.decorations&&(this._cachedSearchTerm===void 0||t!==this._cachedSearchTerm||o)&&this._highlightAllMatches(t,n);const s=this._findPreviousAndSelect(t,n);return this._fireResults(n),this._cachedSearchTerm=t,s}_didOptionsChange(t,n){return!!n&&(t.caseSensitive!==n.caseSensitive||t.regex!==n.regex||t.wholeWord!==n.wholeWord)}_fireResults(t){if(t!=null&&t.decorations){let n=-1;if(this._selectedDecoration.value){const o=this._selectedDecoration.value.match;for(let s=0;s<this._highlightDecorations.length;s++){const a=this._highlightDecorations[s].match;if(a.row===o.row&&a.col===o.col&&a.size===o.size){n=s;break}}}this._onDidChangeResults.fire({resultIndex:n,resultCount:this._highlightDecorations.length})}}_findPreviousAndSelect(t,n){var p;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!this._terminal||!t||t.length===0)return(p=this._terminal)==null||p.clearSelection(),this.clearDecorations(),!1;const o=this._terminal.getSelectionPosition();this._terminal.clearSelection();let s=this._terminal.buffer.active.baseY+this._terminal.rows-1,a=this._terminal.cols;const r=!0;this._initLinesCache();const l={startRow:s,startCol:a};let _;if(o&&(l.startRow=s=o.start.y,l.startCol=a=o.start.x,this._cachedSearchTerm!==t&&(_=this._findInLine(t,l,n,!1),_||(l.startRow=s=o.end.y,l.startCol=a=o.end.x))),_||(_=this._findInLine(t,l,n,r)),!_){l.startCol=Math.max(l.startCol,this._terminal.cols);for(let v=s-1;v>=0&&(l.startRow=v,_=this._findInLine(t,l,n,r),!_);v--);}if(!_&&s!==this._terminal.buffer.active.baseY+this._terminal.rows-1)for(let v=this._terminal.buffer.active.baseY+this._terminal.rows-1;v>=s&&(l.startRow=v,_=this._findInLine(t,l,n,r),!_);v--);return this._selectResult(_,n==null?void 0:n.decorations,n==null?void 0:n.noScroll)}_initLinesCache(){const t=this._terminal;this._linesCache||(this._linesCache=new Array(t.buffer.active.length),this._linesCacheDisposables.value=(0,f.getDisposeArrayDisposable)([t.onLineFeed(()=>this._destroyLinesCache()),t.onCursorMove(()=>this._destroyLinesCache()),t.onResize(()=>this._destroyLinesCache())])),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(()=>this._destroyLinesCache(),15e3)}_destroyLinesCache(){this._linesCache=void 0,this._linesCacheDisposables.clear(),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)}_isWholeWord(t,n,o){return(t===0||m.includes(n[t-1]))&&(t+o.length===n.length||m.includes(n[t+o.length]))}_findInLine(t,n,o={},s=!1){var U;const a=this._terminal,r=n.startRow,l=n.startCol,_=a.buffer.active.getLine(r);if(_!=null&&_.isWrapped)return s?void(n.startCol+=a.cols):(n.startRow--,n.startCol+=a.cols,this._findInLine(t,n,o));let p=(U=this._linesCache)==null?void 0:U[r];p||(p=this._translateBufferLineToStringWithWrap(r,!0),this._linesCache&&(this._linesCache[r]=p));const[v,d]=p,E=this._bufferColsToStringOffset(r,l),L=o.caseSensitive?t:t.toLowerCase(),O=o.caseSensitive?v:v.toLowerCase();let b=-1;if(o.regex){const P=RegExp(L,"g");let R;if(s)for(;R=P.exec(O.slice(0,E));)b=P.lastIndex-R[0].length,t=R[0],P.lastIndex-=t.length-1;else R=P.exec(O.slice(E)),R&&R[0].length>0&&(b=E+(P.lastIndex-R[0].length),t=R[0])}else s?E-L.length>=0&&(b=O.lastIndexOf(L,E-L.length)):b=O.indexOf(L,E);if(b>=0){if(o.wholeWord&&!this._isWholeWord(b,O,t))return;let P=0;for(;P<d.length-1&&b>=d[P+1];)P++;let R=P;for(;R<d.length-1&&b+t.length>=d[R+1];)R++;const D=b-d[P],x=b+t.length-d[R],S=this._stringLengthToBufferSize(r+P,D);return{term:t,col:S,row:r+P,size:this._stringLengthToBufferSize(r+R,x)-S+a.cols*(R-P)}}}_stringLengthToBufferSize(t,n){const o=this._terminal.buffer.active.getLine(t);if(!o)return 0;for(let s=0;s<n;s++){const a=o.getCell(s);if(!a)break;const r=a.getChars();r.length>1&&(n-=r.length-1);const l=o.getCell(s+1);l&&l.getWidth()===0&&n++}return n}_bufferColsToStringOffset(t,n){const o=this._terminal;let s=t,a=0,r=o.buffer.active.getLine(s);for(;n>0&&r;){for(let l=0;l<n&&l<o.cols;l++){const _=r.getCell(l);if(!_)break;_.getWidth()&&(a+=_.getCode()===0?1:_.getChars().length)}if(s++,r=o.buffer.active.getLine(s),r&&!r.isWrapped)break;n-=o.cols}return a}_translateBufferLineToStringWithWrap(t,n){var l;const o=this._terminal,s=[],a=[0];let r=o.buffer.active.getLine(t);for(;r;){const _=o.buffer.active.getLine(t+1),p=!!_&&_.isWrapped;let v=r.translateToString(!p&&n);if(p&&_){const d=r.getCell(r.length-1);d&&d.getCode()===0&&d.getWidth()===1&&((l=_.getCell(0))==null?void 0:l.getWidth())===2&&(v=v.slice(0,-1))}if(s.push(v),!p)break;a.push(a[a.length-1]+v.length),t++,r=_}return[s.join(""),a]}_selectResult(t,n,o){const s=this._terminal;if(this._selectedDecoration.clear(),!t)return s.clearSelection(),!1;if(s.select(t.col,t.row,t.size),n){const a=s.registerMarker(-s.buffer.active.baseY-s.buffer.active.cursorY+t.row);if(a){const r=s.registerDecoration({marker:a,x:t.col,width:t.size,backgroundColor:n.activeMatchBackground,layer:"top",overviewRulerOptions:{color:n.activeMatchColorOverviewRuler}});if(r){const l=[];l.push(a),l.push(r.onRender(_=>this._applyStyles(_,n.activeMatchBorder,!0))),l.push(r.onDispose(()=>(0,f.disposeArray)(l))),this._selectedDecoration.value={decoration:r,match:t,dispose(){r.dispose()}}}}}if(!o&&(t.row>=s.buffer.active.viewportY+s.rows||t.row<s.buffer.active.viewportY)){let a=t.row-s.buffer.active.viewportY;a-=Math.floor(s.rows/2),s.scrollLines(a)}return!0}_applyStyles(t,n,o){t.classList.contains("xterm-find-result-decoration")||(t.classList.add("xterm-find-result-decoration"),n&&(t.style.outline=`1px solid ${n}`)),o&&t.classList.add("xterm-find-active-result-decoration")}_createResultDecoration(t,n){const o=this._terminal,s=o.registerMarker(-o.buffer.active.baseY-o.buffer.active.cursorY+t.row);if(!s)return;const a=o.registerDecoration({marker:s,x:t.col,width:t.size,backgroundColor:n.matchBackground,overviewRulerOptions:this._highlightedLines.has(s.line)?void 0:{color:n.matchOverviewRuler,position:"center"}});if(a){const r=[];r.push(s),r.push(a.onRender(l=>this._applyStyles(l,n.matchBorder,!1))),r.push(a.onDispose(()=>(0,f.disposeArray)(r)))}return a}}T.SearchAddon=M})(),h})())}}]);
}());