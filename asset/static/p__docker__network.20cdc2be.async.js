"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[236],{55943:function(G,I,n){var R=n(5574),h=n.n(R),p=n(15009),M=n.n(p),L=n(99289),U=n.n(L),K=n(80821),B=n(3616),W=n(14946),P=n(36146),E=n(82061),Z=n(184),b=n(38345),S=n(60940),w=n(42075),y=n(96074),o=n(26412),f=n(67294),r=n(85893),l=(0,f.forwardRef)(function(V,u){(0,f.useImperativeHandle)(u,function(){return{show:function(j){return U()(M()().mark(function A(){var D,x;return M()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,(0,W.IS)({name:j});case 2:D=m.sent,D.data.info.Containers?(x=[],Object.keys(D.data.info.Containers).map(function(F){D.data.info.Containers[F].Id=F,x.push(D.data.info.Containers[F])}),$(x)):$([]),v(D.data.info),c(!0);case 6:case"end":return m.stop()}},A)}))()}}});var T=(0,f.useState)(!1),g=h()(T,2),N=g[0],c=g[1],i=(0,f.useState)(),t=h()(i,2),e=t[0],v=t[1],d=(0,f.useState)(),s=h()(d,2),a=s[0],$=s[1],O=new P.Uo("components.network");return(0,r.jsx)(Z.a,{drawerProps:{width:B.R_},title:O.format("detailTitle"),open:N,onOpenChange:function(j){c(j)},submitter:!1,children:(0,r.jsxs)(b.Z,{ghost:!0,direction:"column",gutter:[10,0],children:[(0,r.jsx)(b.Z,{title:O.format("detailContainer"),ghost:!0,children:(0,r.jsx)(S.Z,{rowKey:"Name",columns:[{title:P.FD.format("listContainerName"),dataIndex:"Name"},{title:"IPV4",dataIndex:"IPv4Address"},{title:"IPV6",dataIndex:"IPv6Address"},{title:"MacAddress",dataIndex:"MacAddress"},{title:P.FD.format("listManage"),render:function(j,A,D){return(0,r.jsx)(w.Z,{split:(0,r.jsx)(y.Z,{type:"vertical"}),children:(0,r.jsx)(K.Z,{buttonProps:{type:"text",icon:(0,r.jsx)(E.Z,{}),danger:!0},confirmProps:{showCommonConfirm:!0},action:function(){var C,m;return(0,W.t9)({name:(C=e==null?void 0:e.Id)!==null&&C!==void 0?C:"",containerName:(m=A.Id)!==null&&m!==void 0?m:""})},tips:P.FD.format("listManageExit"),onSuccess:function(){var C=a==null?void 0:a.filter(function(m){return m.Id!=A.Id});$(C)}},"delete")})}}],dataSource:a,pagination:!1})}),(0,r.jsx)(b.Z,{ghost:!0,title:O.format("detailBasic"),children:(0,r.jsxs)(o.Z,{styles:{label:{width:150}},column:1,bordered:!0,children:[(0,r.jsx)(o.Z.Item,{label:O.format("detailName"),children:e==null?void 0:e.Name}),(0,r.jsx)(o.Z.Item,{label:"Id",children:e==null?void 0:e.Id}),(0,r.jsx)(o.Z.Item,{label:"Driver",children:e==null?void 0:e.Driver}),(0,r.jsx)(o.Z.Item,{label:"Scope",children:e==null?void 0:e.Scope}),(0,r.jsx)(o.Z.Item,{label:"Attachable",children:O.yesNo(e==null?void 0:e.Attachable)}),(0,r.jsx)(o.Z.Item,{label:"Internal",children:O.yesNo(e==null?void 0:e.Internal)}),(e==null?void 0:e.IPAM.Config)&&(e==null?void 0:e.IPAM.Config.map(function(_,j){return(0,r.jsx)(o.Z.Item,{label:_.Gateway&&_.Gateway.includes(":")?"IPV6":"IPV4",children:(0,r.jsxs)(o.Z,{styles:{label:{width:150}},column:1,bordered:!0,children:[(0,r.jsx)(o.Z.Item,{label:"Subnet",children:_.Subnet}),(0,r.jsx)(o.Z.Item,{label:"Gateway",children:_.Gateway}),(0,r.jsx)(o.Z.Item,{label:"IP Range ",children:_.IPRange}),(0,r.jsx)(o.Z.Item,{label:"Excluded IPs",children:_.AuxiliaryAddresses&&Object.keys(_.AuxiliaryAddresses).map(function(A){return _.AuxiliaryAddresses[A]+" ,"})})]})},j)})),(e==null?void 0:e.Options)&&Object.keys(e==null?void 0:e.Options).length>0&&(0,r.jsx)(o.Z.Item,{label:"Options",children:(0,r.jsx)(o.Z,{styles:{label:{width:150}},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Options).map(function(_){return(0,r.jsx)(o.Z.Item,{label:_,children:e.Options[_]},_)})})}),(e==null?void 0:e.Labels)&&Object.keys(e==null?void 0:e.Labels).length>0&&(0,r.jsx)(o.Z.Item,{label:"Lables",children:(0,r.jsx)(o.Z,{styles:{label:{width:150}},column:1,bordered:!0,children:Object.keys(e==null?void 0:e.Labels).map(function(_){return(0,r.jsx)(o.Z.Item,{label:_,children:e.Labels[_]},_)})})})]})})]})})});I.Z=l},3616:function(G,I,n){n.d(I,{Ed:function(){return M},FK:function(){return h},R_:function(){return R},ob:function(){return p}});var R=window.innerWidth<=1024?"90vw":"65vw",h="90vw",p="60vw",M="50vh"},6005:function(G,I,n){n.r(I),n.d(I,{default:function(){return V}});var R=n(15009),h=n.n(R),p=n(99289),M=n.n(p),L=n(1699),U=n(80821),K=n(16970),B=n(55943),W=n(98510),P=n(14946),E=n(36146),Z=n(52645),b=n(82061),S=n(74453),w=n(82346),y=n(25593),o=n(66309),f=n(42075),r=n(67294),l=n(85893);function V(){var u=(0,r.useRef)(),T=(0,r.useRef)(),g=(0,w.useAccess)(),N=new E.Uo("docker");return(0,l.jsxs)(S._z,{header:{extra:[(0,l.jsx)(L.u,{access:"canSeeDockerNetworkManage",children:(0,l.jsx)(K.Z,{onFinish:function(){var i,t;!((i=u.current)===null||i===void 0)&&i.reloadAndRest&&((t=u.current)===null||t===void 0||t.reloadAndRest())}},"create")},"create")]},children:[(0,l.jsx)(B.Z,{ref:T}),(0,l.jsx)(W.C,{rowKey:"Name",columns:[{title:E.FD.format("listTitle"),ellipsis:!0,dataIndex:"Name",render:function(i,t,e,v,d){return(0,l.jsx)(y.Z.Link,{onClick:function(){var a;(a=T.current)===null||a===void 0||a.show(t.Name)},children:t.Name})}},{title:E.FD.format("listType"),width:100,render:function(i,t,e,v,d){return(t.Name=="none"||t.Name=="bridge"||t.Name=="host")&&(0,l.jsx)(o.Z,{color:"blue",children:"System"})}},{title:E.FD.format("listDriver"),ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"IPAM Driver",ellipsis:!0,width:120,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",ellipsis:!0,width:150,search:!1,render:function(i,t,e,v,d){return t.IPAM.Config&&t.IPAM.Config[0]?(0,l.jsxs)(f.Z,{direction:"vertical",children:[(0,l.jsx)("div",{children:t.IPAM.Config&&t.IPAM.Config[0].Subnet}),(0,l.jsx)("div",{children:t.IPAM.Config&&t.IPAM.Config[0].Gateway})]}):"-"}},{title:"IPV6",ellipsis:!0,width:150,search:!1,render:function(i,t,e,v,d){return t.IPAM.Config&&t.IPAM.Config[1]?(0,l.jsxs)(f.Z,{direction:"vertical",children:[(0,l.jsx)("div",{children:t.IPAM.Config&&t.IPAM.Config[1].Subnet}),(0,l.jsx)("div",{children:t.IPAM.Config&&t.IPAM.Config[1].Gateway})]}):"-"}},{title:E.FD.format("listCreatedAt"),ellipsis:!0,width:180,search:!1,dataIndex:"Created",render:function(i,t,e,v,d){return new Date(t.Created).toLocaleString()}}],request:function(){var c=M()(h()().mark(function i(t,e,v){var d;return h()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,P.jR)({name:t.Name});case 2:return d=a.sent,a.abrupt("return",{data:d.data.list,success:!0,total:d.data.list.length});case 4:case"end":return a.stop()}},i)}));return function(i,t,e){return c.apply(this,arguments)}}(),rowSelection:g.canSeeDockerNetworkManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:u,quickToolbarRender:function(i){var t=i.selectedRows,e=i.finish,v=i.loading;return(0,l.jsxs)(f.Z,{size:16,children:[(0,l.jsx)(U.Z,{action:function(){return v(),(0,P.CI)().finally(function(){e(!0)})},buttonProps:{icon:(0,l.jsx)(Z.Z,{})},onSuccess:function(){var s,a;return!((s=u.current)===null||s===void 0)&&s.reloadAndRest&&((a=u.current)===null||a===void 0||a.reloadAndRest()),!0},onError:function(){var s,a;return!((s=u.current)===null||s===void 0)&&s.reset&&((a=u.current)===null||a===void 0||a.reset()),!0},confirmProps:{description:N.format("networkListManagePruneTip")},children:E.FD.format("listManagePrune")},"clearNotUse"),(0,l.jsx)(U.Z,{buttonProps:{danger:!0,type:"primary",icon:(0,l.jsx)(b.Z,{})},confirmProps:{showCommonConfirm:!0},action:function(){return v(),(0,P._x)({name:t.map(function(s){return s.Id})}).finally(function(){e(!0)})},onSuccess:function(){var s,a;return!((s=u.current)===null||s===void 0)&&s.reloadAndRest&&((a=u.current)===null||a===void 0||a.reloadAndRest()),!0},onError:function(){var s,a;return!((s=u.current)===null||s===void 0)&&s.reset&&((a=u.current)===null||a===void 0||a.reset()),!0},children:E.FD.format("listManageDeleteBatch")},"delete")]})}})]})}}}]);
