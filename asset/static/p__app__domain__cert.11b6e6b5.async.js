(self.webpackChunk=self.webpackChunk||[]).push([[1355],{18429:function(U,y,n){"use strict";n.d(y,{Z:function(){return f}});var d=n(87462),h=n(67294),R={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},_=R,M=n(84089),A=function(P,a){return h.createElement(M.Z,(0,d.Z)({},P,{ref:a,icon:_}))},T=h.forwardRef(A),f=T},23430:function(U,y,n){"use strict";n.d(y,{Z:function(){return f}});var d=n(87462),h=n(67294),R={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},_=R,M=n(84089),A=function(P,a){return h.createElement(M.Z,(0,d.Z)({},P,{ref:a,icon:_}))},T=h.forwardRef(A),f=T},52688:function(U,y,n){"use strict";var d=n(1413),h=n(45987),R=n(67294),_=n(40284),M=n(85893),A=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],T=R.forwardRef(function(f,x){var P=f.fieldProps,a=f.unCheckedChildren,c=f.checkedChildren,b=f.proFieldProps,i=(0,h.Z)(f,A);return(0,M.jsx)(_.Z,(0,d.Z)({valueType:"switch",fieldProps:(0,d.Z)({unCheckedChildren:a,checkedChildren:c},P),ref:x,valuePropName:"checked",proFieldProps:b,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},i))});y.Z=T},16894:function(U,y,n){"use strict";var d=n(9773);y.ZP=d.Z},89497:function(U,y,n){"use strict";n.r(y),n.d(y,{default:function(){return Q}});var d=n(15009),h=n.n(d),R=n(99289),_=n.n(R),M=n(74026),A=n(77865),T=n(80821),f=n(66554),x=n(5251),P=n(86548),a=n(23430),c=n(82061),b=n(74453),i=n(82346),O=n(50136),$=n(42075),L=n(66309),W=n(96074),F=n(25593),Z=n(83062),I=n(67294),H=n(93162),te=n.n(H),X=n(1699),D=n(36146),B=n(98510),m=n(85893);function Q(){var K=(0,I.useRef)(),G=(0,I.useRef)(),V=(0,I.useRef)(),e=(0,i.useAccess)();return(0,m.jsx)(b._z,{extra:[(0,m.jsx)(X.u,{access:"canSeeContainerDomainManage",children:(0,m.jsx)(M.Z,{ref:V,onFinish:function(){var r,t;!((r=K.current)===null||r===void 0)&&r.reloadAndRest&&((t=K.current)===null||t===void 0||t.reloadAndRest())}},"cert")},"cert"),(0,m.jsx)(X.u,{access:"canSeeContainerDomainManage",children:(0,m.jsx)(A.Z,{ref:G},"dns")},"dns")],children:(0,m.jsx)(B.C,{actionRef:K,tableExtraRender:function(){return(0,m.jsx)(O.Z,{mode:"horizontal",selectedKeys:["cert"],items:[{label:(0,m.jsx)(i.Link,{to:"/app/domain/list",replace:!0,children:D.Ob.format("container.domain.list")}),key:"domain"},{label:(0,m.jsx)(i.Link,{to:"/app/domain/cert",replace:!0,children:D.Ob.format("container.domain.cert")}),key:"cert"}]})},rowKey:"mainDomain",columns:[{title:D.FD.format("listDomain"),render:function(r,t,o,u,v){return(0,m.jsx)($.Z,{wrap:!0,children:t.domain.map(function(p,s){return(0,m.jsx)(L.Z,{color:s==0?"blue":"",children:p},p)})})}},{title:D.FD.format("listStatus"),search:!1,width:100,render:function(r,t,o,u,v){return t.inUse&&(0,m.jsx)(L.Z,{color:"cyan",children:D.FD.format("listInUse")},"use-".concat(o))}},{title:"CA",dataIndex:"CA",search:!1,width:200},{title:D.FD.format("listCreatedAt"),search:!1,width:180,render:function(r,t,o,u,v){return(0,x.NF)(t.createdAt)},sorter:function(r,t){return r.createdAt!=""&&t.createdAt!=""?new Date(r.createdAt).toISOString().localeCompare(new Date(t.createdAt).toISOString()):-1}},{title:D.FD.format("listUpdatedAt"),search:!1,width:180,render:function(r,t,o,u,v){return(0,x.NF)(t.renewAt)}},{title:D.FD.format("listManage"),width:100,search:!1,fixed:"right",hidden:!e.canSeeContainerDomainManage,render:function(r,t,o,u,v){return(0,m.jsxs)($.Z,{split:(0,m.jsx)(W.Z,{type:"vertical"}),children:[(0,m.jsx)(F.Z.Link,{onClick:function(){var s;return(s=V.current)===null||s===void 0||s.edit(t),!0},children:(0,m.jsx)(Z.Z,{title:D.FD.format("listManageEdit"),children:(0,m.jsx)(P.Z,{})})}),(0,m.jsx)(F.Z.Link,{onClick:_()(h()().mark(function p(){var s,C;return h()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,f.ll)({name:t.mainDomain});case 2:s=E.sent,C=new Blob([s],{type:"application/zip"}),(0,H.saveAs)(C,"cert-"+t.mainDomain+".zip");case 5:case"end":return E.stop()}},p)})),children:(0,m.jsx)(Z.Z,{title:D.FD.format("listManageDownload"),children:(0,m.jsx)(a.Z,{})})},"2")]})}}],request:_()(h()().mark(function l(){var r,t;return h()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,f.dZ)();case 2:return r=u.sent,u.next=5,(0,f.i7)();case 5:return t=u.sent,u.abrupt("return",{data:r.data.list&&r.data.list.map(function(v){var p=!1;return t&&t.data&&t.data.list.map(function(s){s.setting.certName==v.mainDomain&&(p=!0)}),v.inUse=p,v}),success:!0,total:r.data.list.length});case 7:case"end":return u.stop()}},l)})),quickToolbarRender:function(r){var t=r.selectedRows,o=r.finish,u=r.loading;return[(0,m.jsx)(T.Z,{buttonProps:{danger:!0,type:"primary"},confirmProps:{showCommonConfirm:!0},action:_()(h()().mark(function v(){return h()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return u(),s.abrupt("return",(0,f.KK)({name:t.map(function(C){return C.mainDomain})}).finally(function(){o(!0)}));case 2:case"end":return s.stop()}},v)})),onSuccess:function(){var p,s;return!((p=K.current)===null||p===void 0)&&p.reloadAndRest&&((s=K.current)===null||s===void 0||s.reloadAndRest()),!0},onError:function(){var p,s;return!((p=K.current)===null||p===void 0)&&p.reset&&((s=K.current)===null||s===void 0||s.reset()),!0},children:D.FD.format("listManageDeleteBatch")},"batchDelete")]},contextMenu:function(r){var t=r.loading,o=r.finish,u=r.isMultiple,v=r.selectedRow,p=r.selectedRows;return{items:[{type:"group",label:D.FD.format("listManage"),key:"operator",children:[{label:(0,m.jsx)(B.C.ContextMenuItem,{buttonProps:{icon:(0,m.jsx)(P.Z,{}),disabled:u()},action:_()(h()().mark(function s(){var C;return h()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:o(!0),(C=V.current)===null||C===void 0||C.edit(v);case 2:case"end":return E.stop()}},s)})),children:D.FD.format("listManageEdit")}),key:"edit"},{label:(0,m.jsx)(B.C.ContextMenuItem,{buttonProps:{icon:(0,m.jsx)(a.Z,{}),disabled:u()},action:_()(h()().mark(function s(){var C,g;return h()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return o(!0),j.next=3,(0,f.ll)({name:v.mainDomain});case 3:C=j.sent,g=new Blob([C],{type:"application/zip"}),(0,H.saveAs)(g,"cert-"+v.mainDomain+".zip");case 6:case"end":return j.stop()}},s)})),children:D.FD.format("listManageDownload")}),key:"download"}]},{key:"delete",label:(0,m.jsx)(B.C.ContextMenuItem,{buttonProps:{icon:(0,m.jsx)(c.Z,{})},type:"danger",confirmProps:{showCommonConfirm:!0},action:_()(h()().mark(function s(){return h()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return t(),g.abrupt("return",(0,f.KK)({name:p.map(function(E){return E.mainDomain})}).finally(function(){o(!0)}));case 2:case"end":return g.stop()}},s)})),children:D.FD.format("listManageDelete")},"deleteBatch")}]}},rowSelection:e.canSeeContainerDomainManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0})})}},66309:function(U,y,n){"use strict";n.d(y,{Z:function(){return V}});var d=n(67294),h=n(93967),R=n.n(h),_=n(98423),M=n(98787),A=n(69760),T=n(96159),f=n(45353),x=n(53124),P=n(11568),a=n(15063),c=n(14747),b=n(83262),i=n(83559);const O=e=>{const{paddingXXS:l,lineWidth:r,tagPaddingHorizontal:t,componentCls:o,calc:u}=e,v=u(t).sub(r).equal(),p=u(l).sub(r).equal();return{[o]:Object.assign(Object.assign({},(0,c.Wf)(e)),{display:"inline-block",height:"auto",marginInlineEnd:e.marginXS,paddingInline:v,fontSize:e.tagFontSize,lineHeight:e.tagLineHeight,whiteSpace:"nowrap",background:e.defaultBg,border:`${(0,P.bf)(e.lineWidth)} ${e.lineType} ${e.colorBorder}`,borderRadius:e.borderRadiusSM,opacity:1,transition:`all ${e.motionDurationMid}`,textAlign:"start",position:"relative",[`&${o}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:e.defaultColor},[`${o}-close-icon`]:{marginInlineStart:p,fontSize:e.tagIconSize,color:e.colorIcon,cursor:"pointer",transition:`all ${e.motionDurationMid}`,"&:hover":{color:e.colorTextHeading}},[`&${o}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${e.iconCls}-close, ${e.iconCls}-close:hover`]:{color:e.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${o}-checkable-checked):hover`]:{color:e.colorPrimary,backgroundColor:e.colorFillSecondary},"&:active, &-checked":{color:e.colorTextLightSolid},"&-checked":{backgroundColor:e.colorPrimary,"&:hover":{backgroundColor:e.colorPrimaryHover}},"&:active":{backgroundColor:e.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${e.iconCls} + span, > span + ${e.iconCls}`]:{marginInlineStart:v}}),[`${o}-borderless`]:{borderColor:"transparent",background:e.tagBorderlessBg}}},$=e=>{const{lineWidth:l,fontSizeIcon:r,calc:t}=e,o=e.fontSizeSM;return(0,b.IX)(e,{tagFontSize:o,tagLineHeight:(0,P.bf)(t(e.lineHeightSM).mul(o).equal()),tagIconSize:t(r).sub(t(l).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:e.defaultBg})},L=e=>({defaultBg:new a.t(e.colorFillQuaternary).onBackground(e.colorBgContainer).toHexString(),defaultColor:e.colorText});var W=(0,i.I$)("Tag",e=>{const l=$(e);return O(l)},L),F=function(e,l){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r},I=d.forwardRef((e,l)=>{const{prefixCls:r,style:t,className:o,checked:u,onChange:v,onClick:p}=e,s=F(e,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:C,tag:g}=d.useContext(x.E_),E=Y=>{v==null||v(!u),p==null||p(Y)},j=C("tag",r),[k,J,w]=W(j),q=R()(j,`${j}-checkable`,{[`${j}-checkable-checked`]:u},g==null?void 0:g.className,o,J,w);return k(d.createElement("span",Object.assign({},s,{ref:l,style:Object.assign(Object.assign({},t),g==null?void 0:g.style),className:q,onClick:E})))}),H=n(98719);const te=e=>(0,H.Z)(e,(l,{textColor:r,lightBorderColor:t,lightColor:o,darkColor:u})=>({[`${e.componentCls}${e.componentCls}-${l}`]:{color:r,background:o,borderColor:t,"&-inverse":{color:e.colorTextLightSolid,background:u,borderColor:u},[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}));var X=(0,i.bk)(["Tag","preset"],e=>{const l=$(e);return te(l)},L);function D(e){return typeof e!="string"?e:e.charAt(0).toUpperCase()+e.slice(1)}const B=(e,l,r)=>{const t=D(r);return{[`${e.componentCls}${e.componentCls}-${l}`]:{color:e[`color${r}`],background:e[`color${t}Bg`],borderColor:e[`color${t}Border`],[`&${e.componentCls}-borderless`]:{borderColor:"transparent"}}}};var m=(0,i.bk)(["Tag","status"],e=>{const l=$(e);return[B(l,"success","Success"),B(l,"processing","Info"),B(l,"error","Error"),B(l,"warning","Warning")]},L),Q=function(e,l){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&l.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,t=Object.getOwnPropertySymbols(e);o<t.length;o++)l.indexOf(t[o])<0&&Object.prototype.propertyIsEnumerable.call(e,t[o])&&(r[t[o]]=e[t[o]]);return r};const G=d.forwardRef((e,l)=>{const{prefixCls:r,className:t,rootClassName:o,style:u,children:v,icon:p,color:s,onClose:C,bordered:g=!0,visible:E}=e,j=Q(e,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:k,direction:J,tag:w}=d.useContext(x.E_),[q,Y]=d.useState(!0),ce=(0,_.Z)(j,["closeIcon","closable"]);d.useEffect(()=>{E!==void 0&&Y(E)},[E]);const re=(0,M.o2)(s),oe=(0,M.yT)(s),ee=re||oe,de=Object.assign(Object.assign({backgroundColor:s&&!ee?s:void 0},w==null?void 0:w.style),u),S=k("tag",r),[ue,fe,me]=W(S),ve=R()(S,w==null?void 0:w.className,{[`${S}-${s}`]:ee,[`${S}-has-color`]:s&&!ee,[`${S}-hidden`]:!q,[`${S}-rtl`]:J==="rtl",[`${S}-borderless`]:!g},t,o,fe,me),ae=N=>{N.stopPropagation(),C==null||C(N),!N.defaultPrevented&&Y(!1)},[,pe]=(0,A.Z)((0,A.w)(e),(0,A.w)(w),{closable:!1,closeIconRender:N=>{const ge=d.createElement("span",{className:`${S}-close-icon`,onClick:ae},N);return(0,T.wm)(N,ge,z=>({onClick:ie=>{var ne;(ne=z==null?void 0:z.onClick)===null||ne===void 0||ne.call(z,ie),ae(ie)},className:R()(z==null?void 0:z.className,`${S}-close-icon`)}))}}),he=typeof j.onClick=="function"||v&&v.type==="a",le=p||null,Ce=le?d.createElement(d.Fragment,null,le,v&&d.createElement("span",null,v)):v,se=d.createElement("span",Object.assign({},ce,{ref:l,className:ve,style:de}),Ce,pe,re&&d.createElement(X,{key:"preset",prefixCls:S}),oe&&d.createElement(m,{key:"status",prefixCls:S}));return ue(he?d.createElement(f.Z,{component:"Tag"},se):se)});G.CheckableTag=I;var V=G},93162:function(U,y,n){var d,h,R;(function(_,M){h=[],d=M,R=typeof d=="function"?d.apply(y,h):d,R!==void 0&&(U.exports=R)})(this,function(){"use strict";function _(a,c){return typeof c=="undefined"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}function M(a,c,b){var i=new XMLHttpRequest;i.open("GET",a),i.responseType="blob",i.onload=function(){P(i.response,c,b)},i.onerror=function(){console.error("could not download file")},i.send()}function A(a){var c=new XMLHttpRequest;c.open("HEAD",a,!1);try{c.send()}catch(b){}return 200<=c.status&&299>=c.status}function T(a){try{a.dispatchEvent(new MouseEvent("click"))}catch(b){var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(c)}}var f=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof n.g=="object"&&n.g.global===n.g?n.g:void 0,x=f.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),P=f.saveAs||(typeof window!="object"||window!==f?function(){}:"download"in HTMLAnchorElement.prototype&&!x?function(a,c,b){var i=f.URL||f.webkitURL,O=document.createElement("a");c=c||a.name||"download",O.download=c,O.rel="noopener",typeof a=="string"?(O.href=a,O.origin===location.origin?T(O):A(O.href)?M(a,c,b):T(O,O.target="_blank")):(O.href=i.createObjectURL(a),setTimeout(function(){i.revokeObjectURL(O.href)},4e4),setTimeout(function(){T(O)},0))}:"msSaveOrOpenBlob"in navigator?function(a,c,b){if(c=c||a.name||"download",typeof a!="string")navigator.msSaveOrOpenBlob(_(a,b),c);else if(A(a))M(a,c,b);else{var i=document.createElement("a");i.href=a,i.target="_blank",setTimeout(function(){T(i)})}}:function(a,c,b,i){if(i=i||open("","_blank"),i&&(i.document.title=i.document.body.innerText="downloading..."),typeof a=="string")return M(a,c,b);var O=a.type==="application/octet-stream",$=/constructor/i.test(f.HTMLElement)||f.safari,L=/CriOS\/[\d]+/.test(navigator.userAgent);if((L||O&&$||x)&&typeof FileReader!="undefined"){var W=new FileReader;W.onloadend=function(){var I=W.result;I=L?I:I.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=I:location=I,i=null},W.readAsDataURL(a)}else{var F=f.URL||f.webkitURL,Z=F.createObjectURL(a);i?i.location=Z:location.href=Z,i=null,setTimeout(function(){F.revokeObjectURL(Z)},4e4)}});f.saveAs=P.saveAs=P,U.exports=P})}}]);
