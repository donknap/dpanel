"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3840],{99861:function(Be,Pe,e){var Ee=e(64599),D=e.n(Ee),_e=e(15009),l=e.n(_e),V=e(99289),U=e.n(V),E=e(5574),S=e.n(E),$=e(42119),A=e(83062),p=e(67294),G=e(92754),c=e(184),oe=e(38345),M=e(3616),he=e(36146),z=e(68297),g=e(85893),d=(0,p.forwardRef)(function(t,o){(0,p.useImperativeHandle)(o,function(){return{start:function(){var H;return B(!0),ge((H=t.image)!==null&&H!==void 0?H:[])},finish:function(){B(!1)},pull:function(H){return B(!0),ge(H)}}});var Z=(0,p.useState)(0),w=S()(Z,2),Y=w[0],R=w[1],u=(0,p.useRef)(),C=(0,p.useState)(!1),T=S()(C,2),i=T[0],B=T[1],m=(0,p.useState)([]),me=S()(m,2),P=me[0],N=me[1],n=new he.Uo("components.appCompose");function ge(W){return Me.apply(this,arguments)}function Me(){return Me=U()(l()().mark(function W(H){var xe,J,je,Ae,Ce,Ye,en;return l()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:J=0,N(H),je=D()(H),fe.prev=3,je.s();case 5:if((Ae=je.n()).done){fe.next=15;break}return Ye=Ae.value,R(J),(Ce=u.current)===null||Ce===void 0||Ce.setStart(Ye),fe.next=11,(0,z.Ze)({tag:Ye,type:"pull"});case 11:en=fe.sent,J++;case 13:fe.next=5;break;case 15:fe.next=20;break;case 17:fe.prev=17,fe.t0=fe.catch(3),je.e(fe.t0);case 20:return fe.prev=20,je.f(),fe.finish(20);case 23:(xe=u.current)===null||xe===void 0||xe.setFinish(),R(J),t.finishAutoHide&&B(!1);case 26:case"end":return fe.stop()}},W,null,[[3,17,20,23]])})),Me.apply(this,arguments)}return(0,g.jsxs)(c.a,{trigger:t.trigger,open:i,submitter:!1,title:n.format("pullImageTitle"),onOpenChange:function(){var W=U()(l()().mark(function H(xe){var J,je;return l()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:B(xe),xe&&t.trigger&&ge((J=t.image)!==null&&J!==void 0?J:[]),xe||(je=u.current)===null||je===void 0||je.close();case 3:case"end":return Ce.stop()}},H)}));return function(H){return W.apply(this,arguments)}}(),drawerProps:{forceRender:!0,width:M.R_},children:[(0,g.jsx)(oe.Z,{children:P&&(0,g.jsx)($.Z,{current:Y,items:P.map(function(W,H){return{title:(0,g.jsx)(A.Z,{title:W,children:W.length>15?W.substring(0,6)+" ... "+W.substring(W.length-6):W}),key:H}})})}),(0,g.jsx)(oe.Z,{children:(0,g.jsx)(G.Z,{ref:u})})]})});Pe.Z=d},44771:function(Be,Pe,e){e.d(Pe,{Z:function(){return S}});var Ee=e(36146),D=e(38345),_e=e(64317),l=e(97462),V=e(31199),U=e(86250),E=e(85893);function S($){var A=new Ee.Uo("components.appForm");return(0,E.jsx)(D.Z,{ghost:$.ghost,children:(0,E.jsxs)(U.Z,{gap:50,children:[(0,E.jsx)(_e.Z,{tooltip:"".concat(A.format("createParamsDemo",{params:"--restart always"})),label:$.showLabel&&A.format("createAdvRestart"),name:["restart","name"],width:"md",initialValue:$.defaultValue?$.defaultValue:"on-failure",options:A.option("createAdvRestartOption",["no","on-failure","unless-stopped","always"])}),(0,E.jsx)(l.Z,{name:["restart"],children:function(G){var c=G.restart;return c&&c.name=="on-failure"&&(0,E.jsx)(V.Z,{width:"md",label:A.format("createAdvRestartMax"),name:["restart","maxAttempt"],initialValue:5})}})]})})}},84941:function(Be,Pe,e){e.d(Pe,{Z:function(){return or}});var Ee=e(97857),D=e.n(Ee),_e=e(15009),l=e.n(_e),V=e(19632),U=e.n(V),E=e(99289),S=e.n(E),$=e(5574),A=e.n($),p=e(38345),G=e(62370),c=e(5966),oe=e(24739),M=e(97462),he=e(83622),z=e(30291),g=e(92398),d=e(40056),t=e(67294),o=e(42963),Z=e(51042),w=e(63434),Y=e(17186),R=e(71230),u=e(15746),C=e(42075),T=e(25593),i=e(85265),B=e(92067),m=e(5251),me=e(3616),P=e(36146),N=e(89240),n=e(85893),ge=(0,t.forwardRef)(function(j,Re){var f=(0,t.useState)(!1),se=A()(f,2),L=se[0],ie=se[1],Q=(0,t.useRef)(),v=new P.Uo("components.appForm"),K=function(x){return(0,n.jsxs)(p.Z,{bordered:!0,extra:x.action,style:{marginBottom:10},children:[(0,n.jsx)(p.Z,{title:v.format("createLinkItemTitle"),ghost:!0,children:(0,n.jsxs)(R.Z,{children:[(0,n.jsx)(u.Z,{span:6,children:(0,n.jsx)(c.Z,{label:v.format("createLinkItemName"),name:"name",width:"md",readonly:!0})}),(0,n.jsxs)(u.Z,{span:14,children:[(0,n.jsx)(c.Z,{label:v.format("createLinkItemAlise"),name:"alise",width:"md",readonly:!0,tooltip:v.format("createLinkItemAliseTip"),hidden:!0}),(0,n.jsx)(G.Z,{label:v.format("createLinkItemAlise"),tooltip:v.format("createLinkItemAliseTip"),children:(0,n.jsx)(C.Z,{direction:"vertical",children:[x.name,x.record.alise].map(function(b){return(0,n.jsx)(T.Z.Text,{copyable:!0,children:b})})})})]}),(0,n.jsx)(u.Z,{span:4,children:(0,n.jsx)(w.Z,{label:v.format("createLinkItemVolume"),name:"volume"})})]})}),(0,n.jsx)(p.Z,{ghost:!0,title:v.format("createLinkItemEnv"),children:(0,n.jsx)(C.Z,{direction:"vertical",children:x.record.env&&(0,m.oZ)(x.record.env).map(function(b,Ie){return(0,n.jsx)(T.Z.Text,{copyable:{icon:(0,n.jsx)(Z.Z,{}),onCopy:function(){j.onAddEnv(b.name,b.value)},tooltips:[v.format("createLinkAddToEnv"),"success"]},code:!0,ellipsis:{tooltip:"".concat(b.name,"=").concat(b.value)},children:"".concat(b.name,"=").concat(b.value)},Ie)})},"linkEnv")})]})},ne=function(x){var b,Ie,Ue=!1,Te=(b=(Ie=Q.current)===null||Ie===void 0?void 0:Ie.getList())!==null&&b!==void 0?b:[];if(Te.map(function(k){k.name==x.name&&(Ue=!0)}),!Ue){var Ze;(Ze=Q.current)===null||Ze===void 0||Ze.add(x)}};return(0,t.useImperativeHandle)(Re,function(){return{setDefaultLink:function(x){x&&x.map(function(b){b.name!=""&&ne(b)})}}}),(0,n.jsxs)(p.Z,{title:v.format("createLinkTitle"),headerBordered:!0,tooltip:"".concat(v.format("createParamsDemo",{params:"--link list"})),ghost:!0,children:[(0,n.jsx)(Y.u,{name:"links",actionRef:Q,creatorButtonProps:{creatorButtonText:v.format("createLinkAddButton")},actionGuard:{beforeAddRow:function(x,b){return ie(!0),!1}},copyIconProps:!1,min:0,itemRender:function(x,b){return(0,n.jsx)(K,{action:x.action,name:b.record.name,record:b.record})}}),(0,n.jsx)(i.Z,{title:v.format("createLinkSelectContainer"),width:me.R_,footer:!1,open:L,onClose:function(){return ie(!1)},children:(0,n.jsx)(B.Z,{onSelect:function(x){ne({name:(0,m.fi)(x.Name,"/"),volume:!1,env:x.Config.Env,alise:(0,N.zY)(x.Name)}),ie(!1)}})})]})}),Me=ge,W=e(91058),H=e(10523),xe=e(24796),J=e(52688),je=e(24963);function Ae(){var j=(0,t.useContext)(je.Z),Re=j.message,f=new P.Uo("components.appForm");return(0,n.jsx)(p.Z,{ghost:!0,children:(0,n.jsxs)(oe.UW,{children:[(0,n.jsx)(J.Z,{fieldProps:{onChange:function(L){L&&Re.warning(f.format("createAdvRunCommandPrivilegedNotice"))}},name:"privileged",tooltip:"".concat(f.format("createParamsDemo",{params:"--privileged"})),label:f.format("createAdvRunCommandPrivileged"),initialValue:!1}),(0,n.jsx)(J.Z,{name:"autoRemove",tooltip:"".concat(f.format("createParamsDemo",{params:"--rm"})),label:f.format("createAdvRunCommandAutoRemove"),initialValue:!1}),(0,n.jsx)(J.Z,{fieldProps:{onChange:function(L){L&&Re.warning(f.format("createAdvRunCommandHostPidNotice"))}},tooltip:"".concat(f.format("createParamsDemo",{params:"--pid host"})),name:"hostPid",label:f.format("createAdvRunCommandHostPid"),initialValue:!1})]})})}var Ce=e(62597),Ye=e(82346),en=e(20743),hn=(0,t.forwardRef)(function(j,Re){var f=(0,t.useRef)(),se=(0,t.useRef)(),L=new P.Uo("components.appForm");(0,t.useImperativeHandle)(Re,function(){return{}});var ie=function(v){var K,ne,F=!1,x=(K=(ne=f.current)===null||ne===void 0?void 0:ne.getList())!==null&&K!==void 0?K:[];if(x.map(function(Ie){Ie.name==v.name&&(F=!0)}),!F){var b;(b=f.current)===null||b===void 0||b.add(v)}};return(0,n.jsxs)(p.Z,{ghost:!0,title:L.format("createNetworkTitle"),tooltip:"".concat(L.format("createParamsDemo",{params:"--network list"})),headerBordered:!0,extra:(0,n.jsx)(C.Z,{children:j.showUseBridgeNetwork&&(0,n.jsx)(J.Z,{name:"useBridgeNetwork",initialValue:!0,fieldProps:{checkedChildren:L.format("createNetworkUseBridgeNetwork"),unCheckedChildren:L.format("createNetworkUseBridgeNetwork")}},"useBridgeNetwork")}),children:[(0,n.jsx)(Y.u,{name:"network",actionRef:f,creatorButtonProps:{creatorButtonText:L.format("createNetworkAddButton")},actionGuard:{beforeAddRow:function(v,K){var ne;return(ne=se.current)===null||ne===void 0||ne.show(),!1}},copyIconProps:!1,min:0,itemRender:function(v,K){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(oe.UW,{children:[(0,n.jsx)(c.Z,{label:L.format("createNetworkName"),name:"name",width:"md",disabled:!0,fieldProps:{value:K.record.name}}),(0,n.jsx)(c.Z,{label:L.format("createNetworkAlise"),name:"alise",tooltip:L.format("createNetworkAliseTip"),placeholder:L.format("createNetworkAliseEmpty"),disabled:K.record.name=="bridge"}),(0,n.jsx)(c.Z,{label:"IpV4",name:"ipV4",width:"md",disabled:K.record.name=="bridge",fieldProps:{addonAfter:K.record.subnet}}),K.record.subnetV6&&(0,n.jsx)(c.Z,{label:"IpV6",name:"ipV6",width:"md",disabled:K.record.name=="bridge",fieldProps:{addonAfter:K.record.subnetV6}}),(0,n.jsx)(G.Z,{label:" ",children:v.action})]})})}}),(0,n.jsx)(en.Z,{ref:se,onSelect:function(v){ie({name:v.Name,alise:[""],subnet:v.IPAM.Config&&v.IPAM.Config[0].Subnet,subnetV6:v.IPAM.Config&&v.IPAM.Config[1]&&v.IPAM.Config[1].Subnet})}})]})}),fe=hn,On=e(82034),Je=e(52255),yn=e(59252),nn=e(73813),bn=function(Re){var f=new P.Uo("components.appForm");return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(p.Z,{title:f.format("createSelfNetworkTitle"),subTitle:f.format("createSelfNetworkTitleTip"),tooltip:"".concat(f.format("createParamsDemo",{params:"--network string --ip string --ip6 string"})),ghost:!0,children:[(0,n.jsxs)(oe.UW,{children:[(0,n.jsx)(c.Z,{label:f.format("createSelfNetworkIp",{ip:"ipv4"}),name:["ipV4","address"],width:"md",tooltip:f.format("createSelfNetworkIpTip",{ip:"ipv4",example:"192.168.1.5"}),placeholder:"192.168.1.5"}),(0,n.jsx)(M.Z,{name:["ipV4"],children:function(L){var ie=L.ipV4;return(0,n.jsx)(c.Z,{label:f.format("createSelfNetworkIpSubnet",{ip:"ipv4"}),name:["ipV4","subnet"],width:"md",required:ie&&ie.address,tooltip:f.format("createSelfNetworkIpSubnetTip",{ip:"ipv4",example:"192.168.1.0/24"}),placeholder:"192.168.1.0/24",rules:[{required:ie&&ie.address}]})}}),(0,n.jsx)(c.Z,{label:f.format("createSelfNetworkIpGateway",{ip:"ipv4"}),name:["ipV4","gateway"],width:"md",tooltip:f.format("createSelfNetworkIpGatewayTip",{ip:"ipv4",example:"192.168.1.1"}),placeholder:"192.168.1.1"}),(0,n.jsx)(J.Z,{label:f.format("createSelfNetworkIpV6Enable"),name:"enableIpV6Address"})]}),(0,n.jsx)(M.Z,{name:["enableIpV6Address"],children:function(L){var ie=L.enableIpV6Address;if(ie)return(0,n.jsxs)(oe.UW,{children:[(0,n.jsx)(c.Z,{label:f.format("createSelfNetworkIp",{ip:"ipv6"}),name:["ipV6","address"],width:"md",tooltip:f.format("createSelfNetworkIpTip",{ip:"ipv6",example:"2001:db8::5"}),placeholder:"2001:db8::5"}),(0,n.jsx)(M.Z,{name:["ipV6"],children:function(v){var K=v.ipV6;return(0,n.jsx)(c.Z,{label:f.format("createSelfNetworkIpSubnet",{ip:"ipv6"}),name:["ipV6","subnet"],width:"md",required:K&&K.address,tooltip:f.format("createSelfNetworkIpSubnetTip",{ip:"ipv6",example:"2001:db8::/48"}),placeholder:"2001:db8::/48",rules:[{required:K&&K.address}]})}}),(0,n.jsx)(c.Z,{label:f.format("createSelfNetworkIpGateway",{ip:"ipv6"}),name:["ipV6","gateway"],width:"md",tooltip:f.format("createSelfNetworkIpGatewayTip",{ip:"ipv6",example:"2001:db8::1"}),placeholder:"2001:db8::1"})]})}})]})})},xn=bn,An=e(90672);function wn(){var j=new P.Uo("components.appForm");return(0,n.jsx)(p.Z,{ghost:!0,title:j.format("createHookTitle"),subTitle:"",children:(0,n.jsx)(An.Z,{label:j.format("createHookContainerCreate"),name:["hook","containerCreate"],placeholder:j.format("createHookContainerCreateTip")})})}var Tn=e(93529),Zn=e(66309),Ln=e(96074),Un=e(83062),Sn=e(64789),Bn=e(85060),gn=e(78451),Nn=e(99861),kn=e(80821),Wn=e(1699),Hn=e(80271),Kn=e(47248),Fn=e(98510);function $n(j){var Re=(0,t.useState)(!1),f=A()(Re,2),se=f[0],L=f[1],ie=(0,t.useContext)(o.Z),Q=ie.createFormRef,v=ie.volumeListRef,K=ie.createEnvRef,ne=ie.domainRef,F=new P.Uo("components.appForm"),x=(0,t.useState)(!1),b=A()(x,2),Ie=b[0],Ue=b[1];(0,t.useEffect)(function(){if(Q.current){var k;Ue(!!((k=Q.current)!==null&&k!==void 0&&k.getFieldValue("id")))}},[Q.current]);function Te(k){return Ze.apply(this,arguments)}function Ze(){return Ze=S()(l()().mark(function k(re){var O,pe,I,y,a,te,Oe,ae,le,ue,de,be;return l()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.next=2,(0,nn.YU)({md5:re});case 2:return I=X.sent,Ie||(Oe=(y=Q.current)===null||y===void 0?void 0:y.getFieldsValue(),(a=Q.current)===null||a===void 0||a.resetFields(),(te=Q.current)===null||te===void 0||te.setFieldsValue({siteName:Oe.siteName,siteTitle:Oe.siteTitle})),I.data.info.Config.Env&&I.data.info.Config.Env.map(function(q){var ye,ke=q.split("=");(ye=K.current)===null||ye===void 0||ye.addEnvItem(ke[0],ke.slice(1).join("="))}),(O=Q.current)===null||O===void 0||O.setFieldValue("imageName",re),(pe=Q.current)===null||pe===void 0||pe.setFieldValue("workDir",I.data.info.Config.WorkingDir),Ie||((ae=ne.current)===null||ae===void 0||ae.setExposePort(I.data.info.Config.ExposedPorts),I.data.info.Config.Volumes?(de=[],Object.keys(I.data.info.Config.Volumes).map(function(q,ye){de.push(q)}),(ue=v.current)===null||ue===void 0||ue.setDefaultDestPath(de)):(be=v.current)===null||be===void 0||be.setDefaultDestPath([]),(le=Q.current)===null||le===void 0||le.setFieldsValue({workDir:{value:"",useDefault:!0,default:I.data.info.Config.WorkingDir},user:{value:"",useDefault:!0,default:I.data.info.Config.User},command:{value:"",useDefault:!0,default:I.data.info.Config.Cmd&&I.data.info.Config.Cmd.join(" ")},entrypoint:{value:"",useDefault:!0,default:I.data.info.Config.Entrypoint&&I.data.info.Config.Entrypoint.join(" ")}})),X.abrupt("return",!0);case 9:case"end":return X.stop()}},k)})),Ze.apply(this,arguments)}return(0,t.useEffect)(function(){j.fromImageId&&Te(j.fromImageId)},[j.fromImageId]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{destroyOnHidden:!0,open:se,width:me.R_,title:F.format("dockerImageTitle"),footer:!1,onClose:function(){L(!1)},children:(0,n.jsx)(Fn.C,{columns:[{title:"Id",dataIndex:"Id",search:!1,width:120,render:function(re,O,pe,I,y){return(0,n.jsx)(gn.Z,{content:O.Id.slice(7,19)})}},{title:P.FD.format("listImageName"),dataIndex:"tag",render:function(re,O,pe,I){return(0,n.jsx)(gn.Z,{content:O.RepoTags[0]})}},{title:"Digest",width:120,render:function(re,O,pe,I,y){var a=O.RepoDigests&&O.RepoDigests[0];return a?a.substring(a.indexOf("@")+8).substring(0,12):(0,n.jsx)(Zn.Z,{color:"warning",children:new P.Uo("components.appDetail").format("checkImageUpgradeOption.-3")})}},{title:P.FD.format("listCreatedAt"),dataIndex:"Created",search:!1,width:180,render:function(re,O,pe,I){return(0,n.jsx)("div",{children:(0,m.ZM)(O.Created*1e3)},O.Id)},sorter:function(re,O){return re.Created-O.Created}},{title:P.FD.format("listManage"),valueType:"option",key:"option",width:50,render:function(re,O,pe,I){return(0,n.jsx)(C.Z,{split:(0,n.jsx)(Ln.Z,{type:"vertical"}),children:(0,n.jsx)(kn.Z,{buttonProps:{icon:(0,n.jsx)(Sn.Z,{}),type:"link"},tips:P.FD.format("listManageUse"),action:function(){return Te(O.RepoTags[0])},onSuccess:function(){L(!1)}},"addImage")})}}],request:function(){var k=S()(l()().mark(function re(O,pe,I){var y,a,te;return l()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=3,(0,nn.KG)({tag:O.tag});case 3:return y=ae.sent,a=0,te=[],y.data.list&&(te=y.data.list.flatMap(function(le){return le.RepoTags.map(function(ue){var de,be=(de=le.RepoDigests)===null||de===void 0?void 0:de.find(function(Ne){var X=Ne.split("@"),q=A()(X,2),ye=q[0],ke=q[1];return ue.includes(ye)});return{Key:a++,Id:le.Id,Created:le.Created,RepoTags:[ue],RepoDigests:[be]}})})),ae.abrupt("return",{data:te,success:!0,total:te.length});case 8:case"end":return ae.stop()}},re)}));return function(re,O,pe){return k.apply(this,arguments)}}(),rowKey:"Key"})},"imageTableList"),(0,n.jsxs)(C.Z.Compact,{children:[(0,n.jsx)(c.Z,{width:"lg",label:F.format("dockerImageImageName"),name:"imageName",disabled:!0,placeholder:F.format("dockerImageImageNameEmpty"),rules:[{required:!0}],required:!0}),(0,n.jsx)(G.Z,{label:" ",children:(0,n.jsx)(he.ZP,{type:"primary",onClick:function(){return L(!0)},children:F.format("dockerImageTitle")},"showBtn")}),(0,n.jsx)(M.Z,{name:["imageName"],children:function(re){var O=re.imageName;if(O)return(0,n.jsx)(G.Z,{label:" ",children:(0,n.jsx)(Nn.Z,{finishAutoHide:!0,image:O?[O]:[],trigger:(0,n.jsx)(Un.Z,{title:F.format("dockerImageUpgradeImageTip"),children:(0,n.jsx)(he.ZP,{icon:(0,n.jsx)(Bn.Z,{}),children:F.format("dockerImageUpgradeImageButton")})})})})}}),(0,n.jsx)(G.Z,{label:" ",children:(0,n.jsx)(Kn.Z,{onFinish:function(re){Te(re)}},"remote")}),(0,n.jsx)(G.Z,{label:" ",children:(0,n.jsx)(M.Z,{name:["imageName"],children:function(re){var O=re.imageName;if(O)return(0,n.jsx)(Wn.u,{access:"canSeeEnableCe",showProTips:!0,children:function(I){var y=I.canSeeEnableCe;return(0,n.jsx)(Hn.Z,{imageId:O,trigger:(0,n.jsx)(he.ZP,{disabled:y,children:F.format("dockerImageFileExplorer")})})}})}})})]})]})}var Vn=e(44349);function Gn(){var j=new P.Uo("components.appForm");return(0,n.jsx)(p.Z,{ghost:!0,title:j.format("createDevice"),headerBordered:!0,tooltip:"".concat(j.format("createParamsDemo",{params:"--device list"})),children:(0,n.jsx)(Vn.Z,{name:"device",showAddButtonLabel:"".concat(P.FD.format("listManageAdd")).concat(j.format("createDevice")),hideCopyButton:!0,showAddButton:!0,gap:10,items:[{label:j.format("createDeviceHost"),name:"host",width:"md",placeholder:"/dev/tty0"},{label:j.format("createDeviceDest"),name:"dest",width:"md",placeholder:"/dev/tty0"}]})})}var Cn=e(64317);function zn(){var j=new P.Uo("components.appForm");return(0,n.jsxs)(p.Z,{ghost:!0,children:[(0,n.jsxs)(R.Z,{children:[(0,n.jsx)(u.Z,{span:4,children:(0,n.jsx)(J.Z,{label:j.format("createGpus"),name:["gpus","enable"]})}),(0,n.jsx)(u.Z,{span:20,children:(0,n.jsx)(M.Z,{name:["gpus"],children:function(f){var se=f.gpus;if(se&&se.enable)return(0,n.jsx)(Cn.Z,{tooltip:"".concat(j.format("createParamsDemo",{params:"--gpus 'device=0'"})),mode:"tags",label:j.format("createGpusDevice"),name:["gpus","device"],placeholder:j.format("createGpusDeviceEmpty")})}})})]}),(0,n.jsx)(M.Z,{name:["gpus"],children:function(f){var se=f.gpus;if(se&&se.enable)return(0,n.jsx)(Cn.Z,{tooltip:"".concat(j.format("createParamsDemo",{params:"--gpus 'capabilities=compute,utility'"})),label:j.format("createGpusCap"),name:["gpus","capabilities"],mode:"multiple",fieldProps:{allowClear:!0},options:j.option("createGpusCapOption",["compute","compat32","graphics","utility","video","display"])})}})]})}var Yn=e(55730),Jn=e(27323),Qn=e(44771),Xn=e(33879),qn=e(96486),rn=e.n(qn),er=e(73396),Pn=e(14946),nr=e(13822),rr=e(64412),tr=e(27166),ar=(0,t.forwardRef)(function(j,Re){var f=(0,t.useContext)(je.Z),se=f.notice,L=(0,Ye.useAccess)(),ie=(0,t.useState)("basic"),Q=A()(ie,2),v=Q[0],K=Q[1],ne=new P.Uo("app"),F=new P.Uo("components.appForm"),x=(0,t.useRef)(),b=(0,t.useRef)(),Ie=(0,t.useRef)(),Ue=(0,t.useRef)(),Te=(0,t.useRef)(),Ze=(0,t.useState)(!1),k=A()(Ze,2),re=k[0],O=k[1],pe=(0,t.useRef)();return(0,t.useImperativeHandle)(Re,function(){return{show:function(y){return S()(l()().mark(function a(){var te,Oe,ae,le,ue,de,be,Ne,X,q,ye,ke,tn,an,on,sn,ln,un,Fe,dn,cn,mn,fn,$e,We,r,De,En,Ve,jn,In,Ge,Dn,pn;return l()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if((te=x.current)===null||te===void 0||te.resetFields(),y){ve.next=3;break}return ve.abrupt("return");case 3:return O(!0),(Oe=pe.current)===null||Oe===void 0||Oe.loading(),ve.prev=5,ve.next=8,(0,Ce.iE)({id:y});case 8:if(We=ve.sent,r=(ae=We.data.containerInfo)===null||ae===void 0?void 0:ae.Info,De={info:{}},!r){ve.next=16;break}return ve.next=14,(0,nn.YU)({md5:r.Image});case 14:En=ve.sent,De=En.data;case 16:return Ve=[],ve.next=19,(0,Pn.jR)();case 19:return jn=ve.sent,Ve=jn.data.list,In=function(s){if(!s)return{};var _=s[We.data.siteName];if(!_)return{};var h=Ve&&Ve.find(function(ee){return ee.Id==_.NetworkID});return{ipV4:{address:_.IPAddress,gateway:_.Gateway,subnet:h&&h.IPAM.Config&&h.IPAM.Config[0]&&h.IPAM.Config[0].Subnet},ipV6:{address:_.GlobalIPv6Address,gateway:_.IPv6Gateway,subnet:h&&h.IPAM.Config&&h.IPAM.Config[1]&&h.IPAM.Config[1].Subnet},enableIpV6Address:h&&h.IPAM.Config&&h.IPAM.Config[1],bindIpV6:!!(h&&h.IPAM.Config&&h.IPAM.Config[1])}}(r==null?void 0:r.NetworkSettings.Networks),Ge=[],ve.next=25,function(){var s=S()(l()().mark(function _(h,ee){var we;return l()().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(!(!(ee!=null&&ee.NetworkSettings)||!(ee!=null&&ee.NetworkSettings.Networks)||!(ee!=null&&ee.NetworkSettings.Networks[h]))){ce.next=2;break}return ce.abrupt("return",[]);case 2:return ce.next=4,(0,Pn.IS)({name:h});case 4:if(we=ce.sent,ce.t0=we.data.info.Containers,!ce.t0){ce.next=10;break}return ce.next=9,Promise.all(Object.entries(we.data.info.Containers).filter(function(Se){var Qe=A()(Se,2),Mn=Qe[0],Xe=Qe[1];return Xe.Name!=h}).map(function(){var Se=S()(l()().mark(function Qe(Mn){var Xe,sr,qe,ze,Rn,He,vn;return l()().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:if(Xe=A()(Mn,2),sr=Xe[0],qe=Xe[1],qe.Name==h){Ke.next=9;break}return Ke.next=4,(0,nr.jV)({md5:qe.Name});case 4:return Rn=Ke.sent,He=Rn.data.info,vn=(ze=ee.HostConfig)===null||ze===void 0||(ze=ze.VolumesFrom)===null||ze===void 0?void 0:ze.includes(qe.Name),vn&&He.Mounts&&Ge.push.apply(Ge,U()(He.Mounts.map(function(ir){var _n;return(_n=ir.Destination)!==null&&_n!==void 0?_n:""}))),Ke.abrupt("return",{name:qe.Name,alise:He&&(0,N.zY)(He.Name),env:He&&He.Config.Env,volume:vn});case 9:case"end":return Ke.stop()}},Qe)}));return function(Qe){return Se.apply(this,arguments)}}()));case 9:ce.t0=ce.sent;case 10:return ce.abrupt("return",ce.t0);case 11:case"end":return ce.stop()}},_)}));return function(_,h){return s.apply(this,arguments)}}()(We.data.siteName,r);case 25:Dn=ve.sent,(le=x.current)===null||le===void 0||le.setFieldsValue(D()({id:r==null?void 0:r.Id,siteTitle:We.data.siteTitle,siteName:We.data.siteName,hook:We.data.env.hook,imageName:r==null?void 0:r.Config.Image,hostname:r==null?void 0:r.Config.Hostname,privileged:r==null||(ue=r.HostConfig)===null||ue===void 0?void 0:ue.Privileged,useHostNetwork:(r==null||(de=r.HostConfig)===null||de===void 0?void 0:de.NetworkMode)=="host",publishAllPorts:r==null||(be=r.HostConfig)===null||be===void 0?void 0:be.PublishAllPorts,groupAdd:r==null||(Ne=r.HostConfig)===null||Ne===void 0?void 0:Ne.GroupAdd,workDir:{value:r==null?void 0:r.Config.WorkingDir,useDefault:De.info.Config.WorkingDir==(r==null?void 0:r.Config.WorkingDir),default:De&&De.info.Config&&De.info.Config.WorkingDir},user:{value:r==null?void 0:r.Config.User,useDefault:De.info.Config.User==(r==null?void 0:r.Config.User),default:De.info.Config.User},command:{value:r==null||(X=r.Config.Cmd)===null||X===void 0?void 0:X.join(" "),useDefault:rn().isEqual(De.info.Config.Cmd,r==null?void 0:r.Config.Cmd),default:((q=De.info.Config)===null||q===void 0?void 0:q.Cmd)&&De.info.Config.Cmd.join(" ")},entrypoint:{value:r==null?void 0:r.Config.Entrypoint,useDefault:rn().isEqual(De.info.Config.Entrypoint,r==null?void 0:r.Config.Entrypoint),default:((ye=De.info)===null||ye===void 0||(ye=ye.Config)===null||ye===void 0?void 0:ye.Entrypoint)&&De.info.Config.Entrypoint.join(" ")},shmsize:(0,N.Rk)(r==null||(ke=r.HostConfig)===null||ke===void 0?void 0:ke.ShmSize),cpus:(0,N.PD)(r==null||(tn=r.HostConfig)===null||tn===void 0?void 0:tn.NanoCpus),memory:(0,N.pM)(r==null||(an=r.HostConfig)===null||an===void 0?void 0:an.Memory),environment:(r==null?void 0:r.Config.Env)&&(0,m.oZ)(r.Config.Env,"="),label:function(s){return s&&Object.entries(s).map(function(_){var h=A()(_,2),ee=h[0],we=h[1];return{name:ee,value:we}})}(r==null?void 0:r.Config.Labels),volumes:function(s){return s==null?void 0:s.filter(function(_){var h;return!Ge||Ge.length==0||!Ge.includes((h=_.Destination)!==null&&h!==void 0?h:"")}).map(function(_){return{host:_.Type=="bind"?_.Source:_.Name,dest:_.Destination,type:_.Type,permission:_.RW?"write":"readonly"}})}(r==null?void 0:r.Mounts),ports:(0,N.yi)(r),links:Dn,network:function(s){return s&&Object.entries(s).map(function(_){var h=A()(_,2),ee=h[0],we=h[1],Le=Ve&&Ve.find(function(Se){return Se.Name==ee}),ce="";return we.Aliases&&we.Aliases.forEach(function(Se){if(!Se.includes("pod.dpanel.local")){ce=Se;return}}),{name:ee,alise:ce,ipV4:we.IPAddress,subnet:"".concat(Le&&Le.IPAM.Config&&Le!==null&&Le!==void 0&&Le.IPAM.Config[0]?Le==null?void 0:Le.IPAM.Config[0].Subnet:"-","/").concat(we.IPPrefixLen)}})}(r==null?void 0:r.NetworkSettings.Networks),restart:function(s){return s?{name:s==null?void 0:s.Name,maxAttempt:s==null?void 0:s.MaximumRetryCount}:{name:"no"}}(r==null||(on=r.HostConfig)===null||on===void 0?void 0:on.RestartPolicy),extraHosts:(0,m.oZ)(r==null||(sn=r.HostConfig)===null||sn===void 0?void 0:sn.ExtraHosts,":"),autoRemove:r==null||(ln=r.HostConfig)===null||ln===void 0?void 0:ln.AutoRemove,log:function(s,_){return{driver:(_=s==null?void 0:s.Type)!==null&&_!==void 0?_:"json-file",maxFile:(s==null?void 0:s.Config)&&s.Config["max-file"],maxSize:(s==null?void 0:s.Config)&&s.Config["max-size"]}}(r==null||(un=r.HostConfig)===null||un===void 0?void 0:un.LogConfig),dns:r==null||(Fe=r.HostConfig)===null||Fe===void 0||(Fe=Fe.Dns)===null||Fe===void 0?void 0:Fe.join(`
`),gpus:function(s){var _=s==null?void 0:s.find(function(ee){return ee.Driver=="nvidia"});if(!_)return{enable:!1};var h=_.Capabilities&&_.Capabilities[0];return{device:_.DeviceIDs,capabilities:h&&h.includes("gpu")?[]:h,enable:!0}}(r==null||(dn=r.HostConfig)===null||dn===void 0?void 0:dn.DeviceRequests),device:function(s){return s==null?void 0:s.map(function(_){return{host:_.PathOnHost,dest:_.PathInContainer}})}(r==null||(cn=r.HostConfig)===null||cn===void 0?void 0:cn.Devices),hostPid:(r==null||(mn=r.HostConfig)===null||mn===void 0?void 0:mn.PidMode)=="host",capAdd:r==null||(fn=r.HostConfig)===null||fn===void 0?void 0:fn.CapAdd,healthcheck:function(s,_,h){if(!s)return{};var ee=s!=null&&(_=s.Test)!==null&&_!==void 0&&_.includes("CMD-SHELL")?"CMD-SHELL":"CMD";return{interval:(s==null?void 0:s.Interval)&&s.Interval/Ce.nL.Second,timeout:(s==null?void 0:s.Timeout)&&s.Timeout/Ce.nL.Second,retries:s==null?void 0:s.Retries,cmd:s!=null&&s.Test?s==null||(h=s.Test)===null||h===void 0?void 0:h.slice(1).join(" "):"",shellType:ee}}(r==null?void 0:r.Config.Healthcheck),useBridgeNetwork:function(s){return!!(s&&s.bridge)}(r==null?void 0:r.NetworkSettings.Networks),enableBindHost:r==null||($e=r.HostConfig)===null||$e===void 0||($e=$e.ExtraHosts)===null||$e===void 0?void 0:$e.some(function(s){return s.includes(":host-gateway")})},In));case 27:return ve.prev=27,(pn=pe.current)===null||pn===void 0||pn.finish(),ve.finish(27);case 30:case"end":return ve.stop()}},a,null,[[5,,27,30]])}))()}}}),(0,n.jsx)(o.Z.Provider,{value:{createFormRef:x,volumeListRef:b,domainRef:Ie,createEnvRef:Te,createLinkRef:Ue},children:(0,n.jsx)(tr.Z,{title:P.Ob.format("container.create"),trigger:j.showTrigger?(0,n.jsx)(he.ZP,{type:"primary",disabled:!L.canSeeContainerListManageCreate,children:P.Ob.format("container.create")}):void 0,drawerProps:{width:me.R_,rootClassName:"createAppWapper"},ref:pe,formRef:x,onFinish:function(){var I=S()(l()().mark(function y(a){var te,Oe,ae,le,ue,de,be;return l()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if((te=pe.current)===null||te===void 0||te.loading(),de={id:a.id,siteTitle:a.siteTitle,siteName:a.siteName,hostname:a.hostname,imageName:a.imageName,environment:a.environment,links:a.links,ports:a.ports,volumes:a.volumes,network:a.network&&a.network.map(function(q){return rn().isArray(q.alise)||(q.alise=[q.alise]),q}),privileged:(Oe=a.privileged)!==null&&Oe!==void 0?Oe:!1,autoRemove:(ae=a.autoRemove)!==null&&ae!==void 0?ae:!1,restartPolicy:a.restart,cpus:a.cpus,memory:a.memory,shmsize:(le=a.shmsize)!==null&&le!==void 0?le:0,workDir:a.workDir&&!a.workDir.useDefault?a.workDir.value:"",user:a.user&&!a.user.useDefault?a.user.value:"",groupAdd:a.groupAdd,command:a.command&&!a.command.useDefault?a.command.value:"",entrypoint:a.entrypoint&&!a.entrypoint.useDefault?a.entrypoint.value:"",useHostNetwork:a.useHostNetwork,bindIpV6:a.bindIpV6,log:a.log,dns:a.dns,label:a.label,publishAllPorts:a.publishAllPorts,extraHosts:a.extraHosts,ipV4:a.ipV4,ipV6:a.ipV6,device:a.device,gpus:a.gpus,hook:a.hook,hostPid:a.hostPid,capAdd:a.capAdd,useBridgeNetwork:(ue=a.useBridgeNetwork)!==null&&ue!==void 0?ue:!0},!(!a.useBridgeNetwork&&!a.useHostNetwork&&(!a.network||a.network.length==0))){X.next=5;break}return se.error(ne.format("createMessageNoBridgeNetworkMustHasUseNetwork")),X.abrupt("return",!1);case 5:return a.useBridgeNetwork&&de.network&&!de.network.find(function(q){return q.name=="bridge"})&&de.network.push({name:"bridge",alise:[],ipV4:""}),a.healthcheck&&a.healthcheck.cmd&&a.healthcheck.cmd!=""&&(de.healthcheck=a.healthcheck),X.next=9,(0,Ce.$G)(de).finally(function(){var q;(q=pe.current)===null||q===void 0||q.finish()});case 9:return be=X.sent,j.onFinish&&j.onFinish(be.data.containerId),X.abrupt("return",!0);case 12:case"end":return X.stop()}},y)}));return function(y){return I.apply(this,arguments)}}(),open:re,onOpenChange:function(y){var a;O(y),!y&&((a=x.current)===null||a===void 0||a.resetFields())},children:(0,n.jsxs)(p.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,n.jsxs)(p.Z,{ghost:!0,title:ne.format("createTitle"),children:[(0,n.jsx)(G.Z,{hidden:!0,name:"id"}),(0,n.jsx)(c.Z,{name:"siteTitle",label:ne.format("createSiteTitle"),placeholder:ne.format("createSiteTitleEmpty")}),(0,n.jsxs)(oe.UW,{children:[(0,n.jsx)(c.Z,{width:"md",name:"siteName",label:ne.format("createSiteName"),required:!0,rules:[{required:!0}],tooltip:"".concat(F.format("createParamsDemo",{params:"--name string"})),placeholder:ne.format("createSiteNameEmpty")}),(0,n.jsx)(c.Z,{label:"Hostname",name:"hostname",width:"md",tooltip:"".concat(F.format("createParamsDemo",{params:"--hostname string"}))})]}),(0,n.jsx)($n,{fromImageId:""})]}),(0,n.jsx)(z.Z,{offsetTop:10,target:function(){return document.querySelector(".createAppWapper .ant-drawer-body")},children:(0,n.jsx)(p.Z,{style:{margin:-20},children:(0,n.jsx)(g.Z,{activeKey:v,onChange:function(y){K(y)},items:F.option("createTabOption",["basic","link","run-command","resource","cap"]).map(function(I){return{label:I.label,key:I.value}})})})}),(0,n.jsxs)(Je.Z,{show:v=="basic",children:[(0,n.jsx)(On.Z,{ref:Ie,showBindHost:!0,showBindIpV6:!0,showBindAll:!0}),(0,n.jsx)(W.Z,{showAddButton:!0,showImportButton:!0,showCodeMode:!0,ref:Te,drawerProps:{title:F.format("createEnvTitle"),tooltip:"".concat(F.format("createParamsDemo",{params:"-e, --env list"})),ghost:!0}}),(0,n.jsx)(H.Z,{showDefault:!0,ref:b}),(0,n.jsx)(M.Z,{name:["siteName","useHostNetwork"],children:function(y){var a=y.siteName,te=y.useHostNetwork;if(!te)return(0,n.jsx)(xn,{})}}),(0,n.jsx)(rr.Z,{}),(0,n.jsx)(xe.Z,{})]}),(0,n.jsxs)(Je.Z,{show:v=="link",children:[(0,n.jsx)(M.Z,{name:["siteName","useHostNetwork"],children:function(y){var a=y.siteName,te=y.useHostNetwork;return te?(0,n.jsx)(p.Z,{children:(0,n.jsx)(d.Z,{showIcon:!0,description:ne.format("createNetworkDesc")})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Me,{onAddEnv:function(ae,le){var ue;(ue=Te.current)===null||ue===void 0||ue.addEnvItem(ae,le)},ref:Ue}),(0,n.jsx)(fe,{showUseBridgeNetwork:!0,siteName:a}),(0,n.jsx)(yn.Z,{})]})}}),(0,n.jsx)(Gn,{})]}),(0,n.jsxs)(Je.Z,{show:v=="run-command",children:[(0,n.jsxs)(oe.UW,{children:[(0,n.jsx)(Qn.Z,{ghost:!0,defaultValue:"always",showLabel:!0}),(0,n.jsx)(Ae,{})]}),(0,n.jsx)(Xn.Z,{showCommand:!0,showEntrypoint:!0,showWorkDir:!0,showUser:!0}),(0,n.jsx)(Jn.Z,{}),(0,n.jsx)(wn,{})]}),(0,n.jsxs)(Je.Z,{show:v=="resource",children:[(0,n.jsx)(er.Z,{}),(0,n.jsx)(Yn.Z,{showShmsize:!0}),(0,n.jsx)(zn,{})]}),(0,n.jsx)(Je.Z,{show:v=="cap",children:(0,n.jsx)(Tn.Z,{})})]})})})}),or=ar},92067:function(Be,Pe,e){e.d(Pe,{Z:function(){return he}});var Ee=e(15009),D=e.n(Ee),_e=e(99289),l=e.n(_e),V=e(13822),U=e(64789),E=e(9773),S=e(42075),$=e(83062),A=e(83622),p=e(37413),G=e(5251),c=e(36146),oe=e(67255),M=e(85893);function he(z){return(0,M.jsx)(E.Z,{columns:[{title:c.FD.format("listContainerName"),dataIndex:"name",render:function(d,t,o,Z){return(0,M.jsx)(S.Z,{direction:"vertical",style:{textAlign:"left"},children:t==null?void 0:t.Names.map(function(w){return(0,G.fi)(w,"/")})},t.Id)}},{title:c.FD.format("listPort"),dataIndex:"ports",search:!1,render:function(d,t,o,Z){var w=[],Y=[];return t!=null&&t.Ports&&t.Ports.map(function(R,u){R.PublicPort?w.push(R):Y.push(R)}),(0,M.jsx)(p.Z,{publicPort:w,privatePort:Y,domain:[]})}},{title:c.FD.format("listManage"),valueType:"option",key:"option",ellipsis:!0,width:100,render:function(d,t,o,Z){return[(0,M.jsx)($.Z,{title:c.FD.format("listManageUse"),children:(0,M.jsx)(A.ZP,{type:"link",onClick:l()(D()().mark(function w(){var Y;return D()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,V.jV)({md5:t.Id});case 2:Y=u.sent,z.onSelect&&z.onSelect(Y.data.info);case 4:case"end":return u.stop()}},w)})),children:(0,M.jsx)(U.Z,{})},t.Id)},t.Id)]}}],rowKey:"Id",request:function(){var g=l()(D()().mark(function d(t,o,Z){var w;return D()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,V.IE)({siteTitle:t.name});case 2:return w=R.sent,R.abrupt("return",{data:w.data.list,success:!0,total:w.data.list.length});case 4:case"end":return R.stop()}},d)}));return function(d,t,o){return g.apply(this,arguments)}}(),pagination:(0,oe.Oh)()})}},20743:function(Be,Pe,e){var Ee=e(15009),D=e.n(Ee),_e=e(99289),l=e.n(_e),V=e(5574),U=e.n(V),E=e(67294),S=e(14946),$=e(64789),A=e(9773),p=e(83622),G=e(85265),c=e(42075),oe=e(66309),M=e(16970),he=e(3616),z=e(36146),g=e(67255),d=e(85893),t=(0,E.forwardRef)(function(o,Z){(0,E.useImperativeHandle)(Z,function(){return{show:function(){u(!0)}}});var w=(0,E.useState)(!1),Y=U()(w,2),R=Y[0],u=Y[1],C=(0,E.useRef)(),T=new z.Uo("components.network");return(0,d.jsxs)(d.Fragment,{children:[o.showTriggerButton&&(0,d.jsx)(p.ZP,{onClick:function(){u(!0)},children:T.format("selectTriggerButton")}),(0,d.jsx)(G.Z,{title:T.format("selectDrawerTitle"),width:he.R_,footer:!1,open:R,onClose:function(){return u(!1)},extra:(0,d.jsx)(c.Z,{children:(0,d.jsx)(M.Z,{onFinish:function(){var B,m;!((B=C.current)===null||B===void 0)&&B.reloadAndRest&&((m=C.current)===null||m===void 0||m.reloadAndRest())}},"create")}),children:(0,d.jsx)(A.Z,{rowKey:"Name",actionRef:C,columns:[{title:z.FD.format("listTitle"),dataIndex:"Name",render:function(B,m,me,P,N){return m.Name=="none"||m.Name=="bridge"||m.Name=="host"?(0,d.jsxs)(d.Fragment,{children:[m.Name," ",(0,d.jsx)(oe.Z,{color:"blue",children:"System"})]}):(0,d.jsx)(d.Fragment,{children:B})}},{title:z.FD.format("listType"),ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"Driver",ellipsis:!0,width:100,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",search:!1,width:120,render:function(B,m,me,P,N){return m.IPAM.Config&&m.IPAM.Config[0]&&(0,d.jsxs)(c.Z,{direction:"vertical",children:[m.IPAM.Config[0].Subnet,m.IPAM.Config[0].Gateway]})}},{title:"IPV6",search:!1,render:function(B,m,me,P,N){return m.IPAM.Config&&m.IPAM.Config[1]&&(0,d.jsxs)(c.Z,{direction:"vertical",children:[m.IPAM.Config[1].Subnet,m.IPAM.Config[1].Gateway]})}},{title:z.FD.format("listManage"),width:100,search:!1,render:function(B,m,me,P,N){return[m.Name!="none"&&m.Name!="bridge"&&m.Name!="host"&&(0,d.jsx)(p.ZP,{type:"link",onClick:function(){o.onSelect(m),u(!1)},children:(0,d.jsx)($.Z,{})},m.Id)]}}],request:function(){var i=l()(D()().mark(function B(m,me,P){var N;return D()().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.next=2,(0,S.jR)({name:m.Name});case 2:return N=ge.sent,ge.abrupt("return",{data:N.data.list,success:!0,total:N.data.list.length});case 4:case"end":return ge.stop()}},B)}));return function(B,m,me){return i.apply(this,arguments)}}(),pagination:(0,g.Oh)()})})]})});Pe.Z=t},70146:function(Be,Pe,e){e.d(Pe,{SR:function(){return G},VE:function(){return A},Zy:function(){return S},iD:function(){return oe},vG:function(){return he},yB:function(){return U}});var Ee=e(15009),D=e.n(Ee),_e=e(99289),l=e.n(_e),V=e(82346);function U(g){return E.apply(this,arguments)}function E(){return E=l()(D()().mark(function g(d){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,V.request)("/api/app/container-backup/create",{data:d,method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},g)})),E.apply(this,arguments)}function S(g){return $.apply(this,arguments)}function $(){return $=l()(D()().mark(function g(d){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,V.request)("/api/app/container-backup/get-list",{method:"POST",data:d}));case 1:case"end":return o.stop()}},g)})),$.apply(this,arguments)}function A(g){return p.apply(this,arguments)}function p(){return p=l()(D()().mark(function g(d){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,V.request)("/api/app/container-backup/delete",{method:"POST",data:d}));case 1:case"end":return o.stop()}},g)})),p.apply(this,arguments)}function G(g){return c.apply(this,arguments)}function c(){return c=l()(D()().mark(function g(d){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,V.request)("/api/app/container-backup/restore",{method:"POST",data:d}));case 1:case"end":return o.stop()}},g)})),c.apply(this,arguments)}function oe(g){return M.apply(this,arguments)}function M(){return M=l()(D()().mark(function g(d){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,V.request)("/api/app/container-backup/get-detail",{method:"POST",data:d}));case 1:case"end":return o.stop()}},g)})),M.apply(this,arguments)}function he(g){return z.apply(this,arguments)}function z(){return z=l()(D()().mark(function g(d){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,V.request)("/api/app/site/restore",{data:d,method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},g)})),z.apply(this,arguments)}},13822:function(Be,Pe,e){e.d(Pe,{IE:function(){return A},IW:function(){return S},KK:function(){return he},LJ:function(){return g},RF:function(){return Z},Re:function(){return t},aF:function(){return Y},eE:function(){return oe},jV:function(){return G}});var Ee=e(5574),D=e.n(Ee),_e=e(15009),l=e.n(_e),V=e(99289),U=e.n(V),E=e(82346);function S(u){return $.apply(this,arguments)}function $(){return $=U()(l()().mark(function u(C){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,E.request)("/api/app/container/status",{method:"POST",data:C}));case 1:case"end":return i.stop()}},u)})),$.apply(this,arguments)}function A(u){return p.apply(this,arguments)}function p(){return p=U()(l()().mark(function u(C){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,E.request)("/api/app/container/get-list",{data:C,method:"POST"}));case 1:case"end":return i.stop()}},u)})),p.apply(this,arguments)}function G(u){return c.apply(this,arguments)}function c(){return c=U()(l()().mark(function u(C){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,E.request)("/api/app/container/get-detail",{data:C,method:"POST"}));case 1:case"end":return i.stop()}},u)})),c.apply(this,arguments)}function oe(u){return M.apply(this,arguments)}function M(){return M=U()(l()().mark(function u(C){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,E.request)("/api/app/container/update",{data:C,method:"POST"}));case 1:case"end":return i.stop()}},u)})),M.apply(this,arguments)}function he(){return z.apply(this,arguments)}function z(){return z=U()(l()().mark(function u(){return l()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",(0,E.request)("/api/app/container/prune",{method:"POST"}));case 1:case"end":return T.stop()}},u)})),z.apply(this,arguments)}function g(u){return d.apply(this,arguments)}function d(){return d=U()(l()().mark(function u(C){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!C.enableExportToPath){i.next=2;break}return i.abrupt("return",(0,E.request)("/api/app/container/export",{method:"GET",params:C}));case 2:return i.abrupt("return",new Promise(function(B,m){var me=localStorage.getItem("token"),P=new URLSearchParams;P.append("token",me||""),Object.entries(C).forEach(function(ge){var Me=D()(ge,2),W=Me[0],H=Me[1];P.append(W,String(H))});var N="/api/app/container/export?".concat(P.toString()),n=document.createElement("iframe");n.style.display="none",n.src=N,document.body.appendChild(n),setTimeout(function(){n.parentElement&&document.body.removeChild(n)},5e3),B({code:200,data:"success",error:""})}));case 3:case"end":return i.stop()}},u)})),d.apply(this,arguments)}function t(u){return o.apply(this,arguments)}function o(){return o=U()(l()().mark(function u(C){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,E.request)("/api/app/container/commit",{method:"POST",data:C}));case 1:case"end":return i.stop()}},u)})),o.apply(this,arguments)}function Z(u){return w.apply(this,arguments)}function w(){return w=U()(l()().mark(function u(C){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,E.request)("/api/app/container/upgrade",{method:"POST",data:C}));case 1:case"end":return i.stop()}},u)})),w.apply(this,arguments)}function Y(u){return R.apply(this,arguments)}function R(){return R=U()(l()().mark(function u(C){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,E.request)("/api/app/container/copy",{method:"POST",data:C}));case 1:case"end":return i.stop()}},u)})),R.apply(this,arguments)}},89240:function(Be,Pe,e){e.d(Pe,{HJ:function(){return M},PD:function(){return z},Rk:function(){return he},pM:function(){return g},yi:function(){return oe},zY:function(){return d}});var Ee=e(64599),D=e.n(Ee),_e=e(5251),l=e(10531),V=e(43836),U=e(17179),E=e(74911),S=e(17637),$=e(58353),A=/^([1-9]|[1-5]?[0-9]{2,4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/m;function p(t){return A.test(t)?parseInt(t,10):0}function G(t){typeof t!="string"&&(t=t.toString());var o=l.Z(t,"-",2),Z=V.Z(o,p);return Z.length==1&&Z.push(Z[0]),Z}function c(t,o){typeof t!="string"&&(t=t.toString());var Z=null,w=t.indexOf(":");w>=0&&(Z=t.substring(0,w),t=t.substring(w+1)),o=typeof o=="number"?o:p(o);var Y=G(t),R=Math.min(Y[0],o),u=Math.max(Y[1],o);return Z?Z+":"+R+"-"+u:R+"-"+u}function oe(t){if(!t||!t.HostConfig||!t.HostConfig.PortBindings)return[];var o=[],Z=t.HostConfig.PortBindings,w=U.Z(Z),Y=E.Z(w,function(R){return l.Z(R,"/")[1]});return S.Z(Y,function(R,u){var C={},T=D()(R),i;try{for(T.s();!(i=T.n()).done;){var B=i.value,m=D()(Z[B]),me;try{for(m.s();!(me=m.n()).done;){var P=me.value;C[P.HostIp]=C[P.HostIp]||[],C[P.HostIp].push(B)}}catch(N){m.e(N)}finally{m.f()}}}catch(N){T.e(N)}finally{T.f()}S.Z(C,function(N,n){var ge=$.Z(N,function(H){return parseInt(l.Z(H,"/")[0],10)}),Me=-1,W=-1;S.Z(ge,function(H){var xe=l.Z(H,"/"),J=parseInt(xe[0],10),je=Z[H][0];Z[H].shift();var Ae=p(je.HostPort);if(Ae>0){if(o.length>0&&Me===Ae-1&&W===J-1){o[o.length-1].host=c(o[o.length-1].host,Ae),o[o.length-1].dest=c(o[o.length-1].dest,J),Me=Ae,W=J;return}Me=Ae,W=J}else Me=-1,W=-1;var Ce=je.HostPort.toString();n&&(Ce="".concat(n,":").concat(Ce)),o.push({host:Ce,dest:J.toString(),protocol:u})})})}),o}function M(t){return(0,_e.fi)(t,"/")}function he(t){return t?(0,_e.FI)(t):"64M"}function z(t){return t&&t>1e8?t/1e9:0}function g(t){return t?t/1024/1024:0}function d(t){return"".concat(M(t),".pod.dpanel.local")}}}]);
