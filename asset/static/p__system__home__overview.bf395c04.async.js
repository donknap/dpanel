"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8566],{1699:function(ne,T,t){t.d(T,{u:function(){return x}});var R=t(9783),s=t.n(R),A=t(97857),g=t.n(A),M=t(67294),D=t(82346),I=t(40411),v=t(42075),b=t(85893),x=function(d){var o=(0,D.useAccess)(),a=Array.isArray(d.access)?d.access:[d.access],p,_=d.fallback;if(typeof d.children=="function"?(p=d.children(a.reduce(function(y,e){return g()(g()({},y),{},s()({},e,o[e]))},{})),p||(p=_)):a.every(function(y){return o[y]})?p=d.children:p=_,!_&&p&&d.showProTips&&o.canSeeEnableCe){if(o.canSeeEnableHiddenProTips)return null;p=(0,b.jsx)(I.Z,{offset:d.showProTipsOffset,count:"PRO",color:"gold",style:{fontWeight:"bold"},children:p})}if(!_&&p&&d.showProRibbonTips&&o.canSeeEnableCe){if(o.canSeeEnableHiddenProTips)return null;p=(0,b.jsx)(I.Z.Ribbon,{text:"PRO",color:"gold",style:{fontWeight:"bold"},children:p})}return d.space?(0,b.jsx)(v.Z,g()(g()({},d.space),{},{children:p})):p}},80821:function(ne,T,t){t.d(T,{Z:function(){return o}});var R=t(97857),s=t.n(R),A=t(5574),g=t.n(A),M=t(24963),D=t(36146),I=t(86738),v=t(83062),b=t(96074),x=t(83622),Z=t(67294),d=t(85893);function o(a){var p=(0,Z.useState)(!1),_=g()(p,2),y=_[0],e=_[1],l=(0,Z.useContext)(M.Z),le=l.message,re=function(){e(!0);var Ee=a.action();Ee instanceof Promise?Ee.then(function(me){if(e(!1),me){typeof a.onSuccess=="function"&&a.onSuccess(me);var xe=D.FD.format("finish");le.success(xe)}}).catch(function(me){e(!1),typeof a.onError=="function"&&a.onError(me)}):e(!1)};if(a.confirmProps){var K,O,ve,_e,oe,F,he,ge=a.confirmProps.description;return a.confirmProps.showCommonConfirm&&(ge=D.FD.format("confirm.title")),a.confirmProps.showCommonDisabled&&(ge=D.FD.format("confirm.disable")),(0,d.jsx)(I.Z,s()(s()({},a.confirmProps),{},{style:{width:500},title:(K=a.confirmProps)!==null&&K!==void 0&&K.title?(O=a.confirmProps)===null||O===void 0?void 0:O.title:D.FD.format("title.tip"),description:ge,onConfirm:re,okText:"Yes",cancelText:"No",children:(0,d.jsxs)(v.Z,{title:a.tips,children:[a.showDivider&&(0,d.jsx)(b.Z,{type:"vertical",style:{marginRight:15}}),(0,d.jsx)(x.ZP,s()(s()({},a.buttonProps),{},{ghost:((ve=a.buttonProps)===null||ve===void 0?void 0:ve.ghost)&&((_e=a.buttonProps)===null||_e===void 0?void 0:_e.type)!=="link",style:(oe=a.buttonProps)!==null&&oe!==void 0&&oe.ghost?s()(s()({},a.buttonProps.style),{},{padding:0,width:"auto"}):s()({},(F=a.buttonProps)===null||F===void 0?void 0:F.style),icon:!a.children&&y||(he=a.buttonProps)===null||he===void 0?void 0:he.icon,loading:y,children:a.children}))]})}))}else{var je,de,ce,pe,De;return(0,d.jsxs)(v.Z,{title:a.tips,children:[a.showDivider&&(0,d.jsx)(b.Z,{type:"vertical",style:{marginRight:15}}),(0,d.jsx)(x.ZP,s()(s()({},a.buttonProps),{},{ghost:((je=a.buttonProps)===null||je===void 0?void 0:je.ghost)&&((de=a.buttonProps)===null||de===void 0?void 0:de.type)!=="link",style:(ce=a.buttonProps)!==null&&ce!==void 0&&ce.ghost?s()(s()({},a.buttonProps.style),{},{padding:0,width:"auto"}):s()({},(pe=a.buttonProps)===null||pe===void 0?void 0:pe.style),icon:!a.children&&y||(De=a.buttonProps)===null||De===void 0?void 0:De.icon,loading:y,onClick:re,children:a.children}))]})}}},27619:function(ne,T,t){t.d(T,{Z:function(){return I}});var R=t(5574),s=t.n(R),A=t(82346),g=t(67294),M=t(64389),D=t(85893);function I(v){var b=(0,A.useModel)("@@initialState"),x=b.initialState,Z="chart-area-".concat(v.name),d=(0,g.useState)(),o=s()(d,2),a=o[0],p=o[1],_={};v.data.forEach(function(e){e.show===!1?_[e.name]=!1:_[e.name]=!0});var y={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}},valueFormatter:function(l){return v.yValueFormatter?v.yValueFormatter(l):l}},legend:{selected:_},grid:{left:"0",right:"0",bottom:"0",top:"30",containLabel:!0},xAxis:{type:"category",data:v.data[0].data.map(function(e){return e.date}),boundaryGap:!1,axisLabel:{rotate:20}},yAxis:{type:"value",axisLabel:{formatter:v.yLabelFormatter},max:function(l){if(v.yDomainMaxCallback)return v.yDomainMaxCallback(l)}},series:[]};return(0,g.useEffect)(function(){var e="",l=window.matchMedia("(prefers-color-scheme: dark)");(x==null?void 0:x.theme.algorithm)=="dark"||l.matches?e="dark":e="",a&&!a.isDisposed()&&a.dispose();var le=document.getElementById(Z),re=M.S1(le,e);re.setOption(y);var K=new ResizeObserver(function(){re.resize()});le&&K.observe(le),p(re)},[x]),(0,g.useEffect)(function(){a&&!a.isDisposed()&&a.setOption({legend:{data:v.data.map(function(e){return e.name})},xAxis:{data:v.data[0].data.map(function(e){return e.date})},series:v.data.map(function(e){return{name:e.name,type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:e.data.map(function(l){return l.value})}})})},[v.data]),(0,D.jsx)("div",{style:{height:200},id:Z})}},3616:function(ne,T,t){t.d(T,{Ed:function(){return g},FK:function(){return s},R_:function(){return R},ob:function(){return A}});var R=window.innerWidth<=1024?"90vw":"65vw",s="90vw",A="60vw",g="50vh"},24963:function(ne,T,t){var R=t(67294),s=(0,R.createContext)({});T.Z=s},55617:function(ne,T,t){t.r(T),t.d(T,{default:function(){return Ge}});var R=t(15009),s=t.n(R),A=t(99289),g=t.n(A),M=t(5574),D=t.n(M),I=t(19632),v=t.n(I),b=t(1699),x=t(80821),Z=t(27619),d=t(3616),o=t(5251),a=t(36146),p=t(184),_=t(25593),y=t(60940),e=t(85893),l=new a.Uo("components.containerStat");function le(W){return(0,e.jsx)(p.a,{drawerProps:{width:d.R_},title:l.format("detailTitle"),submitter:!1,trigger:(0,e.jsx)(_.Z.Link,{children:a.FD.format("listManageDetail")}),children:(0,e.jsx)(y.Z,{pagination:!1,dataSource:W.data,rowKey:"name",columns:[{title:a.FD.format("listContainerName"),dataIndex:"name"},{title:"Cpu",dataIndex:"cpu",sorter:function(E,m){return E.cpu-m.cpu},render:function(E,m,P){return"".concat(m.cpu.toFixed(2),"%")}},{title:"Memory",dataIndex:"memory",sorter:function(E,m){return E.memory.in-m.memory.in},render:function(E,m,P){var N,V;return"".concat((0,o.FI)((N=m==null?void 0:m.memory.in)!==null&&N!==void 0?N:0)," / ").concat((0,o.FI)((V=m==null?void 0:m.memory.out)!==null&&V!==void 0?V:0))}},{title:a.FD.format("listNetworkIO"),dataIndex:"networkIO",width:180,render:function(E,m,P){return"".concat((0,o.FI)(m.networkIO.in)," / ").concat((0,o.FI)(m.networkIO.out))}},{title:a.FD.format("listDiskIO"),dataIndex:"blockIO",width:180,render:function(E,m,P){return"".concat((0,o.FI)(m.blockIO.in)," / ").concat((0,o.FI)(m.blockIO.out))}}]})})}var re=t(97857),K=t.n(re),O=t(67294),ve=t(64389),_e={tooltip:{show:!0,formatter:function(j){return j&&j.data&&j.data.tooltipItem?j.data.tooltipItem.map(function(E){return"<div>".concat(E.field,": ").concat(E.content,"</div>")}).join(" "):"".concat(j.data.name,": ").concat((0,o.FI)(j.data.value))}},legend:{selectedMode:"single",top:0,itemGap:5},series:[]},oe={name:"",type:"treemap",left:0,right:0,top:30,bottom:0,roam:!1,label:{show:!0},levels:[{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}},{itemStyle:{gapWidth:2}}],sort:!0,leafDepth:1,data:[]},F=new a.Uo("components.containerStat"),he=(0,O.forwardRef)(function(W,j){var E=(0,O.useState)(),m=D()(E,2),P=m[0],N=m[1];(0,O.useImperativeHandle)(j,function(){return{show:V}});function V(S){if(!S.Containers||!S.Images){P&&P.setOption({series:[K()(K()({},oe),{},{name:"",data:[{name:F.format("usageEmpty"),value:1}]})]});return}var C=[],L=[];S.Containers&&S.Containers.forEach(function(u){var U,J,X,Y=u.SizeRootFs+((U=u.SizeRw)!==null&&U!==void 0?U:0),te=[];u.Mounts&&u.Mounts.forEach(function(Q){var ae=S.Volumes&&S.Volumes.find(function(Ie){return Ie.Name==Q.Name});ae&&(Y+=ae.UsageData.Size,te.push({name:F.format("usageVolume",{name:Q.Name}),value:ae.UsageData.Size,children:[]}))});var ue={name:(0,o.fi)(u.Names[0],"/"),value:Y,tooltipItem:[{field:(0,o.fi)(u.Names[0],"/"),content:(0,o.FI)(Y)},{field:F.format("usageContainerRootFs"),content:(0,o.FI)((J=u.SizeRootFs)!==null&&J!==void 0?J:0)},{field:F.format("usageContainerRw"),content:(0,o.FI)((X=u.SizeRw)!==null&&X!==void 0?X:0)}],children:[{name:F.format("usageContainerRootFs"),value:u.SizeRootFs,children:[]},{name:F.format("usageContainerRw"),value:u.SizeRw,children:[]}]};if(te&&te.length>0){var fe,ie;(fe=ue.children).push.apply(fe,te),(ie=ue.tooltipItem)===null||ie===void 0||ie.push.apply(ie,v()(te.map(function(Q){var ae;return{field:Q.name,content:(0,o.FI)((ae=Q.value)!==null&&ae!==void 0?ae:0)}})))}L.push(ue)}),C.push(K()(K()({},oe),{},{name:F.format("usageTitleContainer"),data:L})),L=[],S.Images&&S.Images.forEach(function(u){var U,J,X,Y;L.push({name:u.RepoTags?u.RepoTags[0]:u.Id.substring(7,19),value:u.Size+((U=u.SharedSize)!==null&&U!==void 0?U:0),tooltipItem:[{field:u.RepoTags?u.RepoTags[0]:u.Id.substring(7,19),content:(0,o.FI)(u.Size+((J=u.SharedSize)!==null&&J!==void 0?J:0))},{field:F.format("usageImageSize"),content:(0,o.FI)((X=u.Size)!==null&&X!==void 0?X:0)},{field:F.format("usageImageSharedSize"),content:(0,o.FI)((Y=u.SharedSize)!==null&&Y!==void 0?Y:0)}],children:[{name:F.format("usageImageSize"),value:u.Size,children:[]},{name:F.format("usageImageSharedSize"),value:u.SharedSize,children:[]}]})}),C.push(K()(K()({},oe),{},{name:F.format("usageTitleImage"),data:L})),L=[],S.Volumes&&S.Volumes.forEach(function(u){L.push({name:u.Name,value:u.UsageData.Size,children:[]})}),C.push(K()(K()({},oe),{},{name:F.format("usageTitleVolume"),data:L})),C&&C.length>0&&P&&P.setOption({series:C,legend:{data:C.map(function(u){return u.name})}})}return(0,O.useEffect)(function(){var S=document.getElementById("docker-disk-usage"),C=ve.S1(S);C.setOption(_e);var L=new ResizeObserver(function(){C&&C.resize()});return S&&L.observe(S),N(C),function(){P&&P.dispose(),N(void 0)}},[]),(0,O.useEffect)(function(){P&&V(W.data.usage)},[P,W.data]),(0,e.jsx)("div",{style:{height:450},id:"docker-disk-usage"})}),ge=he,je=t(55241),de=t(71230),ce=t(15746),pe=t(38703),De=(0,O.forwardRef)(function(W,j){return(0,O.useImperativeHandle)(j,function(){return{}}),(0,e.jsxs)(je.Z,{placement:"left",children:[(0,e.jsx)(de.Z,{justify:"center",children:(0,e.jsx)(ce.Z,{children:(0,e.jsx)(pe.Z,{percent:W.showPercent,type:"dashboard",format:function(m,P){return"".concat(m,"%")},size:150,status:W.showPercent>=100?"exception":"normal"})})}),(0,e.jsx)(de.Z,{justify:"center",children:(0,e.jsxs)(ce.Z,{style:{marginTop:"10px"},children:[W.showLabel,": ",W.showUse," / ",W.showTotal]})})]})}),Pe=De,Ee=t(24963),me=t(87662),xe=t(2831),Ae=t(97841),Be=t(20578),Ke=t(45605),ze=t(1210),Se=t(12122),k=t(38345),B=t(88273),H=t(82346),ee=t(42075),$=t(26412),be=t(83062),$e=t(40411),Ne=t(86250),i=new a.Uo("system.home.overview"),Ve=function(j,E){switch(E.type){case"update":var m=new Date().toLocaleTimeString(),P=0,N=0,V=0,S=0,C=0,L=0;E.payload&&E.payload.forEach(function(U){P+=U.cpu,N+=U.memory.in,V+=U.networkIO.in,S+=U.networkIO.out,C+=U.blockIO.in,L+=U.blockIO.out});var u={list:E.payload,cpu:P,memory:N,network:[{name:i.format("runStatNetworkOut"),data:[].concat(v()(j.network[0].data.slice(-20)),[{date:m,value:S.toString()}])},{name:i.format("runStatNetworkIn"),data:[].concat(v()(j.network[1].data.slice(-20)),[{date:m,value:V.toString()}])}],io:[{name:i.format("runStatIoOut"),data:[].concat(v()(j.io[0].data.slice(-20)),[{date:m,value:L.toString()}])},{name:i.format("runStatIoIn"),data:[].concat(v()(j.io[1].data.slice(-20)),[{date:m,value:C.toString()}])}]};return u}};function Ge(){var W,j,E,m,P,N,V,S,C,L,u,U,J,X,Y,te,ue,fe,ie,Q=(0,H.useAccess)(),ae=(0,O.useState)(),Ie=D()(ae,2),G=Ie[0],He=Ie[1],Je=(0,O.useState)(),Me=D()(Je,2),n=Me[0],Xe=Me[1],Ye=(0,O.useState)(),Ue=D()(Ye,2),r=Ue[0],Qe=Ue[1],qe=(0,O.useState)(),Re=D()(qe,2),ye=Re[0],Ze=Re[1],et=(0,O.useState)(),Fe=D()(et,2),Oe=Fe[0],tt=Fe[1],at=(0,O.useReducer)(Ve,{cpu:0,memory:0,network:[{name:i.format("runStatNetworkOut"),data:[]},{name:i.format("runStatNetworkIn"),data:[]}],io:[{name:i.format("runStatIoOut"),data:[]},{name:i.format("runStatIoIn"),data:[]}],list:[]}),Le=D()(at,2),w=Le[0],ke=Le[1],nt=(0,O.useContext)(Ee.Z),We=nt.loading,Ce=(0,H.useModel)("subscriber");Ce.addDataHandler("container:stat",function(f){ke({type:"update",payload:f.data})}),Ce.addDataHandler("stat:diskUsage",function(f){Ze(f.data)});function we(){return Te.apply(this,arguments)}function Te(){return Te=g()(s()().mark(function f(){var c,h,q;return s()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return We.show(),z.next=3,(0,xe.aF)().finally(function(){We.destroy()});case 3:return c=z.sent,Xe(c.data),z.next=7,(0,xe.Ll)();case 7:return h=z.sent,Qe(h.data),Ze(h.data.diskUsage),z.next=12,(0,me.Cz)({follow:!0});case 12:q=z.sent,ke({type:"update",payload:[]});case 14:case"end":return z.stop()}},f)})),Te.apply(this,arguments)}return(0,O.useEffect)(function(){return we(),!Q.canSeeEnableCe&&(0,Be.q)().then(function(f){He(f.data)}),(0,xe.u5)().then(function(f){tt(f.data)}),function(){Ce.progress.close("container:stat")}},[]),(0,e.jsxs)(k.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,e.jsxs)(k.Z,{bordered:!0,split:"vertical",wrap:!0,children:[(0,e.jsx)(k.Z,{style:{height:"570px",overflow:"hidden"},colSpan:{xs:24,sm:24,md:24,lg:9,xl:9},headerBordered:!0,title:(0,e.jsx)(Ke.Z,{}),subTitle:i.format("basicInfoTitle"),extra:(0,e.jsx)(ee.Z,{children:Q.canSeeEnableCe&&Q.canSeeEnableInDPanel&&(0,e.jsx)("a",{href:"https://dpanel.cc/pro",target:"_blank",children:new a.Uo("components.systemBasic").format("proBuyButton")},"proLink")}),children:(0,e.jsxs)($.Z,{column:1,styles:{label:{width:120,justifyContent:"flex-end"}},children:[(0,e.jsx)($.Z.Item,{label:i.format("basicDPanelTitleVersion"),children:(0,e.jsxs)(ee.Z,{direction:"horizontal",wrap:!0,children:[n==null?void 0:n.dpanel.version," - ",n==null?void 0:n.dpanel.env," - ",n==null?void 0:n.dpanel.family,Q.canSeeEnableInDPanel&&(0,e.jsx)(be.Z,{title:i.format("basicDPanelTitleUpgradeInfo"),children:(0,e.jsx)("a",{target:"_blank",href:"https://github.com/donknap/dpanel/releases",children:(0,e.jsx)(ze.Z,{})})}),Oe&&Oe.newVersion!=""&&(0,e.jsx)(H.Link,{to:"/system/upgrade",children:(0,e.jsx)($e.Z,{count:Oe.newVersion,size:"small"})})]})}),(0,e.jsxs)($.Z.Item,{label:"Docker Host",children:[n==null?void 0:n.info.Name," ",(0,e.jsx)(e.Fragment,{children:(n==null?void 0:n.info.ID)==""&&(0,e.jsx)(H.Link,{to:"/system/env",state:{name:"local",t:(0,o.Fs)()},children:i.format("basicEnvSettingDefaultEnv")})})]}),(0,e.jsx)($.Z.Item,{label:i.format("basicDockerTitleVersion"),children:"Server: ".concat(n==null?void 0:n.info.ServerVersion," / Client: ").concat(n==null?void 0:n.clientVersion)}),(0,e.jsx)($.Z.Item,{label:"Docker SDK",children:"".concat(n==null?void 0:n.sdkVersion)}),(0,e.jsx)($.Z.Item,{label:i.format("basicDockerTitleFileDriver"),children:"".concat(n==null?void 0:n.info.Driver)}),(0,e.jsx)($.Z.Item,{label:i.format("basicDockerTitleLogDriver"),children:"".concat(n==null?void 0:n.info.LoggingDriver)}),(0,e.jsx)($.Z.Item,{label:i.format("basicDockerTitleSystemVersion"),children:"".concat(n==null?void 0:n.info.OperatingSystem," - ").concat(n==null?void 0:n.info.KernelVersion," - ").concat(n==null?void 0:n.info.Architecture)}),(0,e.jsxs)($.Z.Item,{label:"Cpu / Mem",children:[n==null?void 0:n.info.NCPU," ",a.FD.format("unitCpu")," / ",(0,o.FI)((W=n==null?void 0:n.info.MemTotal)!==null&&W!==void 0?W:0)]}),(0,e.jsx)($.Z.Item,{label:i.format("basicDockerTitleRootDir"),children:n==null?void 0:n.info.DockerRootDir}),(0,e.jsx)($.Z.Item,{label:i.format("basicDockerTitlePluginsVolume"),children:(0,e.jsx)(ee.Z,{children:n==null?void 0:n.info.Plugins.Volume})}),(0,e.jsx)($.Z.Item,{label:i.format("basicDockerTitlePluginsNetwork"),children:(0,e.jsx)(ee.Z,{wrap:!0,children:n==null?void 0:n.info.Plugins.Network})}),(0,e.jsx)($.Z.Item,{label:i.format("basicDockerTitleSystemTime"),children:new Date((j=n==null?void 0:n.info.SystemTime)!==null&&j!==void 0?j:"").toLocaleString()})]})}),(0,e.jsxs)(k.Z,{headerBordered:!0,colSpan:{xs:24,sm:24,md:24,lg:15,xl:15},title:(0,e.jsx)(Se.Z,{}),subTitle:i.format("runStatTitle"),split:"horizontal",extra:(0,e.jsx)(ee.Z,{children:w.list&&(0,e.jsx)(le,{data:w.list})}),children:[(0,e.jsx)(k.Z,{children:(0,e.jsxs)(Ne.Z,{gap:50,align:"center",justify:"space-evenly",children:[(0,e.jsx)(Pe,{showPercent:parseFloat((((E=w==null?void 0:w.cpu)!==null&&E!==void 0?E:0)/((m=n==null?void 0:n.info.NCPU)!==null&&m!==void 0?m:0)).toFixed(2)),showLabel:"Cpu",showUse:"".concat(((P=w==null?void 0:w.cpu)!==null&&P!==void 0?P:0).toFixed(2)),showTotal:"".concat((N=n==null?void 0:n.info.NCPU)!==null&&N!==void 0?N:0," ").concat(a.FD.format("unitCpu"))}),(0,e.jsx)(Pe,{showPercent:parseFloat((((V=w==null?void 0:w.memory)!==null&&V!==void 0?V:0)/((S=n==null?void 0:n.info.MemTotal)!==null&&S!==void 0?S:0)*100).toFixed(2)),showLabel:"Memory",showUse:(0,o.FI)((C=w==null?void 0:w.memory)!==null&&C!==void 0?C:0),showTotal:"".concat((0,o.FI)((L=n==null?void 0:n.info.MemTotal)!==null&&L!==void 0?L:0))})]})}),(0,e.jsxs)(k.Z,{split:"vertical",wrap:!0,children:[(0,e.jsx)(k.Z,{colSpan:12,title:(0,e.jsx)(Se.Z,{}),subTitle:i.format("usageNetwork"),headerBordered:!0,children:(0,e.jsx)(Z.Z,{data:w.network,yLabelFormatter:function(c){return(0,o.FI)(parseFloat(c))},yValueFormatter:function(c){return(0,o.FI)(parseFloat(c))},yDomainMaxCallback:function(c){return c.max*1.5},name:"network"})}),(0,e.jsx)(k.Z,{colSpan:12,title:(0,e.jsx)(Se.Z,{}),subTitle:i.format("usageDisk"),headerBordered:!0,children:(0,e.jsx)(Z.Z,{name:"disk",data:w.io,yLabelFormatter:function(c){return(0,o.FI)(parseFloat(c))},yValueFormatter:function(c){return(0,o.FI)(parseFloat(c))},yDomainMaxCallback:function(c){return c.max*1.5}})})]})]})]}),(0,e.jsxs)(k.Z,{bordered:!0,headerBordered:!0,title:(0,e.jsx)(Se.Z,{}),subTitle:i.format("usageTitle"),wrap:!0,extra:(0,e.jsx)(ee.Z,{children:(0,e.jsx)("span",{children:ye&&ye.updatedAt?"".concat(i.format("usageLastUpgradeTime")," ").concat((0,o.NF)(ye.updatedAt)):""},"lastUpdate")},"size"),children:[(0,e.jsx)(k.Z,{colSpan:{xs:24,sm:24,md:24,lg:24,xl:12,xxl:12},ghost:!0,children:ye&&(0,e.jsx)(ge,{data:ye})}),(0,e.jsxs)(k.Z,{colSpan:{xs:24,sm:8,md:8,lg:8,xl:4,xxl:4},split:"horizontal",ghost:!0,children:[(0,e.jsx)(B.Z,{statistic:{title:(0,e.jsx)(ee.Z,{children:i.format("usageContainer")}),value:r!=null&&r.diskUsage.usage.Containers?(0,o.FI)((u=r.diskUsage.usage.Containers.reduce(function(f,c){var h;return f+c.SizeRootFs+((h=c.SizeRw)!==null&&h!==void 0?h:0)},0))!==null&&u!==void 0?u:0):0,description:i.format("usageDescContainer")}}),(0,e.jsx)(B.Z,{statistic:{title:(0,e.jsx)(ee.Z,{children:i.format("usageImage")}),value:r!=null&&r.diskUsage.usage.Images?(0,o.FI)((U=r.diskUsage.usage.Images.reduce(function(f,c){var h;return f+(c.Size+((h=c.SharedSize)!==null&&h!==void 0?h:0))},0))!==null&&U!==void 0?U:0):0,description:i.format("usageDescImage")}}),(0,e.jsx)(B.Z,{statistic:{title:(0,e.jsx)(ee.Z,{children:i.format("usageVolume")}),value:r!=null&&r.diskUsage.usage.Volumes?(0,o.FI)((J=r.diskUsage.usage.Volumes.reduce(function(f,c){return f+c.UsageData.Size},0))!==null&&J!==void 0?J:0):0,description:i.format("usageDescVolume")}}),(0,e.jsx)(B.Z,{statistic:{title:i.format("usageBuildCache"),value:r!=null&&r.diskUsage.usage.BuildCache?(0,o.FI)((X=r.diskUsage.usage.BuildCache.reduce(function(f,c){return f+c.Size},0))!==null&&X!==void 0?X:0):0,description:(0,e.jsx)(b.u,{access:"canSeeHomeOverviewClear",children:(0,e.jsx)(x.Z,{action:function(){return(0,Ae.c5)()},buttonProps:{type:"link",ghost:!0},onSuccess:function(){we()},children:a.FD.format("listManageClear")})})}})]}),(0,e.jsxs)(k.Z,{colSpan:{xs:24,sm:16,md:16,lg:16,xl:8,xxl:8},ghost:!0,split:"horizontal",children:[(0,e.jsx)(k.Z,{ghost:!0,children:(0,e.jsxs)(B.Z.Group,{children:[(0,e.jsx)(B.Z,{statistic:{title:i.format("usageContainer"),value:(Y=n==null?void 0:n.info.Containers)!==null&&Y!==void 0?Y:0,description:(0,e.jsx)(H.Link,{to:"/app/list",children:a.FD.format("listManageDetail")})}}),!Q.canSeeEnableCe&&(0,e.jsx)(B.Z,{statistic:{title:i.format("usageContainerNew"),status:"processing",valueRender:function(c){var h,q,se;return(0,e.jsx)(be.Z,{title:"".concat(a.FD.format("title.ignore"),": ").concat((h=G==null?void 0:G.ignore)!==null&&h!==void 0?h:0,` 
                      `).concat(a.FD.format("title.ignore"),": ").concat((q=G==null?void 0:G.failed)!==null&&q!==void 0?q:0,` 
                      `).concat(a.FD.format("title.local"),": ").concat((se=G==null?void 0:G.local)!==null&&se!==void 0?se:0),children:G==null?void 0:G.upgrade})}}}),(0,e.jsx)(B.Z,{statistic:{title:a.FD.format("title.warning"),status:"error",valueRender:function(c){var h,q,se,z=0;return r&&r.total&&r.total.containerRunning.stop&&(z+=r.total.containerRunning.stop),r&&r.total&&r.total.containerRunning.pause&&(z+=r.total.containerRunning.pause),r&&r.total&&r.total.containerRunning.unhealthy&&(z+=r.total.containerRunning.unhealthy),(0,e.jsx)(be.Z,{title:"".concat(new a.Uo("components.containerStatus").format("container.exited"),": ").concat((h=r==null?void 0:r.total.containerRunning.stop)!==null&&h!==void 0?h:0,`
                      `).concat(new a.Uo("components.containerStatus").format("container.paused"),": ").concat((q=r==null?void 0:r.total.containerRunning.pause)!==null&&q!==void 0?q:0,` 
                      `).concat(new a.Uo("components.containerStatus").format("container.unhealthy"),": ").concat((se=r==null?void 0:r.total.containerRunning.unhealthy)!==null&&se!==void 0?se:0),children:z})}}}),(0,e.jsx)(B.Z,{statistic:{title:i.format("usageContainerRecycle"),value:(te=r==null?void 0:r.total.containerTask)!==null&&te!==void 0?te:0,description:(0,e.jsx)(H.Link,{to:"/app/recycle",children:a.FD.format("listManageDetail")})}})]})}),(0,e.jsxs)(k.Z,{ghost:!0,children:[(0,e.jsx)(B.Z,{statistic:{title:i.format("usageImage"),value:"".concat((ue=(r==null?void 0:r.diskUsage.usage.Images)&&(r==null?void 0:r.diskUsage.usage.Images.length))!==null&&ue!==void 0?ue:0),description:(0,e.jsx)(H.Link,{to:"/image/list",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(B.Z,{statistic:{title:i.format("usageImageTask"),value:(fe=r==null?void 0:r.total.imageTask)!==null&&fe!==void 0?fe:0,description:(0,e.jsx)(H.Link,{to:"/image/create",children:a.FD.format("listManageDetail")})},chartPlacement:"left"})]}),(0,e.jsxs)(k.Z,{ghost:!0,children:[(0,e.jsx)(B.Z,{statistic:{title:i.format("usageNetwork"),value:r==null?void 0:r.total.network,description:(0,e.jsx)(H.Link,{to:"/docker/network",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(B.Z,{statistic:{title:i.format("usageNetworkPortBind"),value:r==null?void 0:r.total.port,description:(0,e.jsx)(p.a,{drawerProps:{width:d.R_},submitter:!1,title:i.format("usageNetworkPortBind"),trigger:(0,e.jsx)(_.Z.Link,{children:a.FD.format("listManageDetail")}),children:(0,e.jsx)(y.Z,{pagination:!1,dataSource:r==null?void 0:r.port,rowKey:function(c){return"".concat(c.port.host).concat(c.port.dest)},columns:[{title:i.format("usageNetworkPortBindHost"),dataIndex:["port","host"],sorter:function(c,h){return parseInt(c.port.host)-parseInt(h.port.host)},render:function(c,h,q){return h.port.host!="0"?"".concat(h.port.hostIp,":").concat(h.port.host):"-"}},{title:i.format("usageNetworkPortBindDest"),dataIndex:["port","dest"]},{title:i.format("usageNetworkPortBindName"),dataIndex:"name",render:function(c,h,q){return(0,o.fi)(h.name,"/")}}]})})},chartPlacement:"left"})]}),(0,e.jsxs)(k.Z,{ghost:!0,children:[(0,e.jsx)(B.Z,{statistic:{title:i.format("usageVolume"),value:(ie=(r==null?void 0:r.diskUsage.usage.Volumes)&&(r==null?void 0:r.diskUsage.usage.Volumes.length))!==null&&ie!==void 0?ie:0,description:(0,e.jsx)(H.Link,{to:"/docker/volume",children:a.FD.format("listManageDetail")})},chartPlacement:"left"}),(0,e.jsx)(B.Z,{statistic:{title:i.format("usageBackup"),value:r==null?void 0:r.total.backup,description:(0,e.jsx)(H.Link,{to:"/app/backup",children:a.FD.format("listManageDetail")})},chartPlacement:"left"})]})]})]})]})}},2831:function(ne,T,t){t.d(T,{Ll:function(){return x},aF:function(){return D},u5:function(){return v}});var R=t(15009),s=t.n(R),A=t(99289),g=t.n(A),M=t(82346);function D(){return I.apply(this,arguments)}function I(){return I=g()(s()().mark(function d(){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,M.request)("/api/common/home/info",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},d)})),I.apply(this,arguments)}function v(){return b.apply(this,arguments)}function b(){return b=g()(s()().mark(function d(){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,M.request)("/api/common/home/check-new-version",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},d)})),b.apply(this,arguments)}function x(){return Z.apply(this,arguments)}function Z(){return Z=g()(s()().mark(function d(){return s()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,M.request)("/api/common/home/usage",{method:"POST"});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},d)})),Z.apply(this,arguments)}},97841:function(ne,T,t){t.d(T,{Xr:function(){return d},bJ:function(){return x},c5:function(){return a},hf:function(){return D},l9:function(){return v}});var R=t(15009),s=t.n(R),A=t(99289),g=t.n(A),M=t(82346);function D(_){return I.apply(this,arguments)}function I(){return I=g()(s()().mark(function _(y){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,M.request)("/api/app/image-build/delete",{method:"POST",data:y});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},_)})),I.apply(this,arguments)}function v(_){return b.apply(this,arguments)}function b(){return b=g()(s()().mark(function _(y){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,M.request)("/api/app/image-build/create",{method:"POST",data:y}));case 1:case"end":return l.stop()}},_)})),b.apply(this,arguments)}function x(_){return Z.apply(this,arguments)}function Z(){return Z=g()(s()().mark(function _(y){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,M.request)("/api/app/image-build/get-list",{method:"POST",data:y}));case 1:case"end":return l.stop()}},_)})),Z.apply(this,arguments)}function d(_){return o.apply(this,arguments)}function o(){return o=g()(s()().mark(function _(y){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,M.request)("/api/app/image-build/get-detail",{method:"POST",data:y});case 2:return l.abrupt("return",l.sent);case 3:case"end":return l.stop()}},_)})),o.apply(this,arguments)}function a(){return p.apply(this,arguments)}function p(){return p=g()(s()().mark(function _(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,M.request)("/api/app/image-build/prune",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},_)})),p.apply(this,arguments)}},20578:function(ne,T,t){t.d(T,{q:function(){return D}});var R=t(15009),s=t.n(R),A=t(99289),g=t.n(A),M=t(82346);function D(){return I.apply(this,arguments)}function I(){return I=g()(s()().mark(function v(){return s()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,M.request)("/api/pro/container-upgrade/get-all-list",{method:"POST"});case 2:return x.abrupt("return",x.sent);case 3:case"end":return x.stop()}},v)})),I.apply(this,arguments)}}}]);
