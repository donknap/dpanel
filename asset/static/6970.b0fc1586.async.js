"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6970],{16970:function(z,U,a){var y=a(15009),i=a.n(y),V=a(99289),p=a.n(V),m=a(5574),W=a.n(m),w=a(3616),F=a(24963),I=a(14946),T=a(5251),P=a(36146),R=a(184),u=a(5966),Z=a(62370),f=a(97462),E=a(52688),c=a(24739),M=a(17186),x=a(83622),b=a(34041),g=a(71230),t=a(15746),l=a(67294),e=a(85893),r=(0,l.forwardRef)(function(L,J){var S,Q=(0,l.useState)(!1),X=W()(Q,2),q=X[0],ee=X[1],O=(0,l.useRef)(),re=(0,l.useContext)(F.Z),ae=re.message,n=new P.Uo("components.network");return(0,l.useImperativeHandle)(J,function(){return{}}),(0,e.jsxs)(R.a,{drawerProps:{width:w.R_},name:"createNetwork",title:n.format("createTitle"),open:q,onOpenChange:function(_){ee(_)},formRef:O,trigger:(S=L.trigger)!==null&&S!==void 0?S:(0,e.jsx)(x.ZP,{type:"primary",children:n.format("createTitle")}),onFinish:function(){var D=p()(i()().mark(function _(s){var h,v,o,d,B,K,k,N,G,$,Y,C,A,H;return i()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return C={name:s.name,driver:(h=s.driver)!==null&&h!==void 0?h:"bridge",ipSubnet:(v=s.ipSubnet)!==null&&v!==void 0?v:"",ipGateway:(o=s.ipGateway)!==null&&o!==void 0?o:"",ipRange:(d=s.ipRange)!==null&&d!==void 0?d:"",ipAux:s.ipAux,enableIpV6:(B=s.enableIpV6)!==null&&B!==void 0?B:!1,ipV6Subnet:(K=s.ipV6Subnet)!==null&&K!==void 0?K:"",ipV6Gateway:(k=s.ipV6Gateway)!==null&&k!==void 0?k:"",ipV6Range:(N=s.ipV6Range)!==null&&N!==void 0?N:"",ipV6Aux:(G=s.ipV6Aux)!==null&&G!==void 0?G:[],driverOption:s.driverOption,internal:($=s.internal)!==null&&$!==void 0?$:!1,attachable:(Y=s.attachable)!==null&&Y!==void 0?Y:!1},(s.driver=="macvlan"||s.driver=="ipvlan")&&(C.driverOption||(C.driverOption=[]),C.driverOption.push({name:"parent",value:s.macvlanParentCard})),j.next=4,(0,I.XY)(C);case 4:if(A=j.sent,!(A&&A.data&&A.data.id!="")){j.next=10;break}return ae.success(P.FD.format("finish")),L.onFinish&&L.onFinish(),(H=O.current)===null||H===void 0||H.resetFields(),j.abrupt("return",!0);case 10:case"end":return j.stop()}},_)}));return function(_){return D.apply(this,arguments)}}(),children:[(0,e.jsx)(u.Z,{label:n.format("createFormName"),name:"name",required:!0,rules:[{required:!0}],placeholder:n.format("createFormNameEmpty")}),(0,e.jsx)(Z.Z,{label:n.format("createFormDriver"),name:"driver",children:(0,e.jsxs)(b.Z,{defaultValue:"bridge",children:[(0,e.jsx)(b.Z.Option,{value:"bridge",children:"bridge"}),(0,e.jsx)(b.Z.Option,{value:"macvlan",children:"macvlan"}),(0,e.jsx)(b.Z.Option,{value:"ipvlan",children:"ipvlan"}),(0,e.jsx)(b.Z.Option,{value:"overlay",children:"overlay"})]})}),(0,e.jsx)(f.Z,{name:["driver"],children:function(_){var s=_.driver;if(s=="macvlan"||s=="ipvlan")return(0,e.jsx)(u.Z,{required:!0,rules:[{required:!0}],label:n.format("createFormDriverMacvlanParentCard"),name:"macvlanParentCard",tooltip:n.format("createFormDriverMacvlanParentCardTip")})}}),(0,e.jsxs)(g.Z,{children:[(0,e.jsx)(t.Z,{span:8,children:(0,e.jsx)(E.Z,{label:n.format("createFormUserIpV4Subnet"),name:"userIpV4Subnet"})}),(0,e.jsx)(t.Z,{span:8,children:(0,e.jsx)(E.Z,{name:"internal",label:n.format("createFormInternal"),initialValue:!1})}),(0,e.jsx)(t.Z,{span:8,children:(0,e.jsx)(E.Z,{name:"attachable",label:n.format("createFormAttachable"),initialValue:!1})})]}),(0,e.jsx)(f.Z,{name:["userIpV4Subnet"],children:function(_){var s=_.userIpV4Subnet;if(s)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(c.UW,{title:n.format("createFormIpTitle"),children:[(0,e.jsx)(u.Z,{label:n.format("createFormIpSubnet"),name:"ipSubnet",width:"md",required:!0,rules:[{required:!0}],tooltip:n.format("createFormIpSubnetTip"),placeholder:"192.168.0.0/16",fieldProps:{onChange:function(v){if(v.target.value){var o;(o=O.current)===null||o===void 0||o.setFieldValue("ipGateway",(0,T.mf)(v.target.value))}else{var d;(d=O.current)===null||d===void 0||d.setFieldValue("ipGateway","")}}}}),(0,e.jsx)(u.Z,{label:n.format("createFormIpGateway"),name:"ipGateway",width:"md",placeholder:"192.168.0.1",required:!0,rules:[{required:!0}]}),(0,e.jsx)(u.Z,{label:n.format("createFormIpRange"),name:"ipRange",width:"md",placeholder:"192.168.1.0/24"})]}),(0,e.jsx)(M.u,{name:"ipAux",label:n.format("createFormIpAux"),children:(0,e.jsxs)(c.UW,{children:[(0,e.jsx)(u.Z,{label:n.format("createFormIpAuxDevice"),name:"device",width:"md"}),(0,e.jsx)(u.Z,{label:n.format("createFormIpAuxAddress"),name:"address",width:"md"})]})})]})}}),(0,e.jsxs)(g.Z,{children:[(0,e.jsx)(t.Z,{span:8,children:(0,e.jsx)(E.Z,{label:n.format("createFormEnableIpV6"),name:"enableIpV6"})}),(0,e.jsx)(t.Z,{children:(0,e.jsx)(E.Z,{label:n.format("createFormUserIpV6Subnet"),name:"userIpV6Subnet",fieldProps:{onChange:function(_,s){if(_){var h;(h=O.current)===null||h===void 0||h.setFieldValue("enableIpV6",!0)}}}})})]}),(0,e.jsx)(f.Z,{name:["userIpV6Subnet"],children:function(_){var s=_.userIpV6Subnet;if(s)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(c.UW,{title:n.format("createFormIpV6"),children:[(0,e.jsx)(u.Z,{label:n.format("createFormIpSubnet"),name:"ipV6Subnet",width:"md",placeholder:"2001:db8::/48",required:!0,rules:[{required:!0}],fieldProps:{onChange:function(v){if(v.target.value){var o;(o=O.current)===null||o===void 0||o.setFieldValue("ipV6Gateway",(0,T.mf)(v.target.value))}else{var d;(d=O.current)===null||d===void 0||d.setFieldValue("ipV6Gateway","")}}}}),(0,e.jsx)(u.Z,{label:n.format("createFormIpGateway"),name:"ipV6Gateway",width:"md",placeholder:"2001:db8::1",required:!0,rules:[{required:!0}]}),(0,e.jsx)(u.Z,{label:n.format("createFormIpRange"),name:"ipV6Range",width:"md",placeholder:"2001:db8::/64"})]}),(0,e.jsx)(M.u,{name:"ipV6Aux",label:n.format("createFormIpAux"),children:(0,e.jsxs)(c.UW,{children:[(0,e.jsx)(u.Z,{label:n.format("createFormIpAuxDevice"),name:"device",width:"md"}),(0,e.jsx)(u.Z,{label:n.format("createFormIpAuxAddress"),name:"address",width:"md"})]})})]})}}),(0,e.jsx)(M.u,{name:"driverOption",label:n.format("createFormDriverOption"),children:(0,e.jsxs)(c.UW,{children:[(0,e.jsx)(u.Z,{label:n.format("createFormDriverOptionName"),name:"name",width:"md"}),(0,e.jsx)(u.Z,{label:n.format("createFormDriverOptionValue"),name:"value",width:"md"})]})})]})});U.Z=r},14946:function(z,U,a){a.d(U,{CI:function(){return T},HY:function(){return M},IS:function(){return W},XY:function(){return Z},_3:function(){return b},_x:function(){return R},jR:function(){return F},t9:function(){return E}});var y=a(15009),i=a.n(y),V=a(99289),p=a.n(V),m=a(82346);function W(t){return w.apply(this,arguments)}function w(){return w=p()(i()().mark(function t(l){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/dpanel/api/app/network/get-detail",{method:"POST",data:l}));case 1:case"end":return r.stop()}},t)})),w.apply(this,arguments)}function F(t){return I.apply(this,arguments)}function I(){return I=p()(i()().mark(function t(l){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/dpanel/api/app/network/get-list",{method:"POST",data:l}));case 1:case"end":return r.stop()}},t)})),I.apply(this,arguments)}function T(){return P.apply(this,arguments)}function P(){return P=p()(i()().mark(function t(){return i()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.request)("/dpanel/api/app/network/prune",{method:"POST"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},t)})),P.apply(this,arguments)}function R(t){return u.apply(this,arguments)}function u(){return u=p()(i()().mark(function t(l){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,m.request)("/dpanel/api/app/network/delete",{method:"POST",data:l});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},t)})),u.apply(this,arguments)}function Z(t){return f.apply(this,arguments)}function f(){return f=p()(i()().mark(function t(l){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,m.request)("/dpanel/api/app/network/create",{method:"POST",data:l});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},t)})),f.apply(this,arguments)}function E(t){return c.apply(this,arguments)}function c(){return c=p()(i()().mark(function t(l){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,m.request)("/dpanel/api/app/network/disconnect",{method:"POST",data:l});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},t)})),c.apply(this,arguments)}function M(t){return x.apply(this,arguments)}function x(){return x=p()(i()().mark(function t(l){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,m.request)("/dpanel/api/app/network/connect",{method:"POST",data:l});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},t)})),x.apply(this,arguments)}function b(t){return g.apply(this,arguments)}function g(){return g=p()(i()().mark(function t(l){return i()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/dpanel/api/app/network/get-container-list",{method:"POST",data:l}));case 1:case"end":return r.stop()}},t)})),g.apply(this,arguments)}}}]);
