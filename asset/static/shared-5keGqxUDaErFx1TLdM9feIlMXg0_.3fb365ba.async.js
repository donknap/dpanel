"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1513],{91806:function(Ve,ve,e){e.d(ve,{Z:function(){return O}});var pe=e(87462),d=e(67294),he={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"},p=he,$=e(84089),f=function(M,u){return d.createElement($.Z,(0,pe.Z)({},M,{ref:u,icon:p}))},ue=d.forwardRef(f),O=ue},33862:function(Ve,ve,e){e.d(ve,{Z:function(){return O}});var pe=e(87462),d=e(67294),he={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"}}]},name:"environment",theme:"outlined"},p=he,$=e(84089),f=function(M,u){return d.createElement($.Z,(0,pe.Z)({},M,{ref:u,icon:p}))},ue=d.forwardRef(f),O=ue},83002:function(Ve,ve,e){var pe=e(5574),d=e.n(pe),he=e(15009),p=e.n(he),$=e(99289),f=e.n($),ue=e(83622),O=e(85265),_=e(67294),M=e(81146),u=e(1883),J=e(90098),j=e(3616),Q=e(36146),U=e(85893),Fe=(0,_.forwardRef)(function(C,Y){(0,_.useImperativeHandle)(Y,function(){return{show:function(G){return f()(p()().mark(function l(){return p()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:ye(G),ie(!0);case 2:case"end":return F.stop()}},l)}))()}}});var N=(0,_.useState)(!1),Ce=d()(N,2),q=Ce[0],ie=Ce[1],ge=(0,_.useState)(),k=d()(ge,2),T=k[0],ye=k[1],de=(0,_.useRef)();return(0,U.jsxs)(U.Fragment,{children:[C.showTriggerButton&&(0,U.jsx)(ue.ZP,{onClick:f()(p()().mark(function ee(){return p()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:ye(C.composeItem),ie(!0);case 2:case"end":return l.stop()}},ee)})),icon:(0,U.jsx)(u.Z,{}),children:Q.FD.format("listManageLog")},"log"),(0,U.jsx)(O.Z,{title:Q.FD.format("listLog"),open:q,forceRender:!0,onClose:function(){ie(!1)},afterOpenChange:function(G){if(G)setTimeout(function(){var o,F;(o=de.current)===null||o===void 0||o.start(),(F=de.current)===null||F===void 0||F.fit()},1e3);else{var l;(l=de.current)===null||l===void 0||l.close()}},width:j.FK,children:T&&q&&(0,U.jsx)(M.Z,{ref:de,showInDrawer:!0,id:"compose:log:".concat(String(T.id||T.name)),request:function(){var ee=f()(p()().mark(function G(l){var o;return p()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,J.Yz)({id:T.id||T.name,lineTotal:l.lineTotal,download:(o=l.download)!==null&&o!==void 0?o:!1,showTime:l.showTime});case 2:case"end":return n.stop()}},G)}));return function(G){return ee.apply(this,arguments)}}(),download:function(){var ee=f()(p()().mark(function G(l){var o,F;return p()().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,(0,J.vf)({id:T.id||T.name,lineTotal:l.lineTotal,showTime:l.showTime,download:!0});case 2:return F=Se.sent,Se.abrupt("return",{data:new Blob([F],{type:"text/plain"}),name:(C==null||(o=C.composeItem)===null||o===void 0?void 0:o.name)+"_"+new Date().toLocaleDateString()+".log"});case 4:case"end":return Se.stop()}},G)}));return function(G){return ee.apply(this,arguments)}}()})})]})});ve.Z=Fe},42013:function(Ve,ve,e){e.d(ve,{Z:function(){return ot}});var pe=e(97857),d=e.n(pe),he=e(15009),p=e.n(he),$=e(99289),f=e.n($),ue=e(5574),O=e.n(ue),_=e(3616),M=e(24963),u=e(90098),J=e(36146),j=e(86548),Q=e(33862),U=e(97937),Fe=e(11713),C=e(38345),Y=e(24739),N=e(5966),Ce=e(86615),q=e(97462),ie=e(62370),ge=e(40958),k=e(11106),T=e(23345),ye=e(83622),de=e(71230),ee=e(15746),G=e(40056),l=e(92398),o=e(83062),F=e(40411),n=e(67294),Se=e(12491),we=e(85060),Xe=e(97269),Ke=e(86738),i=e(85893),He=(0,n.forwardRef)(function(te,Le){(0,n.useImperativeHandle)(Le,function(){return{}});var S=(0,n.useRef)(),Ie=(0,n.useState)(!1),Te=O()(Ie,2),ce=Te[0],je=Te[1];return(0,i.jsx)(ie.Z,{children:(0,i.jsx)(Ke.Z,{icon:!1,title:!1,description:(0,i.jsx)(Xe.A,{name:"importRemote",layout:"horizontal",submitter:!1,formRef:S,children:(0,i.jsx)(N.Z,{width:"lg",label:"Url",initialValue:te.defaultUrl,name:"url",placeholder:"https:// or http://"})}),onOpenChange:function(z){var x;(x=S.current)===null||x===void 0||x.resetFields()},onConfirm:f()(p()().mark(function xe(){var z,x;return p()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(x=(z=S.current)===null||z===void 0?void 0:z.getFieldValue("url"),x){A.next=3;break}return A.abrupt("return");case 3:if(je(!0),A.t0=te.onRequest,!A.t0){A.next=8;break}return A.next=8,te.onRequest(x).finally(function(){je(!1)});case 8:case"end":return A.stop()}},xe)})),children:(0,i.jsx)(ye.ZP,{loading:ce,icon:(0,i.jsx)(we.Z,{}),block:!0,onClick:function(){var z;(z=S.current)===null||z===void 0||z.resetFields()},children:te.title})})})}),Qe=He,tt=e(91058),Ae=e(79245),Je=e(27166),nt=e(63713),t=e(85576),rt=function(Le){var S=Le.children,Ie=Le.height,Te=Ie===void 0?"auto":Ie,ce=(0,n.useState)(!1),je=O()(ce,2),xe=je[0],z=je[1],x=(0,n.useCallback)(function(){return{open:function(){return z(!0)},close:function(){return z(!1)},toggle:function(){return z(function(Ze){return!Ze})}}},[])();(0,n.useEffect)(function(){var A=function(be){be.key==="F11"&&(be.preventDefault(),z(function(Ne){return!Ne}))};return window.addEventListener("keydown",A),function(){return window.removeEventListener("keydown",A)}},[xe]);var ne=function(Ze){return(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",height:Ze?"100%":Te,overflow:"hidden"},children:(0,i.jsx)("div",{style:{flex:1,overflow:"auto",position:"relative"},children:S({isFullscreen:Ze,ref:x})})})};return(0,i.jsxs)(i.Fragment,{children:[!xe&&ne(!1),(0,i.jsx)(t.Z,{title:null,open:xe,footer:null,closable:!1,width:"98vw",centered:!0,styles:{body:{padding:0,height:"calc(100vh - 80px)",overflow:"hidden"}},destroyOnHidden:!0,onCancel:function(){return z(!1)},children:(0,i.jsx)("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:ne(!0)})})]})},at=rt,it=(0,n.forwardRef)(function(te,Le){var S=new J.Uo("components.appCompose"),Ie=(0,n.useContext)(M.Z),Te=Ie.message,ce=(0,n.useRef)(),je=(0,n.useRef)(),xe=(0,n.useState)(),z=O()(xe,2),x=z[0],ne=z[1],A=(0,n.useState)(!1),Ze=O()(A,2),be=Ze[0],Ne=Ze[1],Be=(0,n.useRef)(),lt=(0,n.useState)(),_e=O()(lt,2),me=_e[0],Ye=_e[1],L=(0,n.useState)("text"),$e=O()(L,2),Pe=$e[0],oe=$e[1];return(0,n.useImperativeHandle)(Le,function(){return{edit:function(I){Ye(I),Ne(!0)}}}),(0,n.useEffect)(function(){te.id&&Ye(te.id)},[]),(0,n.useEffect)(function(){var h;if(ce.current){var I=te.id||me;if(!I){ne({yaml:"",override:""});return}(h=Be.current)===null||h===void 0||h.loading(),(0,u.Pn)({id:I}).finally(function(){var c;(c=Be.current)===null||c===void 0||c.finish()}).then(function(c){var w,g;ne({yaml:c.data.yaml[0],override:(w=c.data.yaml[1])!==null&&w!==void 0?w:""}),(g=ce.current)===null||g===void 0||g.setFieldsValue({name:c.data.detail.name,title:c.data.detail.title,type:c.data.detail.setting.type,environment:c.data.detail.setting.environment,remoteUrl:c.data.detail.setting.remoteUrl})})}},[ce.current,me]),(0,i.jsxs)(Je.Z,{requestLoading:x==null&&me!=null,drawerProps:{width:_.FK,destroyOnHidden:!0,extra:(0,i.jsx)(T.Z,{children:(0,i.jsx)("a",{href:"https://dpanel.cc/manual/compose-create",target:"_blank",children:J.FD.format("help")})})},open:be,onOpenChange:function(I){if(Ne(I),!I){var c;ne(void 0),Ye(te.id),(c=ce.current)===null||c===void 0||c.resetFields()}},title:S.format("yamlDrawerTitle"),formRef:ce,ref:Be,trigger:(0,i.jsx)(ye.ZP,{type:"primary",icon:me?(0,i.jsx)(j.Z,{}):void 0,children:J.Ob.format(me?"compose.list.edit":"compose.list.create")}),onFinish:function(){var h=f()(p()().mark(function I(c){var w,g,D,Z;return p()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(c.type!="remoteGit"){s.next=7;break}return(w=Be.current)===null||w===void 0||w.loading(),s.next=4,(0,u.zN)({uri:c.remoteUrl,name:c.name}).finally(function(){var W;(W=Be.current)===null||W===void 0||W.finish()});case 4:return g=s.sent,te.onFinish&&te.onFinish(g.data.id),s.abrupt("return",!0);case 7:return s.prev=7,D={id:me&&me.toString(),type:c.type,name:c.name,title:c.title,environment:c.environment,remoteUrl:c.remoteUrl,yaml:x==null?void 0:x.yaml,yamlOverride:x==null?void 0:x.override},s.next=11,(0,u.im)(D);case 11:return Z=s.sent,te.onFinish&&te.onFinish(Z.data.id),Te.success(J.FD.format("finish")),s.abrupt("return",!0);case 17:return s.prev=17,s.t0=s.catch(7),s.abrupt("return",!1);case 20:case"end":return s.stop()}},I,null,[[7,17]])}));return function(I){return h.apply(this,arguments)}}(),children:[(0,i.jsx)(C.Z,{ghost:!0,children:(0,i.jsxs)(Y.UW,{children:[(0,i.jsx)(N.Z,{label:S.format("createFormName"),name:"name",width:"md",required:!0,disabled:!!me,rules:[{required:!0},{pattern:/^[a-zA-Z0-9_-]+$/,message:S.format("createFormNameRule")}],placeholder:S.format("createFormNameEmpty")}),(0,i.jsx)(N.Z,{label:S.format("createFormTitle"),name:"title",width:"md"})]})},"createForm"),(0,i.jsx)(Ce.Z.Group,{label:S.format("createFormType"),name:"type",initialValue:"text",fieldProps:{defaultValue:"text",onChange:function(I){var c;(c=ce.current)===null||c===void 0||c.resetFields(["yaml","environment"]),oe(I.target.value)}},disabled:!!me,options:S.option("createFormTypeOption",["text","remoteUrl","remoteGit","storagePath","store","outPath"]).map(function(h){return{label:h.label,value:h.value}})}),(0,i.jsx)(q.Z,{name:["type"],children:function(I){var c=I.type;if(c=="text")return(0,i.jsxs)(de.Z,{gutter:[10,0],children:[(0,i.jsx)(ee.Z,{span:12,children:(0,i.jsx)(Se.Z,{title:S.format("createFormTypeTextImportFile"),onImport:function(g){return ne(d()(d()({},x),{yaml:g})),(0,Ae.m)(g).map(function(D){var Z;(Z=je.current)===null||Z===void 0||Z.addEnvNameValue(D.name,D.value)}),!0},onLoad:function(g){if(g.indexOf("services:")<0)throw new Error(J.FD.format("commonFileIncorrectFormat",{name:"yaml"}));return!0}},"importFile")}),(0,i.jsx)(ee.Z,{span:12,children:(0,i.jsx)(Qe,{title:S.format("createFormTypeTextImportRemote"),onRequest:function(){var w=f()(p()().mark(function g(D){var Z;return p()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,u.MG)({uri:D});case 2:return Z=s.sent,ne(d()(d()({},x),{yaml:Z.data.content})),(0,Ae.m)(Z.data.content).map(function(W){var X;(X=je.current)===null||X===void 0||X.addEnvNameValue(W.name,W.value)}),s.abrupt("return");case 6:case"end":return s.stop()}},g)}));return function(g){return w.apply(this,arguments)}}()},"importRemote")})]});if(c=="remoteUrl")return(0,i.jsx)(de.Z,{gutter:[10,0],children:(0,i.jsxs)(ee.Z,{span:24,children:[(0,i.jsx)(ie.Z,{shouldUpdate:!0,children:function(g){return(0,i.jsx)(Qe,{defaultUrl:g.getFieldValue("remoteUrl"),title:S.format("createFormTypeRemoteImportUrl"),onRequest:function(){var D=f()(p()().mark(function Z(B){var s,W;return p()().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:return Ee.next=2,(0,u.MG)({uri:B});case 2:return W=Ee.sent,ne(d()(d()({},x),{yaml:W.data.content})),(s=ce.current)===null||s===void 0||s.setFieldValue("remoteUrl",B),(0,Ae.m)(W.data.content).map(function(Me){var We;(We=je.current)===null||We===void 0||We.addEnvNameValue(Me.name,Me.value)}),Ee.abrupt("return");case 7:case"end":return Ee.stop()}},Z)}));return function(Z){return D.apply(this,arguments)}}()},"importRemote1")}}),(0,i.jsx)(ie.Z,{hidden:!0,name:"remoteUrl"},"remoteUrl")]})});if(c=="remoteGit")return(0,i.jsx)(N.Z,{name:"remoteUrl",label:S.format("createFormTypeRemoteImportGit")},"importRemote2");if(c=="storagePath")return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(N.Z,{name:"storagePath",required:!0,readonly:!0,initialValue:S.format("createFormTypeStoragePathTip"),addonAfter:(0,i.jsx)("a",{href:"https://dpanel.cc/manual/compose-create",target:"_blank",children:J.FD.format("help")})})});if(c=="store")return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(N.Z,{readonly:!0,name:"store",required:!0,initialValue:S.format("createFormTypeStoreTip"),addonAfter:(0,i.jsx)(nt.Link,{to:"/compose/appstore",children:J.Ob.format("compose.appstore")})})});if(c=="outPath")return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(N.Z,{name:"outPath",required:!0,readonly:!0,initialValue:S.format("createFormTypeOutPathTip")})})}}),(0,i.jsx)(q.Z,{name:["type"],children:function(I){var c=I.type;return(c=="text"||c=="remoteUrl"||me)&&(0,i.jsxs)(C.Z,{ghost:!0,direction:"row",children:[(0,i.jsxs)(C.Z,{ghost:!0,colSpan:"45%",children:[(0,i.jsx)(G.Z,{type:"warning",message:S.format("createFormTypeTextTip"),style:{marginBottom:15}},"yamlTips"),(0,i.jsx)(G.Z,{message:(0,i.jsxs)(i.Fragment,{children:[S.format("createEnvTip1")," ","${DB_NAME}",". ",S.format("createEnvTip2")]})}),(0,i.jsx)(tt.Z,{drawerProps:{ghost:!0,title:(0,i.jsx)(Q.Z,{}),subTitle:S.format("createEnvTitle")},name:"environment",showInDrawer:!0,showImportButton:!me,showAddButton:!0,showCodeMode:!me,ref:je})]}),(0,i.jsx)(C.Z,{colSpan:"55%",children:(0,i.jsx)(at,{children:function(g){var D=g.ref,Z=g.isFullscreen;return(0,i.jsx)(l.Z,{tabBarExtraContent:(0,i.jsx)(T.Z,{children:(0,i.jsx)(ye.ZP,{icon:Z?(0,i.jsx)(U.Z,{}):(0,i.jsx)(Fe.Z,{}),type:"link",onClick:function(){D.toggle()}})}),items:[{label:S.format("createYaml.yaml"),key:"yaml",children:x&&(0,i.jsx)(k.ZP,{theme:"dark",height:Z?"82vh":"600px",onChange:function(s){ne(d()(d()({},x),{yaml:s}))},onFocus:function(){c=="remoteUrl"&&Te.info(S.format("createYamlDisableEdit"))},onBlur:function(){var s;(s=ce.current)!==null&&s!==void 0&&s.getFieldValue("environment")||x&&x.yaml&&(0,Ae.m)(x.yaml).map(function(W){var X;(X=je.current)===null||X===void 0||X.addEnvNameValue(W.name,W.value)})},readOnly:c=="remoteUrl",value:x.yaml,extensions:[ge.RI.yaml()]})},{label:(0,i.jsx)(o.Z,{title:S.format("createYamlOverrideTip"),children:(0,i.jsx)(F.Z,{count:(x==null?void 0:x.override)&&J.FD.format("listInUse"),offset:[15,-5],children:S.format("createYaml.override")})}),key:"yamlOverride",children:x&&(0,i.jsx)(k.ZP,{theme:"dark",height:"600px",onChange:function(s,W){ne(d()(d()({},x),{override:s}))},value:x==null?void 0:x.override,extensions:[ge.RI.yaml()]})}]},"yamlEditor")}})})]},"yamlEditor")}})]},"yamlCreate")}),ot=it},91218:function(Ve,ve,e){e.d(ve,{Z:function(){return Ye}});var pe=e(97857),d=e.n(pe),he=e(19632),p=e.n(he),$=e(15009),f=e.n($),ue=e(99289),O=e.n(ue),_=e(5574),M=e.n(_),u=e(67294),J=e(3616),j=e(36146),Q=e(38345),U=e(97269),Fe=e(86615),C=e(62370),Y=e(90098),N=e(27166),Ce=e(43425),q=e(33160),ie=e(82061),ge=e(87784),k=e(74842),T=e(30159),ye=e(25035),de=e(95591),ee=e(26522),G=e(33862),l=e(40056),o=e(23345),F=e(96074),n=e(25593),Se=e(86250),we=e(84567),Xe=e(83062),Ke=e(83622),i=e(80821),He=e(63713),Qe=e(79697),tt=e(99861),Ae=e(1699),Je=e(89035),nt=e(75544),t=e(85893),rt=(0,u.forwardRef)(function(L,$e){(0,u.useImperativeHandle)($e,function(){return{show:function(){return O()(f()().mark(function D(){var Z;return f()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return w(!0),(Z=oe.current)===null||Z===void 0||Z.clear(),s.next=4,new Promise(function(W){return setTimeout(function(){var X;(X=oe.current)===null||X===void 0||X.fit(),W(!0)},1e3)});case 4:case"end":return s.stop()}},D)}))()},close:function(){var D;w(!1),(D=oe.current)===null||D===void 0||D.clear()},cancel:function(){return O()(f()().mark(function D(){var Z;return f()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return(Z=oe.current)===null||Z===void 0||Z.clear(),Pe.progress.close("compose:"+L.id),s.abrupt("return",!0);case 3:case"end":return s.stop()}},D)}))()}}});var Pe=(0,He.useModel)("subscriber"),oe=(0,u.useRef)(),h=(0,u.useState)(!1),I=M()(h,2),c=I[0],w=I[1];return Pe.addDataHandler("compose:"+L.id,function(g){var D;(D=oe.current)===null||D===void 0||D.write(g.data)}),(0,t.jsx)(Q.Z,{hidden:!c,ghost:!0,title:(0,t.jsx)(Je.Z,{}),subTitle:"Console",extra:(0,t.jsx)(o.Z,{children:(0,t.jsx)(i.Z,{action:O()(f()().mark(function g(){var D;return f()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return(D=oe.current)===null||D===void 0||D.clear(),Pe.progress.close("compose:"+L.id),B.abrupt("return");case 3:case"end":return B.stop()}},g)})),buttonProps:{icon:(0,t.jsx)(ie.Z,{}),danger:!0},children:j.FD.format("listManageKill")},"kill")}),children:(0,t.jsx)(nt.Z,{id:"create-log-".concat(L.id),height:"200px",style:{fontSize:12},ref:oe})})}),at=rt,it=e(83002),ot=e(60940),te=e(55241),Le=e(78451),S=e(89638),Ie=e(10781),Te=e(91806),ce=e(60433),je=e(99611),xe=e(99922),z=e(41477),x=e(87662),ne=e(5251),A=e(69033);function Ze(L){var $e=(0,u.useState)(""),Pe=M()($e,2),oe=Pe[0],h=Pe[1],I=(0,u.useRef)(),c=(0,u.useRef)(),w=(0,u.useState)(),g=M()(w,2),D=g[0],Z=g[1],B=new j.Uo("components.appCompose"),s=(0,u.useRef)(),W=(0,u.useState)(),X=M()(W,2),Ee=X[0],Me=X[1],We=(0,u.useState)(),ke=M()(We,2),r=ke[0],Ge=ke[1];return(0,u.useEffect)(function(){return(0,x.K3)().then(function(le){var V;h((V=le.data.serverUrl)!==null&&V!==void 0?V:"")}),Z(!1),L.containerList&&Me(L.containerList.filter(function(le){return le.status!=""}).map(function(le){return le.service})),Ge(L.containerList),function(){Ge([])}},[L.containerList]),(0,t.jsxs)(Q.Z,{ghost:!0,title:(0,t.jsx)(Te.Z,{}),subTitle:B.format("detailContainerTitle"),extra:L.enableSelectService&&(0,t.jsx)(we.Z,{checked:D,onChange:function(V){Z(V.target.checked)},children:B.format("selectService")},"selectService"),children:[(0,t.jsx)(xe.Z,{showFileExplorer:!0,ref:I}),(0,t.jsx)(A.Z,{ref:s}),(0,t.jsx)(z.Z,{ref:c}),(0,t.jsx)(ot.Z,{scroll:{x:"max-content"},rowKey:"service",pagination:!1,columns:[{title:j.FD.format("listName"),dataIndex:"name",width:200,render:function(V,P,Re){return(0,t.jsx)(Xe.Z,{title:P.service,children:(0,t.jsx)(Le.Z,{content:P.name?(0,ne.fi)(P.name,"/"):P.service})})}},{title:j.FD.format("listPort"),render:function(V,P,Re){var K=[],re=[];return P.publishers&&P.publishers.map(function(fe){fe.publishedPort?K.push({PrivatePort:fe.targetPort,Type:fe.protocol,IP:fe.url,PublicPort:fe.publishedPort}):fe.publishedPort&&re.push({PrivatePort:fe.targetPort,Type:fe.protocol,IP:fe.url,PublicPort:fe.publishedPort})}),(0,t.jsx)(S.Z,{publicPort:K,privatePort:re,domain:[],serverIp:oe})}},{title:j.FD.format("listStatus"),render:function(V,P,Re){return(0,t.jsx)(Ie.Z,{status:"container.".concat(P.state),tip:"".concat(P.state," ").concat(P.status)},P.name)}},{title:j.FD.format("listManage"),fixed:"right",render:function(V,P,Re){return(0,t.jsxs)(o.Z,{split:(0,t.jsx)(F.Z,{type:"vertical"}),children:[P.name==""&&(0,t.jsx)(te.Z,{placement:"left",content:(0,t.jsx)(Q.Z,{ghost:!0,title:j.FD.format("listManageShowContainerEnv"),children:(0,t.jsx)(o.Z,{direction:"vertical",children:P.environment&&Object.keys(P.environment).map(function(K){if(P.environment&&P.environment[K])return(0,t.jsx)(n.Z.Text,{code:!0,children:"".concat(K,"=").concat(P.environment[K])},K)})})}),children:(0,t.jsx)(ce.Z,{})}),P.name!=""&&(0,t.jsx)(n.Z.Link,{onClick:function(){var re;(re=c.current)===null||re===void 0||re.show(P.name)},children:(0,t.jsx)(je.Z,{})},"container"),P.state=="running"&&(0,t.jsx)(n.Z.Link,{onClick:function(){var re;(re=I.current)===null||re===void 0||re.show({url:"/console/container/".concat((0,ne.fi)(P.name,"/")),title:P.name})},children:(0,t.jsx)(Je.Z,{})},"console"),P.state=="running"&&(0,t.jsx)(n.Z.Link,{onClick:function(){var re;(re=s.current)===null||re===void 0||re.showContainer((0,ne.fi)(P.name,"/"))},children:(0,t.jsx)(de.Z,{})},"file")]})}}],dataSource:r,rowSelection:D&&r?{selectedRowKeys:Ee,onChange:function(V,P,Re){Me(V),L.selectServiceFinish&&L.selectServiceFinish(V)}}:void 0})]})}var be=e(91058),Ne=e(42013),Be=e(2831),lt=e(36588),_e=e(24963),me=(0,u.forwardRef)(function(L,$e){var Pe,oe=(0,He.useAccess)(),h=new j.Uo("components.appCompose"),I=(0,u.useState)(0),c=M()(I,2),w=c[0],g=c[1],D=(0,u.useState)(!1),Z=M()(D,2),B=Z[0],s=Z[1],W=(0,u.useState)(!1),X=M()(W,2),Ee=X[0],Me=X[1],We=(0,u.useState)(),ke=M()(We,2),r=ke[0],Ge=ke[1],le=(0,u.useRef)(),V=(0,u.useRef)(),P=(0,u.useRef)(),Re=(0,u.useRef)(),K=(0,u.useRef)(),re=(0,u.useRef)(),fe=(0,u.useRef)(),mt=(0,u.useRef)(),vt=(0,u.useState)(),ft=M()(vt,2),qe=ft[0],st=ft[1],pt=(0,u.useContext)(_e.Z),ht=pt.notice;(0,u.useImperativeHandle)($e,function(){return{show:function(a){return O()(f()().mark(function m(){return f()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:st(a),s(!0);case 2:case"end":return R.stop()}},m)}))()}}}),(0,u.useEffect)(function(){qe&&(Me(!0),(0,Y.Pn)({id:qe}).finally(O()(f()().mark(function v(){return f()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:Me(!1);case 1:case"end":return m.stop()}},v)}))).then(function(v){var a=v.data.detail;a.setting.status&&a.setting.status.includes("running")&&(a.isRunning=!0),a.setting.status&&a.setting.status.includes("paused")&&(a.isPaused=!0),a.setting.status&&a.setting.status.includes("exited")&&(a.isExited=!0),a.setting.status&&a.setting.status.includes("waiting")?a.isDeploy=!1:a.isDeploy=!0,a.setting.status&&a.setting.status.includes("created")&&(a.isCreated=!0,a.isDeploy=!1);var m=v.data.project;if(m&&m.services&&(a.imageList=p()(new Set(Object.keys(m.services).map(function(H){var E;return(E=m.services[H].image)!==null&&E!==void 0?E:""}).filter(function(H){return H!=""})))),a.containerList=v.data.containerList,a.containerList||(a.containerList=[]),m!=null&&m.services&&Object.entries(m==null?void 0:m.services).forEach(function(H){var E,ae=M()(H,2),Oe=ae[0],De=ae[1],ze=a.containerList.find(function(b){return b.service==Oe});ze||a.containerList.push({project:(E=m.name)!==null&&E!==void 0?E:"",name:"",service:Oe,publishers:De.ports?De.ports.map(function(b){var Ue;return{url:"",targetPort:b.target,publishedPort:parseInt(b.published),protocol:(Ue=b.protocol)!==null&&Ue!==void 0?Ue:""}}):[],state:"waiting",status:"",environment:De.environment})}),a.containerList){var y;(y=P.current)===null||y===void 0||y.setFieldValue("deployServiceName",v.data.detail.setting.deployServiceName)}if(Ge(d()(d()({},v.data),{detail:a})),v.data.detail.setting.environment){var R;(R=P.current)===null||R===void 0||R.setFieldValue("environment",v.data.detail.setting.environment)}}))},[w,qe]);function gt(v){return ut.apply(this,arguments)}function ut(){return ut=O()(f()().mark(function v(a){var m,y,R;return f()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:if((m=K.current)===null||m===void 0||m.show(),!a.pullImageUseDPanel){E.next=5;break}return E.next=4,(y=le.current)===null||y===void 0?void 0:y.start();case 4:(R=le.current)===null||R===void 0||R.finish();case 5:return E.prev=5,E.next=8,(0,Y.Oh)(a);case 8:L.onDeployFinish&&L.onDeployFinish(),E.next=14;break;case 11:E.prev=11,E.t0=E.catch(5),L.onDeployFailed&&L.onDeployFailed();case 14:g(w+1);case 15:case"end":return E.stop()}},v,null,[[5,11]])})),ut.apply(this,arguments)}return(0,t.jsxs)(N.Z,{drawerProps:{width:J.R_,destroyOnHidden:!0},requestLoading:Ee,title:r?h.format("drawerTitle",{name:(Pe=r==null?void 0:r.detail.name)!==null&&Pe!==void 0?Pe:""}):h.format("createTitle"),open:B,onOpenChange:function(a){a||(st(void 0),Ge(void 0),L.onClose&&L.onClose()),s(a)},submitter:!1,formRef:P,children:[r&&!(0,Qe.Z)(r.detail.imageList)&&(0,t.jsx)(tt.Z,{ref:le,image:r.detail.imageList}),(0,t.jsx)(A.Z,{ref:fe}),(0,t.jsxs)(Q.Z,{direction:"column",ghost:!0,gutter:[0,10],children:[r&&r.detail.setting.type=="dangling"&&(0,t.jsx)(l.Z,{type:"warning",showIcon:!0,description:(0,t.jsxs)("div",{children:[h.format("managerStatusDanglingAlert",{name:r.detail.name})," ",(0,t.jsx)("a",{href:"https://dpanel.cc/manual/compose-create-outpath",target:"_blank",children:j.FD.format("help")})]})}),r&&r.detail.setting.type!="dangling"&&(0,t.jsx)(Q.Z,{title:(0,t.jsx)(Ce.Z,{}),subTitle:h.format("managerContainerTitle"),ghost:!0,children:(0,t.jsxs)(o.Z,{wrap:!0,split:(0,t.jsx)(F.Z,{type:"vertical"}),children:[(0,t.jsxs)(Ae.u,{access:"canSeeComposeListManage",space:{},children:[(0,t.jsx)(i.Z,{buttonProps:{icon:(0,t.jsx)(q.Z,{}),type:"primary"},confirmProps:{onOpenChange:function(a,m){var y;a&&(!((y=V.current)===null||y===void 0)&&y.resetFields)&&V.current.resetFields()},description:(0,t.jsxs)(o.Z,{style:{minWidth:300},direction:"vertical",wrap:!0,children:[(0,t.jsx)(n.Z.Text,{children:h.format("managerCreateTip")}),(0,t.jsx)(U.A,{name:"createForm",formRef:V,layout:"inline",submitter:!1,children:(0,t.jsxs)(Se.Z,{vertical:!0,children:[(0,t.jsx)(Fe.Z.Group,{name:"pullImageUse",layout:"vertical",fieldProps:{style:{display:"flex",flexDirection:"column",gap:8}},options:h.option("managerCreatePullImageUseOption",["useCommand","useDPanel"])}),(0,t.jsx)(C.Z,{initialValue:!0,name:"createPath",valuePropName:"checked",children:(0,t.jsx)(we.Z,{children:h.format("managerCreateCreatePath")})}),(0,t.jsx)(C.Z,{initialValue:!0,name:"removeOrphans",valuePropName:"checked",children:(0,t.jsx)(we.Z,{defaultChecked:!0,children:h.format("managerCreateRemoveOrphans")})})]})})]})},action:O()(f()().mark(function v(){var a,m,y,R,H,E,ae,Oe,De,ze,b,Ue,et;return f()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.prev=0,se.next=3,(De=P.current)===null||De===void 0?void 0:De.validateFields();case 3:se.next=8;break;case 5:return se.prev=5,se.t0=se.catch(0),se.abrupt("return");case 8:return ze=r?r.detail.id||r.detail.name:(a=P.current)===null||a===void 0?void 0:a.getFieldValue("name"),b={id:ze,createPath:(m=(y=V.current)===null||y===void 0?void 0:y.getFieldValue("createPath"))!==null&&m!==void 0?m:!1,removeOrphans:(R=(H=V.current)===null||H===void 0?void 0:H.getFieldValue("removeOrphans"))!==null&&R!==void 0?R:!0},((E=V.current)===null||E===void 0?void 0:E.getFieldValue("pullImageUse"))=="useDPanel"&&(b.pullImage=!1,b.pullImageUseDPanel=!0),((ae=V.current)===null||ae===void 0?void 0:ae.getFieldValue("pullImageUse"))=="useCommand"&&(b.pullImage=!0),Ue=((Oe=P.current)===null||Oe===void 0?void 0:Oe.getFieldsFormatValue)&&P.current.getFieldsFormatValue(!0),b.environment=Ue.environment,b.deployServiceName=Ue.deployServiceName,se.next=17,(0,Y.im)({id:(r.detail.id||r.detail.name).toString(),name:r.detail.name,environment:Ue.environment,type:r.detail.setting.type});case 17:if(!(r!=null&&r.detail.isDeploy&&b.deployServiceName)){se.next=23;break}if(et=[],r.detail.containerList.forEach(function(dt){var ct;dt.status!=""&&!((ct=b.deployServiceName)!==null&&ct!==void 0&&ct.includes(dt.service))&&et.push(dt.service)}),(0,Qe.Z)(et)){se.next=23;break}return se.next=23,(0,Y.j6)({id:ze,deleteImage:!1,deleteData:!1,deleteVolume:!1,deletePath:!1,destroyServiceName:et});case 23:return se.abrupt("return",gt(b));case 24:case"end":return se.stop()}},v,null,[[0,5]])})),children:j.FD.format(r!=null&&r.detail.isDeploy?"listManageUpgrade":"listManageStart")},"deploy"),(r.detail.isDeploy||r.detail.isCreated)&&(0,t.jsx)(i.Z,{action:function(){var a;return(a=K.current)===null||a===void 0||a.show(),(0,Y.j6)({id:r.detail.id||r.detail.name,deleteImage:!1,deleteData:!1,deleteVolume:!1,deletePath:!1})},onSuccess:function(){g(w+1)},buttonProps:{type:"primary",danger:!0,icon:(0,t.jsx)(ie.Z,{})},confirmProps:{showCommonConfirm:!0},children:h.format("managerDeleteContainerButton")},"destroyContainer")]}),r.detail.isDeploy&&(0,t.jsxs)(Ae.u,{access:"canSeeComposeList",space:{direction:"horizontal"},children:[(0,t.jsx)(i.Z,{buttonProps:{icon:(0,t.jsx)(q.Z,{})},action:O()(f()().mark(function v(){var a;return f()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return(a=K.current)===null||a===void 0||a.show(),y.abrupt("return",(0,Y.GG)({id:r.detail.id||r.detail.name,op:"restart"}));case 2:case"end":return y.stop()}},v)})),onSuccess:function(){g(w+1)},children:h.format("managerRestartButton")},"restart"),(0,t.jsx)(i.Z,{action:function(){var a;return(a=K.current)===null||a===void 0||a.show(),(0,Y.GG)({id:r.detail.id||r.detail.name,op:"stop"})},buttonProps:{icon:(0,t.jsx)(ge.Z,{}),disabled:r.detail.isExited},onSuccess:function(){g(w+1)},children:h.format("managerStopButton")},"stop"),r.detail.isPaused&&(0,t.jsx)(i.Z,{action:function(){var a;return(a=K.current)===null||a===void 0||a.show(),(0,Y.GG)({id:r.detail.id||r.detail.name,op:"unpause"})},onSuccess:function(){g(w+1)},buttonProps:{icon:(0,t.jsx)(k.Z,{})},children:h.format("managerUnpauseButton")},"unpause"),!r.detail.isPaused&&(0,t.jsx)(i.Z,{action:function(){var a;return(a=K.current)===null||a===void 0||a.show(),(0,Y.GG)({id:r.detail.id||r.detail.name,op:"pause"})},onSuccess:function(){g(w+1)},buttonProps:{icon:(0,t.jsx)(T.Z,{}),disabled:!r.detail.isRunning},children:h.format("managerPauseButton")},"pause"),r.detail.isDeploy&&(0,t.jsx)(it.Z,{composeItem:r.detail,showTriggerButton:!0},"composeLog")]}),r.detail.id>0&&oe.canSeeComposeListManageDelete&&(0,t.jsx)(i.Z,{buttonProps:{type:"dashed",danger:!0,icon:(0,t.jsx)(ie.Z,{})},confirmProps:{onOpenChange:function(a,m){var y;!((y=Re.current)===null||y===void 0)&&y.resetFields&&Re.current.resetFields()},description:(0,t.jsxs)(o.Z,{style:{width:280},direction:"vertical",children:[(0,t.jsx)(n.Z.Text,{children:h.format("managerDeleteTaskTip")}),(0,t.jsxs)(U.A,{formRef:Re,layout:"inline",submitter:!1,children:[(0,t.jsx)(C.Z,{initialValue:!0,name:"deleteImage",valuePropName:"checked",children:(0,t.jsx)(we.Z,{children:h.format("managerDeleteTaskDeleteImage")})}),(0,t.jsx)(C.Z,{addonAfter:(0,t.jsx)(Xe.Z,{title:h.format("managerDeleteTaskDeleteVolumeTip"),children:(0,t.jsx)(ye.Z,{})}),initialValue:!0,name:"deleteVolume",valuePropName:"checked",children:(0,t.jsx)(we.Z,{children:h.format("managerDeleteTaskDeleteVolume")})}),(0,t.jsx)(C.Z,{initialValue:!0,name:"deletePath",valuePropName:"checked",children:(0,t.jsx)(we.Z,{children:h.format("managerDeleteTaskDeletePath")})})]})]})},action:O()(f()().mark(function v(){var a,m,y,R,H,E,ae,Oe,De;return f()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return(a=K.current)===null||a===void 0||a.show(),b.next=3,(0,Y.j6)({id:(m=(y=r.detail)===null||y===void 0?void 0:y.id)!==null&&m!==void 0?m:r.detail.name,deleteImage:(R=(H=Re.current)===null||H===void 0?void 0:H.getFieldValue("deleteImage"))!==null&&R!==void 0?R:!1,deleteVolume:(E=(ae=Re.current)===null||ae===void 0?void 0:ae.getFieldValue("deleteVolume"))!==null&&E!==void 0?E:!1,deletePath:(Oe=(De=Re.current)===null||De===void 0?void 0:De.getFieldValue("deletePath"))!==null&&Oe!==void 0?Oe:!1,deleteData:!0});case 3:s(!1),Ge(void 0),L.onClose&&L.onClose();case 6:case"end":return b.stop()}},v)})),children:j.FD.format("listManageDelete")},"deleteTask"),L.showBackListButton&&(0,t.jsx)(He.Link,{to:"/compose/list",children:(0,t.jsx)(Ke.ZP,{children:j.Ob.format("compose.list")})})]})},"operator"),r&&r.detail.setting.type!="dangling"&&(0,t.jsx)(Q.Z,{title:(0,t.jsx)(Ce.Z,{}),subTitle:h.format("managerTitle"),ghost:!0,children:(0,t.jsxs)(o.Z,{children:[oe.canSeeComposeListManage&&(0,t.jsx)(Ne.Z,{id:qe,onFinish:function(){var v=O()(f()().mark(function a(m){return f()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:st(m),g(w+1);case 2:case"end":return R.stop()}},a)}));return function(a){return v.apply(this,arguments)}}()}),oe.canSeeComposeListManageCreate&&(r==null?void 0:r.detail.setting.type)!="outPath"&&(0,t.jsx)(Ke.ZP,{icon:(0,t.jsx)(de.Z,{}),onClick:O()(f()().mark(function v(){var a,m,y,R,H;return f()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,(0,Be.aF)();case 2:m=ae.sent,m.data&&(a=m.data.dpanel.containerInfo)!==null&&a!==void 0&&a.Name?(y=fe.current)===null||y===void 0||y.showContainer((R=m.data.dpanel.containerInfo)===null||R===void 0?void 0:R.Name,"/dpanel/compose/".concat(r==null?void 0:r.detail.name)):m.data.dpanel.runIn==="host"?(H=fe.current)===null||H===void 0||H.showHost("local-os-fs","".concat(m.data.dpanel.storageLocalPath,"/compose/").concat(r==null?void 0:r.detail.name)):ht.error(j.FD.format("commonNotFoundDPanel"));case 4:case"end":return ae.stop()}},v)})),children:j.FD.format("listManageFilePath")}),(0,t.jsx)(F.Z,{type:"vertical"}),function(v){var a="";if((v=r.project)!==null&&v!==void 0&&v.networks){var m=Object.entries(r.project.networks).find(function(y){var R=M()(y,2),H=R[0],E=R[1];return E.external});m&&(a=m[1].name)}return a!=""&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(lt.Z,{ref:mt},"network-create"),(0,t.jsx)(Ke.ZP,{onClick:function(){var R;(R=mt.current)===null||R===void 0||R.show(a)},icon:(0,t.jsx)(ee.Z,{}),children:h.format("joinContainerInNetwork")},"network")]})}(),(0,t.jsx)(Ke.ZP,{icon:(0,t.jsx)(q.Z,{}),onClick:function(){var a;(a=K.current)===null||a===void 0||a.close(),g(w+1)},children:j.FD.format("listManageRefresh")})]})},"manager"),r&&r.detail.setting.type!="dangling"&&(0,t.jsx)(at,{ref:K,id:(r==null?void 0:r.detail.id)||(r==null?void 0:r.detail.name)}),r&&r.containerList&&(0,t.jsx)(Ze,{containerList:r==null?void 0:r.containerList,enableSelectService:(r==null?void 0:r.detail.setting.type)!="dangling",selectServiceFinish:function(a){var m;(m=P.current)===null||m===void 0||m.setFieldValue("deployServiceName",a)}}),(0,t.jsx)(C.Z,{name:"deployServiceName",hidden:!0}),r&&r.detail.setting.type!="dangling"&&(0,t.jsx)(be.Z,{drawerProps:{ghost:!0,title:(0,t.jsx)(G.Z,{}),subTitle:"".concat(h.format("createEnvTitle"))},showDisableName:!0,showDeleteButton:!1,name:"environment",ref:re})]})]})}),Ye=me},75544:function(Ve,ve,e){var pe=e(5574),d=e.n(pe),he=e(12323),p=e(78267),$=e.n(p),f=e(75458),ue=e.n(f),O=e(4244),_=e.n(O),M=e(24078),u=e(67294),J=e(85893),j,Q,U,Fe=(0,u.forwardRef)(function(C,Y){var N,Ce=(0,u.useState)(!0),q=d()(Ce,2),ie=q[0],ge=q[1];return(0,u.useEffect)(function(){return j=new O.Terminal(he.X),Q=new f.SearchAddon,U=new p.FitAddon,window.addEventListener("resize",function(){C.showInModal||U.fit()}),C.style&&C.style.fontSize&&(j.options.fontSize=C.style.fontSize),j.loadAddon(U),j.loadAddon(Q),j.open(document.getElementById(C.id?C.id:"terminal-container")),C.showInModal||U.fit(),j.onKey(function(k){var T=k.domEvent;if(T.ctrlKey&&T.key==="c"){var ye=j.getSelection();ye&&(navigator.clipboard.writeText(ye).then(function(){}),T.preventDefault())}}),function(){j.reset(),ge(!0)}},[]),(0,u.useImperativeHandle)(Y,function(){return{write:function(T){ie&&(U.fit(),ge(!1)),j.write(T)},clear:function(){j.clear()},getTerminal:function(){return j},findNext:function(T){Q.findNext(T)},findPrev:function(T){Q.findPrevious(T)},fit:function(){U.fit()},onData:function(T){return j.onData(T)}}}),(0,J.jsx)("div",{id:C.id?C.id:"terminal-container",style:{width:C.width?C.width:"100%",height:C.height?C.height:"500px",marginTop:(N=C.style)===null||N===void 0?void 0:N.marginTop}})});ve.Z=Fe},90098:function(Ve,ve,e){e.d(ve,{GG:function(){return Fe},MG:function(){return ie},Oh:function(){return J},Pn:function(){return M},Yz:function(){return Y},iE:function(){return ye},im:function(){return f},j6:function(){return Q},pm:function(){return O},tw:function(){return ee},vf:function(){return Ce},zN:function(){return k}});var pe=e(15009),d=e.n(pe),he=e(99289),p=e.n(he),$=e(63713);function f(l){return ue.apply(this,arguments)}function ue(){return ue=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/create",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),ue.apply(this,arguments)}function O(l){return _.apply(this,arguments)}function _(){return _=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/get-list",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),_.apply(this,arguments)}function M(l){return u.apply(this,arguments)}function u(){return u=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/get-task",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),u.apply(this,arguments)}function J(l){return j.apply(this,arguments)}function j(){return j=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/container-deploy",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),j.apply(this,arguments)}function Q(l){return U.apply(this,arguments)}function U(){return U=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/container-destroy",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),U.apply(this,arguments)}function Fe(l){return C.apply(this,arguments)}function C(){return C=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/container-ctrl",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),C.apply(this,arguments)}function Y(l){return N.apply(this,arguments)}function N(){return N=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/container-log",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),N.apply(this,arguments)}function Ce(l){return q.apply(this,arguments)}function q(){return q=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.download=!0,o.id=String(o.id),n.next=4,(0,$.request)("/dpanel/api/app/compose/container-log",{method:"POST",data:o,responseType:"blob"});case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},l)})),q.apply(this,arguments)}function ie(l){return ge.apply(this,arguments)}function ge(){return ge=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/get-from-uri",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),ge.apply(this,arguments)}function k(l){return T.apply(this,arguments)}function T(){return T=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/get-from-git",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),T.apply(this,arguments)}function ye(l){return de.apply(this,arguments)}function de(){return de=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,$.request)("/dpanel/api/common/store/deploy",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),de.apply(this,arguments)}function ee(l){return G.apply(this,arguments)}function G(){return G=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/download",{method:"POST",data:o,responseType:"blob"}));case 2:case"end":return n.stop()}},l)})),G.apply(this,arguments)}}}]);
