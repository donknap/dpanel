"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3840],{99861:function(Be,Pe,e){var Ee=e(64599),D=e.n(Ee),_e=e(15009),l=e.n(_e),G=e(99289),U=e.n(G),E=e(5574),S=e.n(E),V=e(42119),A=e(83062),p=e(67294),z=e(92754),m=e(184),oe=e(38345),M=e(3616),he=e(36146),Y=e(68297),g=e(85893),c=(0,p.forwardRef)(function(t,o){(0,p.useImperativeHandle)(o,function(){return{start:function(){var H;return B(!0),ge((H=t.image)!==null&&H!==void 0?H:[])},finish:function(){B(!1)},pull:function(H){return B(!0),ge(H)}}});var Z=(0,p.useState)(0),w=S()(Z,2),J=w[0],R=w[1],u=(0,p.useRef)(),C=(0,p.useState)(!1),T=S()(C,2),i=T[0],B=T[1],d=(0,p.useState)([]),me=S()(d,2),P=me[0],N=me[1],n=new he.Uo("components.appCompose");function ge(K){return Me.apply(this,arguments)}function Me(){return Me=U()(l()().mark(function K(H){var be,Q,je,xe,Ce,Ye,nn;return l()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:Q=0,N(H),je=D()(H),fe.prev=3,je.s();case 5:if((xe=je.n()).done){fe.next=15;break}return Ye=xe.value,R(Q),(Ce=u.current)===null||Ce===void 0||Ce.setStart(Ye),fe.next=11,(0,Y.Ze)({tag:Ye,type:"pull"});case 11:nn=fe.sent,Q++;case 13:fe.next=5;break;case 15:fe.next=20;break;case 17:fe.prev=17,fe.t0=fe.catch(3),je.e(fe.t0);case 20:return fe.prev=20,je.f(),fe.finish(20);case 23:(be=u.current)===null||be===void 0||be.setFinish(),R(Q),t.finishAutoHide&&B(!1);case 26:case"end":return fe.stop()}},K,null,[[3,17,20,23]])})),Me.apply(this,arguments)}return(0,g.jsxs)(m.a,{trigger:t.trigger,open:i,submitter:!1,title:n.format("pullImageTitle"),onOpenChange:function(){var K=U()(l()().mark(function H(be){var Q,je;return l()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:B(be),be&&t.trigger&&ge((Q=t.image)!==null&&Q!==void 0?Q:[]),be||(je=u.current)===null||je===void 0||je.close();case 3:case"end":return Ce.stop()}},H)}));return function(H){return K.apply(this,arguments)}}(),drawerProps:{forceRender:!0,width:M.R_},children:[(0,g.jsx)(oe.Z,{children:P&&(0,g.jsx)(V.Z,{current:J,items:P.map(function(K,H){return{title:(0,g.jsx)(A.Z,{title:K,children:K.length>15?K.substring(0,6)+" ... "+K.substring(K.length-6):K}),key:H}})})}),(0,g.jsx)(oe.Z,{children:(0,g.jsx)(z.Z,{ref:u})})]})});Pe.Z=c},44771:function(Be,Pe,e){e.d(Pe,{Z:function(){return S}});var Ee=e(36146),D=e(38345),_e=e(64317),l=e(97462),G=e(31199),U=e(86250),E=e(85893);function S(V){var A=new Ee.Uo("components.appForm");return(0,E.jsx)(D.Z,{ghost:V.ghost,children:(0,E.jsxs)(U.Z,{gap:50,children:[(0,E.jsx)(_e.Z,{tooltip:"".concat(A.format("createParamsDemo",{params:"--restart always"})),label:V.showLabel&&A.format("createAdvRestart"),name:["restart","name"],width:"md",initialValue:V.defaultValue?V.defaultValue:"on-failure",options:A.option("createAdvRestartOption",["no","on-failure","unless-stopped","always"])}),(0,E.jsx)(l.Z,{name:["restart"],children:function(z){var m=z.restart;return m&&m.name=="on-failure"&&(0,E.jsx)(G.Z,{width:"md",label:A.format("createAdvRestartMax"),name:["restart","maxAttempt"],initialValue:5})}})]})})}},84941:function(Be,Pe,e){e.d(Pe,{Z:function(){return ar}});var Ee=e(97857),D=e.n(Ee),_e=e(15009),l=e.n(_e),G=e(19632),U=e.n(G),E=e(99289),S=e.n(E),V=e(5574),A=e.n(V),p=e(38345),z=e(62370),m=e(5966),oe=e(24739),M=e(97462),he=e(83622),Y=e(30291),g=e(92398),c=e(40056),t=e(67294),o=e(42963),Z=e(51042),w=e(63434),J=e(17186),R=e(71230),u=e(15746),C=e(42075),T=e(25593),i=e(85265),B=e(92067),d=e(5251),me=e(3616),P=e(36146),N=e(89240),n=e(85893),ge=(0,t.forwardRef)(function(j,Re){var f=(0,t.useState)(!1),se=A()(f,2),L=se[0],ie=se[1],X=(0,t.useRef)(),v=new P.Uo("components.appForm"),F=function(x){return(0,n.jsxs)(p.Z,{bordered:!0,extra:x.action,style:{marginBottom:10},children:[(0,n.jsx)(p.Z,{title:v.format("createLinkItemTitle"),ghost:!0,children:(0,n.jsxs)(R.Z,{children:[(0,n.jsx)(u.Z,{span:6,children:(0,n.jsx)(m.Z,{label:v.format("createLinkItemName"),name:"name",width:"md",readonly:!0})}),(0,n.jsxs)(u.Z,{span:14,children:[(0,n.jsx)(m.Z,{label:v.format("createLinkItemAlise"),name:"alise",width:"md",readonly:!0,tooltip:v.format("createLinkItemAliseTip"),hidden:!0}),(0,n.jsx)(z.Z,{label:v.format("createLinkItemAlise"),tooltip:v.format("createLinkItemAliseTip"),children:(0,n.jsx)(C.Z,{direction:"vertical",children:[x.name,x.record.alise].map(function(b){return(0,n.jsx)(T.Z.Text,{copyable:!0,children:b})})})})]}),(0,n.jsx)(u.Z,{span:4,children:(0,n.jsx)(w.Z,{label:v.format("createLinkItemVolume"),name:"volume"})})]})}),(0,n.jsx)(p.Z,{ghost:!0,title:v.format("createLinkItemEnv"),children:(0,n.jsx)(C.Z,{direction:"vertical",children:x.record.env&&(0,d.oZ)(x.record.env).map(function(b,Ie){return(0,n.jsx)(T.Z.Text,{copyable:{icon:(0,n.jsx)(Z.Z,{}),onCopy:function(){j.onAddEnv(b.name,b.value)},tooltips:[v.format("createLinkAddToEnv"),"success"]},code:!0,ellipsis:{tooltip:"".concat(b.name,"=").concat(b.value)},children:"".concat(b.name,"=").concat(b.value)},Ie)})},"linkEnv")})]})},ne=function(x){var b,Ie,Ue=!1,Te=(b=(Ie=X.current)===null||Ie===void 0?void 0:Ie.getList())!==null&&b!==void 0?b:[];if(Te.map(function(k){k.name==x.name&&(Ue=!0)}),!Ue){var Ze;(Ze=X.current)===null||Ze===void 0||Ze.add(x)}};return(0,t.useImperativeHandle)(Re,function(){return{setDefaultLink:function(x){x&&x.map(function(b){b.name!=""&&ne(b)})}}}),(0,n.jsxs)(p.Z,{title:v.format("createLinkTitle"),headerBordered:!0,tooltip:"".concat(v.format("createParamsDemo",{params:"--link list"})),ghost:!0,children:[(0,n.jsx)(J.u,{name:"links",actionRef:X,creatorButtonProps:{creatorButtonText:v.format("createLinkAddButton")},actionGuard:{beforeAddRow:function(x,b){return ie(!0),!1}},copyIconProps:!1,min:0,itemRender:function(x,b){return(0,n.jsx)(F,{action:x.action,name:b.record.name,record:b.record})}}),(0,n.jsx)(i.Z,{title:v.format("createLinkSelectContainer"),width:me.R_,footer:!1,open:L,onClose:function(){return ie(!1)},children:(0,n.jsx)(B.Z,{onSelect:function(x){ne({name:(0,d.fi)(x.Name,"/"),volume:!1,env:x.Config.Env,alise:(0,N.zY)(x.Name)}),ie(!1)}})})]})}),Me=ge,K=e(91058),H=e(10523),be=e(24796),Q=e(52688),je=e(24963);function xe(){var j=(0,t.useContext)(je.Z),Re=j.message,f=new P.Uo("components.appForm");return(0,n.jsx)(p.Z,{ghost:!0,children:(0,n.jsxs)(oe.UW,{children:[(0,n.jsx)(Q.Z,{fieldProps:{onChange:function(L){L&&Re.warning(f.format("createAdvRunCommandPrivilegedNotice"))}},name:"privileged",tooltip:"".concat(f.format("createParamsDemo",{params:"--privileged"})),label:f.format("createAdvRunCommandPrivileged"),initialValue:!1}),(0,n.jsx)(Q.Z,{name:"autoRemove",tooltip:"".concat(f.format("createParamsDemo",{params:"--rm"})),label:f.format("createAdvRunCommandAutoRemove"),initialValue:!1}),(0,n.jsx)(Q.Z,{fieldProps:{onChange:function(L){L&&Re.warning(f.format("createAdvRunCommandHostPidNotice"))}},tooltip:"".concat(f.format("createParamsDemo",{params:"--pid host"})),name:"hostPid",label:f.format("createAdvRunCommandHostPid"),initialValue:!1})]})})}var Ce=e(62597),Ye=e(82346),nn=e(20743),_n=(0,t.forwardRef)(function(j,Re){var f=(0,t.useRef)(),se=(0,t.useRef)(),L=new P.Uo("components.appForm");(0,t.useImperativeHandle)(Re,function(){return{}});var ie=function(v){var F,ne,$=!1,x=(F=(ne=f.current)===null||ne===void 0?void 0:ne.getList())!==null&&F!==void 0?F:[];if(x.map(function(Ie){Ie.name==v.name&&($=!0)}),!$){var b;(b=f.current)===null||b===void 0||b.add(v)}};return(0,n.jsxs)(p.Z,{ghost:!0,title:L.format("createNetworkTitle"),tooltip:"".concat(L.format("createParamsDemo",{params:"--network list"})),headerBordered:!0,extra:(0,n.jsx)(C.Z,{children:j.showUseBridgeNetwork&&(0,n.jsx)(Q.Z,{name:"useBridgeNetwork",initialValue:!0,fieldProps:{checkedChildren:L.format("createNetworkUseBridgeNetwork"),unCheckedChildren:L.format("createNetworkUseBridgeNetwork")}},"useBridgeNetwork")}),children:[(0,n.jsx)(J.u,{name:"network",actionRef:f,creatorButtonProps:{creatorButtonText:L.format("createNetworkAddButton")},actionGuard:{beforeAddRow:function(v,F){var ne;return(ne=se.current)===null||ne===void 0||ne.show(),!1}},copyIconProps:!1,min:0,itemRender:function(v,F){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(oe.UW,{children:[(0,n.jsx)(m.Z,{label:L.format("createNetworkName"),name:"name",width:"md",disabled:!0,fieldProps:{value:F.record.name}}),(0,n.jsx)(m.Z,{label:L.format("createNetworkAlise"),name:"alise",tooltip:L.format("createNetworkAliseTip"),placeholder:L.format("createNetworkAliseEmpty"),disabled:F.record.name=="bridge"}),(0,n.jsx)(m.Z,{label:"IpV4",name:"ipV4",width:"md",disabled:F.record.name=="bridge",fieldProps:{addonAfter:F.record.subnet}}),F.record.subnetV6&&(0,n.jsx)(m.Z,{label:"IpV6",name:"ipV6",width:"md",disabled:F.record.name=="bridge",fieldProps:{addonAfter:F.record.subnetV6}}),(0,n.jsx)(z.Z,{label:" ",children:v.action})]})})}}),(0,n.jsx)(nn.Z,{ref:se,onSelect:function(v){ie({name:v.Name,alise:[""],subnet:v.IPAM.Config&&v.IPAM.Config[0].Subnet,subnetV6:v.IPAM.Config&&v.IPAM.Config[1]&&v.IPAM.Config[1].Subnet})}})]})}),fe=_n,Rn=e(82034),Je=e(52255),On=e(59252),rn=e(73813),yn=function(Re){var f=new P.Uo("components.appForm");return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(p.Z,{title:f.format("createSelfNetworkTitle"),subTitle:f.format("createSelfNetworkTitleTip"),tooltip:"".concat(f.format("createParamsDemo",{params:"--network string --ip string --ip6 string"})),ghost:!0,children:[(0,n.jsxs)(oe.UW,{children:[(0,n.jsx)(m.Z,{label:f.format("createSelfNetworkIp",{ip:"ipv4"}),name:["ipV4","address"],width:"md",tooltip:f.format("createSelfNetworkIpTip",{ip:"ipv4",example:"192.168.1.5"}),placeholder:"192.168.1.5"}),(0,n.jsx)(M.Z,{name:["ipV4"],children:function(L){var ie=L.ipV4;return(0,n.jsx)(m.Z,{label:f.format("createSelfNetworkIpSubnet",{ip:"ipv4"}),name:["ipV4","subnet"],width:"md",required:ie&&ie.address,tooltip:f.format("createSelfNetworkIpSubnetTip",{ip:"ipv4",example:"192.168.1.0/24"}),placeholder:"192.168.1.0/24",rules:[{required:ie&&ie.address}]})}}),(0,n.jsx)(m.Z,{label:f.format("createSelfNetworkIpGateway",{ip:"ipv4"}),name:["ipV4","gateway"],width:"md",tooltip:f.format("createSelfNetworkIpGatewayTip",{ip:"ipv4",example:"192.168.1.1"}),placeholder:"192.168.1.1"}),(0,n.jsx)(Q.Z,{label:f.format("createSelfNetworkIpV6Enable"),name:"enableIpV6Address"})]}),(0,n.jsx)(M.Z,{name:["enableIpV6Address"],children:function(L){var ie=L.enableIpV6Address;if(ie)return(0,n.jsxs)(oe.UW,{children:[(0,n.jsx)(m.Z,{label:f.format("createSelfNetworkIp",{ip:"ipv6"}),name:["ipV6","address"],width:"md",tooltip:f.format("createSelfNetworkIpTip",{ip:"ipv6",example:"2001:db8::5"}),placeholder:"2001:db8::5"}),(0,n.jsx)(M.Z,{name:["ipV6"],children:function(v){var F=v.ipV6;return(0,n.jsx)(m.Z,{label:f.format("createSelfNetworkIpSubnet",{ip:"ipv6"}),name:["ipV6","subnet"],width:"md",required:F&&F.address,tooltip:f.format("createSelfNetworkIpSubnetTip",{ip:"ipv6",example:"2001:db8::/48"}),placeholder:"2001:db8::/48",rules:[{required:F&&F.address}]})}}),(0,n.jsx)(m.Z,{label:f.format("createSelfNetworkIpGateway",{ip:"ipv6"}),name:["ipV6","gateway"],width:"md",tooltip:f.format("createSelfNetworkIpGatewayTip",{ip:"ipv6",example:"2001:db8::1"}),placeholder:"2001:db8::1"})]})}})]})})},bn=yn,xn=e(90672);function An(){var j=new P.Uo("components.appForm");return(0,n.jsx)(p.Z,{ghost:!0,title:j.format("createHookTitle"),subTitle:"",children:(0,n.jsx)(xn.Z,{label:j.format("createHookContainerCreate"),name:["hook","containerCreate"],placeholder:j.format("createHookContainerCreateTip")})})}var wn=e(93529),Tn=e(66309),Zn=e(96074),Ln=e(83062),Un=e(64789),Sn=e(85060),hn=e(78451),Bn=e(99861),Nn=e(80821),kn=e(1699),Wn=e(80271),Kn=e(47248),Hn=e(98510);function Fn(j){var Re=(0,t.useState)(!1),f=A()(Re,2),se=f[0],L=f[1],ie=(0,t.useContext)(o.Z),X=ie.createFormRef,v=ie.volumeListRef,F=ie.createEnvRef,ne=ie.domainRef,$=new P.Uo("components.appForm"),x=(0,t.useState)(!1),b=A()(x,2),Ie=b[0],Ue=b[1];(0,t.useEffect)(function(){if(X.current){var k;Ue(!!((k=X.current)!==null&&k!==void 0&&k.getFieldValue("id")))}},[X.current]);function Te(k){return Ze.apply(this,arguments)}function Ze(){return Ze=S()(l()().mark(function k(re){var O,pe,I,y,a,te,Oe,ae,le,ue,de,ye;return l()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,(0,rn.YU)({md5:re});case 2:return I=q.sent,Ie||(Oe=(y=X.current)===null||y===void 0?void 0:y.getFieldsValue(),(a=X.current)===null||a===void 0||a.resetFields(),(te=X.current)===null||te===void 0||te.setFieldsValue({siteName:Oe.siteName,siteTitle:Oe.siteTitle})),I.data.info.Config.Env&&I.data.info.Config.Env.map(function(W){var Ae,ke=W.split("=");(Ae=F.current)===null||Ae===void 0||Ae.addEnvItem(ke[0],ke.slice(1).join("="))}),(O=X.current)===null||O===void 0||O.setFieldValue("imageName",re),(pe=X.current)===null||pe===void 0||pe.setFieldValue("workDir",I.data.info.Config.WorkingDir),Ie||((ae=ne.current)===null||ae===void 0||ae.setExposePort(I.data.info.Config.ExposedPorts),I.data.info.Config.Volumes?(de=[],Object.keys(I.data.info.Config.Volumes).map(function(W,Ae){de.push(W)}),(ue=v.current)===null||ue===void 0||ue.setDefaultDestPath(de)):(ye=v.current)===null||ye===void 0||ye.setDefaultDestPath([]),(le=X.current)===null||le===void 0||le.setFieldsValue({workDir:{value:"",useDefault:!0,default:I.data.info.Config.WorkingDir},user:{value:"",useDefault:!0,default:I.data.info.Config.User},command:{value:"",useDefault:!0,default:I.data.info.Config.Cmd&&I.data.info.Config.Cmd.join(" ")},entrypoint:{value:"",useDefault:!0,default:I.data.info.Config.Entrypoint&&I.data.info.Config.Entrypoint.join(" ")}})),q.abrupt("return",!0);case 9:case"end":return q.stop()}},k)})),Ze.apply(this,arguments)}return(0,t.useEffect)(function(){j.fromImageId&&Te(j.fromImageId)},[j.fromImageId]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.Z,{destroyOnHidden:!0,open:se,width:me.R_,title:$.format("dockerImageTitle"),footer:!1,onClose:function(){L(!1)},children:(0,n.jsx)(Hn.C,{columns:[{title:"Id",dataIndex:"Id",search:!1,width:120,render:function(re,O,pe,I,y){return(0,n.jsx)(hn.Z,{content:O.Id.slice(7,19)})}},{title:P.FD.format("listImageName"),dataIndex:"tag",render:function(re,O,pe,I){return(0,n.jsx)(hn.Z,{content:O.RepoTags[0]})}},{title:"Digest",width:120,render:function(re,O,pe,I,y){var a=O.RepoDigests&&O.RepoDigests[0];return a?a.substring(a.indexOf("@")+8).substring(0,12):(0,n.jsx)(Tn.Z,{color:"warning",children:new P.Uo("components.appDetail").format("checkImageUpgradeOption.-3")})}},{title:P.FD.format("listCreatedAt"),dataIndex:"Created",search:!1,width:180,render:function(re,O,pe,I){return(0,n.jsx)("div",{children:(0,d.ZM)(O.Created*1e3)},O.Id)},sorter:function(re,O){return re.Created-O.Created}},{title:P.FD.format("listManage"),valueType:"option",key:"option",width:50,render:function(re,O,pe,I){return(0,n.jsx)(C.Z,{split:(0,n.jsx)(Zn.Z,{type:"vertical"}),children:(0,n.jsx)(Nn.Z,{buttonProps:{icon:(0,n.jsx)(Un.Z,{}),type:"link"},tips:P.FD.format("listManageUse"),action:function(){return Te(O.RepoTags[0])},onSuccess:function(){L(!1)}},"addImage")})}}],request:function(){var k=S()(l()().mark(function re(O,pe,I){var y,a,te;return l()().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=3,(0,rn.KG)({tag:O.tag});case 3:return y=ae.sent,a=0,te=[],y.data.list&&(te=y.data.list.flatMap(function(le){return le.RepoTags.map(function(ue){var de,ye=(de=le.RepoDigests)===null||de===void 0?void 0:de.find(function(Ne){var q=Ne.split("@"),W=A()(q,2),Ae=W[0],ke=W[1];return ue.includes(Ae)});return{Key:a++,Id:le.Id,Created:le.Created,RepoTags:[ue],RepoDigests:[ye]}})})),ae.abrupt("return",{data:te,success:!0,total:te.length});case 8:case"end":return ae.stop()}},re)}));return function(re,O,pe){return k.apply(this,arguments)}}(),rowKey:"Key"})},"imageTableList"),(0,n.jsxs)(C.Z.Compact,{children:[(0,n.jsx)(m.Z,{width:"lg",label:$.format("dockerImageImageName"),name:"imageName",disabled:!0,placeholder:$.format("dockerImageImageNameEmpty"),rules:[{required:!0}],required:!0}),(0,n.jsx)(z.Z,{label:" ",children:(0,n.jsx)(he.ZP,{type:"primary",onClick:function(){return L(!0)},children:$.format("dockerImageTitle")},"showBtn")}),(0,n.jsx)(M.Z,{name:["imageName"],children:function(re){var O=re.imageName;if(O)return(0,n.jsx)(z.Z,{label:" ",children:(0,n.jsx)(Bn.Z,{finishAutoHide:!0,image:O?[O]:[],trigger:(0,n.jsx)(Ln.Z,{title:$.format("dockerImageUpgradeImageTip"),children:(0,n.jsx)(he.ZP,{icon:(0,n.jsx)(Sn.Z,{}),children:$.format("dockerImageUpgradeImageButton")})})})})}}),(0,n.jsx)(z.Z,{label:" ",children:(0,n.jsx)(Kn.Z,{onFinish:function(re){Te(re)}},"remote")}),(0,n.jsx)(z.Z,{label:" ",children:(0,n.jsx)(M.Z,{name:["imageName"],children:function(re){var O=re.imageName;if(O)return(0,n.jsx)(kn.u,{access:"canSeeEnableCe",showProTips:!0,children:function(I){var y=I.canSeeEnableCe;return(0,n.jsx)(Wn.Z,{imageId:O,trigger:(0,n.jsx)(he.ZP,{disabled:y,children:$.format("dockerImageFileExplorer")})})}})}})})]})]})}var $n=e(44349);function Vn(){var j=new P.Uo("components.appForm");return(0,n.jsx)(p.Z,{ghost:!0,title:j.format("createDevice"),headerBordered:!0,tooltip:"".concat(j.format("createParamsDemo",{params:"--device list"})),children:(0,n.jsx)($n.Z,{name:"device",showAddButtonLabel:"".concat(P.FD.format("listManageAdd")).concat(j.format("createDevice")),hideCopyButton:!0,showAddButton:!0,gap:10,items:[{label:j.format("createDeviceHost"),name:"host",width:"md",placeholder:"/dev/tty0"},{label:j.format("createDeviceDest"),name:"dest",width:"md",placeholder:"/dev/tty0"}]})})}var gn=e(64317);function Gn(){var j=new P.Uo("components.appForm");return(0,n.jsxs)(p.Z,{ghost:!0,children:[(0,n.jsxs)(R.Z,{children:[(0,n.jsx)(u.Z,{span:4,children:(0,n.jsx)(Q.Z,{label:j.format("createGpus"),name:["gpus","enable"]})}),(0,n.jsx)(u.Z,{span:20,children:(0,n.jsx)(M.Z,{name:["gpus"],children:function(f){var se=f.gpus;if(se&&se.enable)return(0,n.jsx)(gn.Z,{tooltip:"".concat(j.format("createParamsDemo",{params:"--gpus 'device=0'"})),mode:"tags",label:j.format("createGpusDevice"),name:["gpus","device"],placeholder:j.format("createGpusDeviceEmpty")})}})})]}),(0,n.jsx)(M.Z,{name:["gpus"],children:function(f){var se=f.gpus;if(se&&se.enable)return(0,n.jsx)(gn.Z,{tooltip:"".concat(j.format("createParamsDemo",{params:"--gpus 'capabilities=compute,utility'"})),label:j.format("createGpusCap"),name:["gpus","capabilities"],mode:"multiple",fieldProps:{allowClear:!0},options:j.option("createGpusCapOption",["compute","compat32","graphics","utility","video","display"])})}})]})}var zn=e(55730),Yn=e(27323),Jn=e(44771),Qn=e(33879),Xn=e(96486),Qe=e.n(Xn),qn=e(73396),Cn=e(14946),er=e(13822),nr=e(64412),rr=e(27166),tr=(0,t.forwardRef)(function(j,Re){var f=(0,t.useContext)(je.Z),se=f.notice,L=(0,Ye.useAccess)(),ie=(0,t.useState)("basic"),X=A()(ie,2),v=X[0],F=X[1],ne=new P.Uo("app"),$=new P.Uo("components.appForm"),x=(0,t.useRef)(),b=(0,t.useRef)(),Ie=(0,t.useRef)(),Ue=(0,t.useRef)(),Te=(0,t.useRef)(),Ze=(0,t.useState)(!1),k=A()(Ze,2),re=k[0],O=k[1],pe=(0,t.useRef)();return(0,t.useImperativeHandle)(Re,function(){return{show:function(y){return S()(l()().mark(function a(){var te,Oe,ae,le,ue,de,ye,Ne,q,W,Ae,ke,tn,an,on,sn,ln,Fe,un,dn,cn,mn,$e,We,r,De,Pn,Ve,En,jn,Ge,In,fn;return l()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if((te=x.current)===null||te===void 0||te.resetFields(),y){ve.next=3;break}return ve.abrupt("return");case 3:return O(!0),(Oe=pe.current)===null||Oe===void 0||Oe.loading(),ve.prev=5,ve.next=8,(0,Ce.iE)({id:y});case 8:if(We=ve.sent,r=(ae=We.data.containerInfo)===null||ae===void 0?void 0:ae.Info,De={info:{}},!r){ve.next=16;break}return ve.next=14,(0,rn.YU)({md5:r.Image});case 14:Pn=ve.sent,De=Pn.data;case 16:return Ve=[],ve.next=19,(0,Cn.jR)();case 19:return En=ve.sent,Ve=En.data.list,jn=function(s){if(!s)return{};var _=s[We.data.siteName];if(!_)return{};var h=Ve&&Ve.find(function(ee){return ee.Id==_.NetworkID});return{ipV4:{address:_.IPAddress,gateway:_.Gateway,subnet:h&&h.IPAM.Config&&h.IPAM.Config[0]&&h.IPAM.Config[0].Subnet},ipV6:{address:_.GlobalIPv6Address,gateway:_.IPv6Gateway,subnet:h&&h.IPAM.Config&&h.IPAM.Config[1]&&h.IPAM.Config[1].Subnet},enableIpV6Address:h&&h.IPAM.Config&&h.IPAM.Config[1],bindIpV6:!!(h&&h.IPAM.Config&&h.IPAM.Config[1])}}(r==null?void 0:r.NetworkSettings.Networks),Ge=[],ve.next=25,function(){var s=S()(l()().mark(function _(h,ee){var we;return l()().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:if(!(!(ee!=null&&ee.NetworkSettings)||!(ee!=null&&ee.NetworkSettings.Networks)||!(ee!=null&&ee.NetworkSettings.Networks[h]))){ce.next=2;break}return ce.abrupt("return",[]);case 2:return ce.next=4,(0,Cn.IS)({name:h});case 4:if(we=ce.sent,ce.t0=we.data.info.Containers,!ce.t0){ce.next=10;break}return ce.next=9,Promise.all(Object.entries(we.data.info.Containers).filter(function(Se){var Xe=A()(Se,2),Dn=Xe[0],qe=Xe[1];return qe.Name!=h}).map(function(){var Se=S()(l()().mark(function Xe(Dn){var qe,or,en,ze,Mn,Ke,pn;return l()().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:if(qe=A()(Dn,2),or=qe[0],en=qe[1],en.Name==h){He.next=9;break}return He.next=4,(0,er.jV)({md5:en.Name});case 4:return Mn=He.sent,Ke=Mn.data.info,pn=(ze=ee.HostConfig)===null||ze===void 0||(ze=ze.VolumesFrom)===null||ze===void 0?void 0:ze.includes(en.Name),pn&&Ke.Mounts&&Ge.push.apply(Ge,U()(Ke.Mounts.map(function(sr){var vn;return(vn=sr.Destination)!==null&&vn!==void 0?vn:""}))),He.abrupt("return",{name:en.Name,alise:Ke&&(0,N.zY)(Ke.Name),env:Ke&&Ke.Config.Env,volume:pn});case 9:case"end":return He.stop()}},Xe)}));return function(Xe){return Se.apply(this,arguments)}}()));case 9:ce.t0=ce.sent;case 10:return ce.abrupt("return",ce.t0);case 11:case"end":return ce.stop()}},_)}));return function(_,h){return s.apply(this,arguments)}}()(We.data.siteName,r);case 25:In=ve.sent,(le=x.current)===null||le===void 0||le.setFieldsValue(D()({id:r==null?void 0:r.Id,siteTitle:We.data.siteTitle,siteName:We.data.siteName,hook:We.data.env.hook,imageName:r==null?void 0:r.Config.Image,hostname:r==null?void 0:r.Config.Hostname,privileged:r==null||(ue=r.HostConfig)===null||ue===void 0?void 0:ue.Privileged,useHostNetwork:(r==null||(de=r.HostConfig)===null||de===void 0?void 0:de.NetworkMode)=="host",publishAllPorts:r==null||(ye=r.HostConfig)===null||ye===void 0?void 0:ye.PublishAllPorts,groupAdd:r==null||(Ne=r.HostConfig)===null||Ne===void 0?void 0:Ne.GroupAdd,workDir:{value:r==null?void 0:r.Config.WorkingDir,useDefault:De.info.Config.WorkingDir==(r==null?void 0:r.Config.WorkingDir),default:De&&De.info.Config&&De.info.Config.WorkingDir},user:{value:r==null?void 0:r.Config.User,useDefault:De.info.Config.User==(r==null?void 0:r.Config.User),default:De.info.Config.User},command:{value:(0,d.PK)(r==null?void 0:r.Config.Cmd),useDefault:Qe().isEmpty(r==null?void 0:r.Config.Cmd)||Qe().isEqual(De.info.Config.Cmd,r==null?void 0:r.Config.Cmd),default:((q=De.info.Config)===null||q===void 0?void 0:q.Cmd)&&(0,d.PK)(De.info.Config.Cmd)},entrypoint:{value:(0,d.PK)(r==null?void 0:r.Config.Entrypoint),useDefault:Qe().isEmpty(r==null?void 0:r.Config.Entrypoint)||Qe().isEqual(De.info.Config.Entrypoint,r==null?void 0:r.Config.Entrypoint),default:((W=De.info)===null||W===void 0||(W=W.Config)===null||W===void 0?void 0:W.Entrypoint)&&(0,d.PK)(De.info.Config.Entrypoint)},shmsize:(0,N.Rk)(r==null||(Ae=r.HostConfig)===null||Ae===void 0?void 0:Ae.ShmSize),cpus:(0,N.PD)(r==null||(ke=r.HostConfig)===null||ke===void 0?void 0:ke.NanoCpus),memory:(0,N.pM)(r==null||(tn=r.HostConfig)===null||tn===void 0?void 0:tn.Memory),environment:(r==null?void 0:r.Config.Env)&&(0,d.oZ)(r.Config.Env,"="),label:function(s){return s&&Object.entries(s).map(function(_){var h=A()(_,2),ee=h[0],we=h[1];return{name:ee,value:we}})}(r==null?void 0:r.Config.Labels),volumes:function(s){return s==null?void 0:s.filter(function(_){var h;return!Ge||Ge.length==0||!Ge.includes((h=_.Destination)!==null&&h!==void 0?h:"")}).map(function(_){return{host:_.Type=="bind"?_.Source:_.Name,dest:_.Destination,type:_.Type,permission:_.RW?"write":"readonly"}})}(r==null?void 0:r.Mounts),ports:(0,N.yi)(r),links:In,network:function(s){return s&&Object.entries(s).map(function(_){var h=A()(_,2),ee=h[0],we=h[1],Le=Ve&&Ve.find(function(Se){return Se.Name==ee}),ce="";return we.Aliases&&we.Aliases.forEach(function(Se){if(!Se.includes("pod.dpanel.local")){ce=Se;return}}),{name:ee,alise:ce,ipV4:we.IPAddress,subnet:"".concat(Le&&Le.IPAM.Config&&Le!==null&&Le!==void 0&&Le.IPAM.Config[0]?Le==null?void 0:Le.IPAM.Config[0].Subnet:"-","/").concat(we.IPPrefixLen)}})}(r==null?void 0:r.NetworkSettings.Networks),restart:function(s){return s?{name:s==null?void 0:s.Name,maxAttempt:s==null?void 0:s.MaximumRetryCount}:{name:"no"}}(r==null||(an=r.HostConfig)===null||an===void 0?void 0:an.RestartPolicy),extraHosts:(0,d.oZ)(r==null||(on=r.HostConfig)===null||on===void 0?void 0:on.ExtraHosts,":"),autoRemove:r==null||(sn=r.HostConfig)===null||sn===void 0?void 0:sn.AutoRemove,log:function(s,_){return{driver:(_=s==null?void 0:s.Type)!==null&&_!==void 0?_:"json-file",maxFile:(s==null?void 0:s.Config)&&s.Config["max-file"],maxSize:(s==null?void 0:s.Config)&&s.Config["max-size"]}}(r==null||(ln=r.HostConfig)===null||ln===void 0?void 0:ln.LogConfig),dns:r==null||(Fe=r.HostConfig)===null||Fe===void 0||(Fe=Fe.Dns)===null||Fe===void 0?void 0:Fe.join(`
`),gpus:function(s){var _=s==null?void 0:s.find(function(ee){return ee.Driver=="nvidia"});if(!_)return{enable:!1};var h=_.Capabilities&&_.Capabilities[0];return{device:_.DeviceIDs,capabilities:h&&h.includes("gpu")?[]:h,enable:!0}}(r==null||(un=r.HostConfig)===null||un===void 0?void 0:un.DeviceRequests),device:function(s){return s==null?void 0:s.map(function(_){return{host:_.PathOnHost,dest:_.PathInContainer}})}(r==null||(dn=r.HostConfig)===null||dn===void 0?void 0:dn.Devices),hostPid:(r==null||(cn=r.HostConfig)===null||cn===void 0?void 0:cn.PidMode)=="host",capAdd:r==null||(mn=r.HostConfig)===null||mn===void 0?void 0:mn.CapAdd,healthcheck:function(s,_,h){if(!s)return{};var ee=s!=null&&(_=s.Test)!==null&&_!==void 0&&_.includes("CMD-SHELL")?"CMD-SHELL":"CMD";return{interval:(s==null?void 0:s.Interval)&&s.Interval/Ce.nL.Second,timeout:(s==null?void 0:s.Timeout)&&s.Timeout/Ce.nL.Second,retries:s==null?void 0:s.Retries,cmd:s!=null&&s.Test?s==null||(h=s.Test)===null||h===void 0?void 0:h.slice(1).join(" "):"",shellType:ee}}(r==null?void 0:r.Config.Healthcheck),useBridgeNetwork:function(s){return!!(s&&s.bridge)}(r==null?void 0:r.NetworkSettings.Networks),enableBindHost:r==null||($e=r.HostConfig)===null||$e===void 0||($e=$e.ExtraHosts)===null||$e===void 0?void 0:$e.some(function(s){return s.includes(":host-gateway")})},jn));case 27:return ve.prev=27,(fn=pe.current)===null||fn===void 0||fn.finish(),ve.finish(27);case 30:case"end":return ve.stop()}},a,null,[[5,,27,30]])}))()}}}),(0,n.jsx)(o.Z.Provider,{value:{createFormRef:x,volumeListRef:b,domainRef:Ie,createEnvRef:Te,createLinkRef:Ue},children:(0,n.jsx)(rr.Z,{title:P.Ob.format("container.create"),trigger:j.showTrigger?(0,n.jsx)(he.ZP,{type:"primary",disabled:!L.canSeeContainerListManageCreate,children:P.Ob.format("container.create")}):void 0,drawerProps:{width:me.R_,rootClassName:"createAppWapper"},ref:pe,formRef:x,onFinish:function(){var I=S()(l()().mark(function y(a){var te,Oe,ae,le,ue,de,ye;return l()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if((te=pe.current)===null||te===void 0||te.loading(),de={id:a.id,siteTitle:a.siteTitle,siteName:a.siteName,hostname:a.hostname,imageName:a.imageName,environment:a.environment,links:a.links,ports:a.ports,volumes:a.volumes,network:a.network&&a.network.map(function(W){return Qe().isArray(W.alise)||(W.alise=[W.alise]),W}),privileged:(Oe=a.privileged)!==null&&Oe!==void 0?Oe:!1,autoRemove:(ae=a.autoRemove)!==null&&ae!==void 0?ae:!1,restartPolicy:a.restart,cpus:a.cpus,memory:a.memory,shmsize:(le=a.shmsize)!==null&&le!==void 0?le:0,workDir:a.workDir&&!a.workDir.useDefault?a.workDir.value:"",user:a.user&&!a.user.useDefault?a.user.value:"",groupAdd:a.groupAdd,command:a.command&&!a.command.useDefault?a.command.value:"",entrypoint:a.entrypoint&&!a.entrypoint.useDefault?a.entrypoint.value:"",useHostNetwork:a.useHostNetwork,bindIpV6:a.bindIpV6,log:a.log,dns:a.dns,label:a.label,publishAllPorts:a.publishAllPorts,extraHosts:a.extraHosts,ipV4:a.ipV4,ipV6:a.ipV6,device:a.device,gpus:a.gpus,hook:a.hook,hostPid:a.hostPid,capAdd:a.capAdd,useBridgeNetwork:(ue=a.useBridgeNetwork)!==null&&ue!==void 0?ue:!0},!(!a.useBridgeNetwork&&!a.useHostNetwork&&(!a.network||a.network.length==0))){q.next=5;break}return se.error(ne.format("createMessageNoBridgeNetworkMustHasUseNetwork")),q.abrupt("return",!1);case 5:return a.useBridgeNetwork&&de.network&&!de.network.find(function(W){return W.name=="bridge"})&&de.network.push({name:"bridge",alise:[],ipV4:""}),a.healthcheck&&a.healthcheck.cmd&&a.healthcheck.cmd!=""&&(de.healthcheck=a.healthcheck),q.next=9,(0,Ce.$G)(de).finally(function(){var W;(W=pe.current)===null||W===void 0||W.finish()});case 9:return ye=q.sent,j.onFinish&&j.onFinish(ye.data.containerId),q.abrupt("return",!0);case 12:case"end":return q.stop()}},y)}));return function(y){return I.apply(this,arguments)}}(),open:re,onOpenChange:function(y){var a;O(y),!y&&((a=x.current)===null||a===void 0||a.resetFields())},children:(0,n.jsxs)(p.Z,{direction:"column",gutter:[0,10],ghost:!0,children:[(0,n.jsxs)(p.Z,{ghost:!0,title:ne.format("createTitle"),children:[(0,n.jsx)(z.Z,{hidden:!0,name:"id"}),(0,n.jsx)(m.Z,{name:"siteTitle",label:ne.format("createSiteTitle"),placeholder:ne.format("createSiteTitleEmpty")}),(0,n.jsxs)(oe.UW,{children:[(0,n.jsx)(m.Z,{width:"md",name:"siteName",label:ne.format("createSiteName"),required:!0,rules:[{required:!0}],tooltip:"".concat($.format("createParamsDemo",{params:"--name string"})),placeholder:ne.format("createSiteNameEmpty")}),(0,n.jsx)(m.Z,{label:"Hostname",name:"hostname",width:"md",tooltip:"".concat($.format("createParamsDemo",{params:"--hostname string"}))})]}),(0,n.jsx)(Fn,{fromImageId:""})]}),(0,n.jsx)(Y.Z,{offsetTop:10,target:function(){return document.querySelector(".createAppWapper .ant-drawer-body")},children:(0,n.jsx)(p.Z,{style:{margin:-20},children:(0,n.jsx)(g.Z,{activeKey:v,onChange:function(y){F(y)},items:$.option("createTabOption",["basic","link","run-command","resource","cap"]).map(function(I){return{label:I.label,key:I.value}})})})}),(0,n.jsxs)(Je.Z,{show:v=="basic",children:[(0,n.jsx)(Rn.Z,{ref:Ie,showBindHost:!0,showBindIpV6:!0,showBindAll:!0}),(0,n.jsx)(K.Z,{showAddButton:!0,showImportButton:!0,showCodeMode:!0,ref:Te,drawerProps:{title:$.format("createEnvTitle"),tooltip:"".concat($.format("createParamsDemo",{params:"-e, --env list"})),ghost:!0}}),(0,n.jsx)(H.Z,{showDefault:!0,ref:b}),(0,n.jsx)(M.Z,{name:["siteName","useHostNetwork"],children:function(y){var a=y.siteName,te=y.useHostNetwork;if(!te)return(0,n.jsx)(bn,{})}}),(0,n.jsx)(nr.Z,{}),(0,n.jsx)(be.Z,{})]}),(0,n.jsxs)(Je.Z,{show:v=="link",children:[(0,n.jsx)(M.Z,{name:["siteName","useHostNetwork"],children:function(y){var a=y.siteName,te=y.useHostNetwork;return te?(0,n.jsx)(p.Z,{children:(0,n.jsx)(c.Z,{showIcon:!0,description:ne.format("createNetworkDesc")})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(Me,{onAddEnv:function(ae,le){var ue;(ue=Te.current)===null||ue===void 0||ue.addEnvItem(ae,le)},ref:Ue}),(0,n.jsx)(fe,{showUseBridgeNetwork:!0,siteName:a}),(0,n.jsx)(On.Z,{})]})}}),(0,n.jsx)(Vn,{})]}),(0,n.jsxs)(Je.Z,{show:v=="run-command",children:[(0,n.jsxs)(oe.UW,{children:[(0,n.jsx)(Jn.Z,{ghost:!0,defaultValue:"always",showLabel:!0}),(0,n.jsx)(xe,{})]}),(0,n.jsx)(Qn.Z,{showCommand:!0,showEntrypoint:!0,showWorkDir:!0,showUser:!0}),(0,n.jsx)(Yn.Z,{}),(0,n.jsx)(An,{})]}),(0,n.jsxs)(Je.Z,{show:v=="resource",children:[(0,n.jsx)(qn.Z,{}),(0,n.jsx)(zn.Z,{showShmsize:!0}),(0,n.jsx)(Gn,{})]}),(0,n.jsx)(Je.Z,{show:v=="cap",children:(0,n.jsx)(wn.Z,{})})]})})})}),ar=tr},92067:function(Be,Pe,e){e.d(Pe,{Z:function(){return he}});var Ee=e(15009),D=e.n(Ee),_e=e(99289),l=e.n(_e),G=e(13822),U=e(64789),E=e(9773),S=e(42075),V=e(83062),A=e(83622),p=e(37413),z=e(5251),m=e(36146),oe=e(67255),M=e(85893);function he(Y){return(0,M.jsx)(E.Z,{columns:[{title:m.FD.format("listContainerName"),dataIndex:"name",render:function(c,t,o,Z){return(0,M.jsx)(S.Z,{direction:"vertical",style:{textAlign:"left"},children:t==null?void 0:t.Names.map(function(w){return(0,z.fi)(w,"/")})},t.Id)}},{title:m.FD.format("listPort"),dataIndex:"ports",search:!1,render:function(c,t,o,Z){var w=[],J=[];return t!=null&&t.Ports&&t.Ports.map(function(R,u){R.PublicPort?w.push(R):J.push(R)}),(0,M.jsx)(p.Z,{publicPort:w,privatePort:J,domain:[]})}},{title:m.FD.format("listManage"),valueType:"option",key:"option",ellipsis:!0,width:100,render:function(c,t,o,Z){return[(0,M.jsx)(V.Z,{title:m.FD.format("listManageUse"),children:(0,M.jsx)(A.ZP,{type:"link",onClick:l()(D()().mark(function w(){var J;return D()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,(0,G.jV)({md5:t.Id});case 2:J=u.sent,Y.onSelect&&Y.onSelect(J.data.info);case 4:case"end":return u.stop()}},w)})),children:(0,M.jsx)(U.Z,{})},t.Id)},t.Id)]}}],rowKey:"Id",request:function(){var g=l()(D()().mark(function c(t,o,Z){var w;return D()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,G.IE)({siteTitle:t.name});case 2:return w=R.sent,R.abrupt("return",{data:w.data.list,success:!0,total:w.data.list.length});case 4:case"end":return R.stop()}},c)}));return function(c,t,o){return g.apply(this,arguments)}}(),pagination:(0,oe.Oh)()})}},20743:function(Be,Pe,e){var Ee=e(15009),D=e.n(Ee),_e=e(99289),l=e.n(_e),G=e(5574),U=e.n(G),E=e(67294),S=e(14946),V=e(64789),A=e(9773),p=e(83622),z=e(85265),m=e(42075),oe=e(66309),M=e(16970),he=e(3616),Y=e(36146),g=e(67255),c=e(85893),t=(0,E.forwardRef)(function(o,Z){(0,E.useImperativeHandle)(Z,function(){return{show:function(){u(!0)}}});var w=(0,E.useState)(!1),J=U()(w,2),R=J[0],u=J[1],C=(0,E.useRef)(),T=new Y.Uo("components.network");return(0,c.jsxs)(c.Fragment,{children:[o.showTriggerButton&&(0,c.jsx)(p.ZP,{onClick:function(){u(!0)},children:T.format("selectTriggerButton")}),(0,c.jsx)(z.Z,{title:T.format("selectDrawerTitle"),width:he.R_,footer:!1,open:R,onClose:function(){return u(!1)},extra:(0,c.jsx)(m.Z,{children:(0,c.jsx)(M.Z,{onFinish:function(){var B,d;!((B=C.current)===null||B===void 0)&&B.reloadAndRest&&((d=C.current)===null||d===void 0||d.reloadAndRest())}},"create")}),children:(0,c.jsx)(A.Z,{rowKey:"Name",actionRef:C,columns:[{title:Y.FD.format("listTitle"),dataIndex:"Name",render:function(B,d,me,P,N){return d.Name=="none"||d.Name=="bridge"||d.Name=="host"?(0,c.jsxs)(c.Fragment,{children:[d.Name," ",(0,c.jsx)(oe.Z,{color:"blue",children:"System"})]}):(0,c.jsx)(c.Fragment,{children:B})}},{title:Y.FD.format("listType"),ellipsis:!0,width:80,dataIndex:"Driver",search:!1},{title:"Driver",ellipsis:!0,width:100,search:!1,dataIndex:["IPAM","Driver"]},{title:"IPV4",search:!1,width:120,render:function(B,d,me,P,N){return d.IPAM.Config&&d.IPAM.Config[0]&&(0,c.jsxs)(m.Z,{direction:"vertical",children:[d.IPAM.Config[0].Subnet,d.IPAM.Config[0].Gateway]})}},{title:"IPV6",search:!1,render:function(B,d,me,P,N){return d.IPAM.Config&&d.IPAM.Config[1]&&(0,c.jsxs)(m.Z,{direction:"vertical",children:[d.IPAM.Config[1].Subnet,d.IPAM.Config[1].Gateway]})}},{title:Y.FD.format("listManage"),width:100,search:!1,render:function(B,d,me,P,N){return[d.Name!="none"&&d.Name!="bridge"&&d.Name!="host"&&(0,c.jsx)(p.ZP,{type:"link",onClick:function(){o.onSelect(d),u(!1)},children:(0,c.jsx)(V.Z,{})},d.Id)]}}],request:function(){var i=l()(D()().mark(function B(d,me,P){var N;return D()().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.next=2,(0,S.jR)({name:d.Name});case 2:return N=ge.sent,ge.abrupt("return",{data:N.data.list,success:!0,total:N.data.list.length});case 4:case"end":return ge.stop()}},B)}));return function(B,d,me){return i.apply(this,arguments)}}(),pagination:(0,g.Oh)()})})]})});Pe.Z=t},70146:function(Be,Pe,e){e.d(Pe,{SR:function(){return z},VE:function(){return A},Zy:function(){return S},iD:function(){return oe},vG:function(){return he},yB:function(){return U}});var Ee=e(15009),D=e.n(Ee),_e=e(99289),l=e.n(_e),G=e(82346);function U(g){return E.apply(this,arguments)}function E(){return E=l()(D()().mark(function g(c){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,G.request)("/dpanel/api/app/container-backup/create",{data:c,method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},g)})),E.apply(this,arguments)}function S(g){return V.apply(this,arguments)}function V(){return V=l()(D()().mark(function g(c){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,G.request)("/dpanel/api/app/container-backup/get-list",{method:"POST",data:c}));case 1:case"end":return o.stop()}},g)})),V.apply(this,arguments)}function A(g){return p.apply(this,arguments)}function p(){return p=l()(D()().mark(function g(c){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,G.request)("/dpanel/api/app/container-backup/delete",{method:"POST",data:c}));case 1:case"end":return o.stop()}},g)})),p.apply(this,arguments)}function z(g){return m.apply(this,arguments)}function m(){return m=l()(D()().mark(function g(c){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,G.request)("/dpanel/api/app/container-backup/restore",{method:"POST",data:c}));case 1:case"end":return o.stop()}},g)})),m.apply(this,arguments)}function oe(g){return M.apply(this,arguments)}function M(){return M=l()(D()().mark(function g(c){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,G.request)("/dpanel/api/app/container-backup/get-detail",{method:"POST",data:c}));case 1:case"end":return o.stop()}},g)})),M.apply(this,arguments)}function he(g){return Y.apply(this,arguments)}function Y(){return Y=l()(D()().mark(function g(c){return D()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,G.request)("/dpanel/api/app/site/restore",{data:c,method:"POST"});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},g)})),Y.apply(this,arguments)}},13822:function(Be,Pe,e){e.d(Pe,{IE:function(){return A},IW:function(){return S},KK:function(){return he},LJ:function(){return g},RF:function(){return Z},Re:function(){return t},aF:function(){return J},eE:function(){return oe},jV:function(){return z}});var Ee=e(5574),D=e.n(Ee),_e=e(15009),l=e.n(_e),G=e(99289),U=e.n(G),E=e(82346);function S(u){return V.apply(this,arguments)}function V(){return V=U()(l()().mark(function u(C){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,E.request)("/dpanel/api/app/container/status",{method:"POST",data:C}));case 1:case"end":return i.stop()}},u)})),V.apply(this,arguments)}function A(u){return p.apply(this,arguments)}function p(){return p=U()(l()().mark(function u(C){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,E.request)("/dpanel/api/app/container/get-list",{data:C,method:"POST"}));case 1:case"end":return i.stop()}},u)})),p.apply(this,arguments)}function z(u){return m.apply(this,arguments)}function m(){return m=U()(l()().mark(function u(C){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,E.request)("/dpanel/api/app/container/get-detail",{data:C,method:"POST"}));case 1:case"end":return i.stop()}},u)})),m.apply(this,arguments)}function oe(u){return M.apply(this,arguments)}function M(){return M=U()(l()().mark(function u(C){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,E.request)("/dpanel/api/app/container/update",{data:C,method:"POST"}));case 1:case"end":return i.stop()}},u)})),M.apply(this,arguments)}function he(){return Y.apply(this,arguments)}function Y(){return Y=U()(l()().mark(function u(){return l()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",(0,E.request)("/dpanel/api/app/container/prune",{method:"POST"}));case 1:case"end":return T.stop()}},u)})),Y.apply(this,arguments)}function g(u){return c.apply(this,arguments)}function c(){return c=U()(l()().mark(function u(C){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!C.enableExportToPath){i.next=2;break}return i.abrupt("return",(0,E.request)("/dpanel/api/app/container/export",{method:"GET",params:C}));case 2:return i.abrupt("return",new Promise(function(B,d){var me=localStorage.getItem("token"),P=new URLSearchParams;P.append("token",me||""),Object.entries(C).forEach(function(ge){var Me=D()(ge,2),K=Me[0],H=Me[1];P.append(K,String(H))});var N="/dpanel/api/app/container/export?".concat(P.toString()),n=document.createElement("iframe");n.style.display="none",n.src=N,document.body.appendChild(n),setTimeout(function(){n.parentElement&&document.body.removeChild(n)},5e3),B({code:200,data:"success",error:""})}));case 3:case"end":return i.stop()}},u)})),c.apply(this,arguments)}function t(u){return o.apply(this,arguments)}function o(){return o=U()(l()().mark(function u(C){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,E.request)("/dpanel/api/app/container/commit",{method:"POST",data:C}));case 1:case"end":return i.stop()}},u)})),o.apply(this,arguments)}function Z(u){return w.apply(this,arguments)}function w(){return w=U()(l()().mark(function u(C){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,E.request)("/dpanel/api/app/container/upgrade",{method:"POST",data:C}));case 1:case"end":return i.stop()}},u)})),w.apply(this,arguments)}function J(u){return R.apply(this,arguments)}function R(){return R=U()(l()().mark(function u(C){return l()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,E.request)("/dpanel/api/app/container/copy",{method:"POST",data:C}));case 1:case"end":return i.stop()}},u)})),R.apply(this,arguments)}},89240:function(Be,Pe,e){e.d(Pe,{HJ:function(){return M},PD:function(){return Y},Rk:function(){return he},pM:function(){return g},yi:function(){return oe},zY:function(){return c}});var Ee=e(64599),D=e.n(Ee),_e=e(5251),l=e(10531),G=e(43836),U=e(17179),E=e(74911),S=e(17637),V=e(58353),A=/^([1-9]|[1-5]?[0-9]{2,4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/m;function p(t){return A.test(t)?parseInt(t,10):0}function z(t){typeof t!="string"&&(t=t.toString());var o=l.Z(t,"-",2),Z=G.Z(o,p);return Z.length==1&&Z.push(Z[0]),Z}function m(t,o){typeof t!="string"&&(t=t.toString());var Z=null,w=t.indexOf(":");w>=0&&(Z=t.substring(0,w),t=t.substring(w+1)),o=typeof o=="number"?o:p(o);var J=z(t),R=Math.min(J[0],o),u=Math.max(J[1],o);return Z?Z+":"+R+"-"+u:R+"-"+u}function oe(t){if(!t||!t.HostConfig||!t.HostConfig.PortBindings)return[];var o=[],Z=t.HostConfig.PortBindings,w=U.Z(Z),J=E.Z(w,function(R){return l.Z(R,"/")[1]});return S.Z(J,function(R,u){var C={},T=D()(R),i;try{for(T.s();!(i=T.n()).done;){var B=i.value,d=D()(Z[B]),me;try{for(d.s();!(me=d.n()).done;){var P=me.value;C[P.HostIp]=C[P.HostIp]||[],C[P.HostIp].push(B)}}catch(N){d.e(N)}finally{d.f()}}}catch(N){T.e(N)}finally{T.f()}S.Z(C,function(N,n){var ge=V.Z(N,function(H){return parseInt(l.Z(H,"/")[0],10)}),Me=-1,K=-1;S.Z(ge,function(H){var be=l.Z(H,"/"),Q=parseInt(be[0],10),je=Z[H][0];Z[H].shift();var xe=p(je.HostPort);if(xe>0){if(o.length>0&&Me===xe-1&&K===Q-1){o[o.length-1].host=m(o[o.length-1].host,xe),o[o.length-1].dest=m(o[o.length-1].dest,Q),Me=xe,K=Q;return}Me=xe,K=Q}else Me=-1,K=-1;var Ce=je.HostPort.toString();n&&(Ce="".concat(n,":").concat(Ce)),o.push({host:Ce,dest:Q.toString(),protocol:u})})})}),o}function M(t){return(0,_e.fi)(t,"/")}function he(t){return t?(0,_e.FI)(t):"64M"}function Y(t){return t&&t>1e8?t/1e9:0}function g(t){return t?t/1024/1024:0}function c(t){return"".concat(M(t),".pod.dpanel.local")}}}]);
