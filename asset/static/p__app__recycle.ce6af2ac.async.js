"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1610],{67108:function(y,h,n){n.r(h),n.d(h,{default:function(){return w}});var D=n(15009),_=n.n(D),P=n(99289),f=n.n(P),M=n(74453),m=n(62597),R=n(82346),O=n(86548),I=n(87740),C=n(52645),E=n(67294),A=n(96974),T=n(78451),u=n(36146),U=n(55681),g=n(84941),b=n(70146),c=n(85893);function w(){var L=(0,A.UO)(),d=(0,E.useRef)(),W=(0,R.useAccess)(),p=new u.Uo("app"),v=(0,E.useRef)();return(0,E.useEffect)(function(){var s;(s=d.current)===null||s===void 0||s.reload()},[L]),(0,c.jsxs)(M._z,{header:{extra:[]},children:[(0,c.jsx)(g.Z,{ref:v,onFinish:function(){var e;!((e=d.current)===null||e===void 0)&&e.reloadAndRest&&d.current.reloadAndRest()}}),(0,c.jsx)(U.Co,{rowKey:"id",actionRef:d,columns:[{title:u.FD.format("listTitle"),dataIndex:"siteTitle",width:200},{title:u.FD.format("listName"),dataIndex:"siteName",width:200},{title:u.FD.format("listLastError"),dataIndex:"message",search:!1,width:250,render:function(e,a,r,i,o){return(0,c.jsx)(T.Z,{content:a.message})}},{title:u.FD.format("listDeletedAt"),ellipsis:!0,dataIndex:"deletedAt",search:!1,width:180,render:function(e,a,r,i,o){return new Date(a.deletedAt).toLocaleString()}}],request:function(){var s=f()(_()().mark(function e(a,r,i){var o;return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.cl)({isDelete:!0,siteTitle:a.siteTitle,siteName:a.siteName});case 2:return o=t.sent,t.abrupt("return",{data:o.data.list,success:!0,total:o.data.list.length});case 4:case"end":return t.stop()}},e)}));return function(e,a,r){return s.apply(this,arguments)}}(),rowSelection:W.canSeeContainerListManageDelete?{alwaysShowAlert:!0}:void 0,actions:[{key:"edit",label:u.FD.format("listManageEdit"),showInContext:"operator",showInOperator:!0,buttonProps:{icon:(0,c.jsx)(O.Z,{})},disable:function(e){return e.isMultiple()},action:function(e){return f()(_()().mark(function a(){var r,i,o;return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=e.finish,o=e.selectedRow,i(!0),(r=v.current)===null||r===void 0||r.show(o.id);case 3:case"end":return t.stop()}},a)}))()}},{key:"recover",label:u.FD.format("listManageUnpause"),showInContext:"operator",showInOperator:!0,buttonProps:{icon:(0,c.jsx)(I.Z,{})},confirmProps:{description:p.format("recycleRestoreConfirm")},disable:function(e){return e.isMultiple()},action:function(e){return f()(_()().mark(function a(){var r,i;return _()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=e.finish,i=e.selectedRow,r(!0),l.abrupt("return",(0,b.vG)({name:i.siteName}).then(function(){var t;!((t=d.current)===null||t===void 0)&&t.reloadAndRest&&d.current.reloadAndRest()}).finally(function(){r(!0)}));case 3:case"end":return l.stop()}},a)}))()}},{key:"clear",label:u.FD.format("listManagePrune"),showInQuickToolbar:!0,buttonProps:{icon:(0,c.jsx)(C.Z,{})},confirmProps:{description:p.format("recyclePruneConfirm")},action:function(e){return f()(_()().mark(function a(){var r,i;return _()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return r=e.loading,i=e.finish,r(),l.abrupt("return",(0,m.xU)().finally(function(){i(!0)}));case 3:case"end":return l.stop()}},a)}))()}},{key:"delete",showInContext:!0,showInQuickToolbar:!0,action:function(e){return f()(_()().mark(function a(){var r,i,o;return _()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.loading,i=e.finish,o=e.selectedRows,r(),t.abrupt("return",(0,m.xb)({id:o.map(function(j){return j.id})}).finally(function(){i(!0)}));case 3:case"end":return t.stop()}},a)}))()}}]},"recycle-list")]})}}}]);
