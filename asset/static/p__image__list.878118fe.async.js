"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4214],{47248:function(ne,w,e){var L=e(15009),t=e.n(L),B=e(99289),a=e.n(B),c=e(5574),l=e.n(c),D=e(38345),T=e(97269),I=e(5966),b=e(62370),E=e(64317),K=e(83622),W=e(85265),M=e(25593),U=e(42075),g=e(67294),d=e(92754),A=e(82346),o=e(2205),oe=e(3616),F=e(36146),ie=e(23430),J=e(68297),de=e(66991),p=e(85893),f=(0,g.forwardRef)(function(v,S){var n=(0,g.useState)(!1),G=l()(n,2),he=G[0],V=G[1],Q=(0,g.useRef)(),z=(0,g.useRef)(),ce=(0,g.useState)(!1),C=l()(ce,2),ae=C[0],ge=C[1],r=new F.Uo("components.imagePull");(0,g.useImperativeHandle)(S,function(){return{upgradeImage:function(j){var x;return V(!0),(x=Q.current)===null||x===void 0||x.setFieldValue("imageUrl",j),(0,J.Ze)({tag:j,type:"pull"})},setImageName:function(j){var x;V(!0),(x=Q.current)===null||x===void 0||x.setFieldValue("imageUrl",j)},show:ve}});function ve(){return me.apply(this,arguments)}function me(){return me=a()(t()().mark(function Z(){var j,x,y;return t()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:V(!0),(j=Q.current)===null||j===void 0||j.resetFields(),v.imageUrl&&((y=Q.current)===null||y===void 0||y.setFieldValue("imageUrl",v.imageUrl)),(x=z.current)===null||x===void 0||x.setStart("");case 4:case"end":return X.stop()}},Z)})),me.apply(this,arguments)}return[(0,p.jsx)(K.ZP,{type:v.buttonType?v.buttonType:"default",icon:(0,p.jsx)(ie.Z,{}),onClick:ve,children:r.format("triggerButton")},"remoteBtn"),(0,p.jsxs)(W.Z,{forceRender:!0,open:he,title:r.format("drawerTitle"),width:oe.R_,onClose:function(){var j;V(!1),(j=z.current)===null||j===void 0||j.close()},footer:!1,children:[(0,p.jsx)(D.Z,{children:(0,p.jsx)(M.Z.Text,{children:(0,p.jsxs)("ul",{style:{lineHeight:"30px"},children:[(0,p.jsxs)("li",{children:[r.format("tip.1")," ",(0,p.jsx)("a",{href:"https://hub.docker.com/",target:"_blank",children:F.FD.format("help")})]}),(0,p.jsxs)("li",{children:[r.format("tip.2")," ",(0,p.jsx)("a",{href:"https://hub.docker.com/search?q=",target:"_blank",children:F.FD.format("help")})]}),(0,p.jsxs)("li",{children:[r.format("tip.3")," "]}),(0,p.jsxs)("li",{children:[r.format("tip.4")," ",(0,p.jsx)(A.Link,{to:"/image/registry",children:F.Ob.format("image.registry.create")})]}),(0,p.jsxs)("li",{children:[r.format("tip.5")," ",(0,p.jsx)(A.Link,{to:"/image/registry",children:F.Ob.format("image.registry")})]})]})})}),(0,p.jsx)(D.Z,{title:r.format("triggerButton"),headerBordered:!0,children:(0,p.jsxs)(T.A,{formRef:Q,submitter:!1,isKeyPressSubmit:!0,onFinish:function(){var Z=a()(t()().mark(function j(x){var y,Y,X,_e,se,le;return t()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return se=(y=x.imageUrl)!==null&&y!==void 0?y:"",x.registryUrl&&(se="".concat(x.registryUrl,"/").concat(se)),ge(!0),(Y=z.current)===null||Y===void 0||Y.setStart(se),N.next=6,(0,J.Ze)({tag:(0,de.Z)(se," "),type:"pull",platform:(X=x.platform)!==null&&X!==void 0?X:""}).finally(function(){ge(!1)});case 6:return le=N.sent,(_e=z.current)===null||_e===void 0||_e.setFinish(),V(!1),v.onFinish&&v.onFinish(le.data.tag),N.abrupt("return",!0);case 11:case"end":return N.stop()}},j)}));return function(j){return Z.apply(this,arguments)}}(),children:[(0,p.jsx)(I.Z,{name:"registryUrl",hidden:!0}),(0,p.jsx)(I.Z,{disabled:ae,name:"imageUrl",placeholder:r.format("imageUrlEmpty"),required:!0,rules:[{required:!0}]}),(0,p.jsxs)(U.Z.Compact,{children:[(0,p.jsx)(b.Z,{shouldUpdate:!0,children:function(j){return(0,p.jsx)(o.Z,{width:"30vw",onChange:function(y){if(j.setFieldValue("registryUrl",y?y.serverAddress:""),!y){j.setFieldValue("imageUrl",v.imageUrl);return}try{var Y=new URL("http://".concat(j.getFieldValue("imageUrl")));Y.host&&j.setFieldValue("imageUrl","".concat(y==null?void 0:y.serverAddress).concat(Y.pathname))}catch(X){}}})}}),(0,p.jsx)(E.Z,{name:"platform",placeholder:r.format("imagePlatformEmpty"),options:J.ii.map(function(Z){return{label:Z.name,value:Z.name}})}),(0,p.jsx)(K.ZP,{loading:ae,onClick:a()(t()().mark(function Z(){var j;return t()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:(j=Q.current)===null||j===void 0||j.submit();case 1:case"end":return y.stop()}},Z)})),children:r.format("triggerButton")}),(0,p.jsx)(K.ZP,{danger:!0,onClick:function(){var j;(j=z.current)===null||j===void 0||j.close()},children:F.FD.format("listManageKill")})]}),(0,p.jsx)(b.Z,{label:r.format("progressTitle"),children:(0,p.jsx)(d.Z,{ref:z})})]})})]},"remoteDrawer")]});w.Z=f},78451:function(ne,w,e){e.d(w,{Z:function(){return B}});var L=e(67294),t=e(85893);function B(a){var c;return(0,t.jsx)("span",{style:{width:a.width?a.width:"auto",wordBreak:"break-word"},children:(c=a.content)!==null&&c!==void 0?c:a.children})}},51100:function(ne,w,e){e.d(w,{Z:function(){return c}});var L=e(4813),t=e(91604),B=e(1677),a=e(85893);function c(l){return l.showDragger?(0,a.jsx)(t.Z,{max:l.max?l.max:1,title:l.title,label:l.label,required:l.required,rules:[{required:l.required}],fieldProps:{multiple:!!(l.max&&l.max>1),name:"file",accept:l.accept,action:"/dpanel/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(T){return new Promise(function(I){var b;(0,L._)({path:(b=T.response.data.path)!==null&&b!==void 0?b:""}).then(function(E){I(!0)})})},onChange:function(T){T.file.status=="done"&&l.onFinish&&l.onFinish(T.fileList)}},name:l.name}):(0,a.jsx)(B.Z,{max:l.max?l.max:1,title:l.title,label:l.label,required:l.required,rules:[{required:l.required}],fieldProps:{multiple:!!(l.max&&l.max>1),name:"file",accept:l.accept,action:"/dpanel/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(T){return new Promise(function(I){var b;(0,L._)({path:(b=T.response.data.path)!==null&&b!==void 0?b:""}).then(function(E){I(!0)})})},onChange:function(T){T.file.status=="done"&&l.onFinish&&l.onFinish(T.fileList)}},name:l.name})}},65913:function(ne,w,e){var L=e(5574),t=e.n(L),B=e(74330),a=e(67294),c=e(85893),l=(0,a.forwardRef)(function(D,T){(0,a.useImperativeHandle)(T,function(){return{show:function(){K(!0)},destroy:function(){K(!1)}}});var I=(0,a.useState)(!1),b=t()(I,2),E=b[0],K=b[1];return(0,c.jsx)(B.Z,{spinning:E,size:"default",children:D.children})});w.Z=l},17550:function(ne,w,e){e.r(w),e.d(w,{default:function(){return se}});var L=e(19632),t=e.n(L),B=e(15009),a=e.n(B),c=e(99289),l=e.n(c),D=e(5574),T=e.n(D),I=e(74453),b=e(97269),E=e(62370),K=e(37476),W=e(5966),M=e(42075),U=e(25593),g=e(66309),d=e(84567),A=e(83622),o=e(67294),oe=e(82346),F=e(73813),ie=e(5251),J=e(99611),de=e(58638),p=e(23430),f=e(52645),v=e(82061),S=e(1912),n=e(2205),G=e(67255),he=e(1584),V=e(1699),Q=e(184),z=e(44349),ce=e(51100),C=e(36146),ae=e(3616),ge=e(57546),r=e(85893),ve=(0,o.forwardRef)(function(le,q){(0,o.useImperativeHandle)(q,function(){return{}});var N=(0,o.useRef)(),ee=new C.Uo("components.image");return(0,r.jsxs)(Q.a,{drawerProps:{width:ae.R_},title:ee.format("importTitle"),trigger:(0,r.jsx)(A.ZP,{icon:(0,r.jsx)(ge.Z,{}),children:ee.format("importTitle")},"create"),formRef:N,onFinish:function(){var Re=l()(a()().mark(function Pe(te){var re,ue;return a()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,(0,F.GH)({localUrl:te.imageTarUpload?te.imageTarUpload.map(function(pe){return pe.response.data.path}):[],remoteUrl:te.remoteUrl?te.remoteUrl.map(function(pe){return pe.url}):[]});case 2:return ue=H.sent,!((re=N.current)===null||re===void 0)&&re.resetFields&&N.current.resetFields(),le.onFinish&&le.onFinish(),H.abrupt("return",!0);case 6:case"end":return H.stop()}},Pe)}));return function(Pe){return Re.apply(this,arguments)}}(),children:[(0,r.jsx)(ce.Z,{label:ee.format("importLocal"),showDragger:!0,max:10,title:ee.format("importLocalTip"),name:"imageTarUpload",accept:".tar"}),(0,r.jsx)(z.Z,{label:ee.format("importRemote"),name:"remoteUrl",showAddButton:!0,hideCopyButton:!0,min:1,items:[{width:"lg",name:"url",placeholder:ee.format("importRemoteEmpty")}]})]})}),me=ve,Z=e(47248),j=e(96486),x=e.n(j),y=e(55375),Y=e(55681),X=e(68297),_e=e(97841);function se(){var le=(0,oe.useAccess)(),q=(0,o.useRef)(),N=(0,o.useState)({force:!1}),ee=T()(N,2),Re=ee[0],Pe=ee[1],te=(0,o.useRef)(),re=(0,o.useRef)(),ue=(0,o.useRef)(),k=new C.Uo("image"),H=(0,o.useRef)(),pe=(0,o.useRef)(),Me=(0,o.useState)(1),Oe=T()(Me,2),fe=Oe[0],Ee=Oe[1],ye=new C.Uo("components.imagePull"),De=(0,o.useRef)();return(0,o.useEffect)(function(){var R;!((R=q.current)===null||R===void 0)&&R.reloadAndRest&&q.current.reloadAndRest().then(function(){var i,s;!((i=q.current)===null||i===void 0)&&i.setPageInfo&&q.current.setPageInfo({current:(0,G.G$)(y.CM,(s=q.current)===null||s===void 0?void 0:s.pageInfo)})})},[fe]),(0,r.jsxs)(I._z,{header:{extra:[(0,r.jsx)(V.u,{access:"canSeeImageListPull",children:(0,r.jsx)(Z.Z,{ref:De,onFinish:function(){Ee(fe+1)}},"remote")},"remote"),(0,r.jsx)(V.u,{access:"canSeeImageListManageCreate",children:(0,r.jsx)(me,{onFinish:function(){Ee(fe+1)}})},"import")]},children:[(0,r.jsx)(he.Z,{ref:re,onClose:function(){Ee(fe+1)}}),(0,r.jsx)(Y.Co,{rowKey:"Id",onChange:function(i,s,u){!x().isArray(u)&&(0,G.LX)(y.CM,u.columnKey,u.order),(0,G.MJ)(y.CM,i.current)},columns:[{title:"Id",dataIndex:"title",search:!1,render:function(i,s,u,h,m){var _=s.Id.substring(7,19);return s.Title&&(_=s.Title),(0,r.jsxs)(M.Z,{children:[(0,r.jsx)(U.Z.Link,{copyable:!0,onClick:function(){var O;!((O=re.current)===null||O===void 0)&&O.show&&re.current.show(s.Id)},children:_},"title-".concat(u)),s.Containers==0&&(0,r.jsx)(g.Z,{color:"warning",children:C.FD.format("listNotUse")},"use-".concat(u))]})}},{title:C.FD.format("listTitle"),dataIndex:"tag",render:function(i,s,u,h){return(0,r.jsx)(M.Z,{direction:"vertical",style:{textAlign:"left"},children:s.RepoTags.map(function(m,_){return(0,r.jsx)(M.Z,{children:(0,r.jsx)(g.Z,{color:"#2db7f5",children:(0,r.jsx)(U.Z.Text,{copyable:!0,title:m,style:{color:"#ffffff"},children:m},"tag-"+_)},"tag-".concat(_))},_)})},s.Id)}},{title:"Digest",search:!1,tooltip:C.FD.format("listDigestTip"),render:function(i,s,u,h,m){return(0,r.jsx)(M.Z,{direction:"vertical",style:{textAlign:"left"},children:s.RepoTags&&s.RepoTags.map(function(_,P){var O,$=(O=s.RepoDigests)===null||O===void 0?void 0:O.find(function(je){var Ie=je.split("@"),Te=T()(Ie,2),be=Te[0],Ue=Te[1];return _.includes(be)});return(0,r.jsx)("span",{children:$?$.substring($.indexOf("@")+8).substring(0,12):(0,r.jsx)(g.Z,{color:"warning",children:new C.Uo("components.appDetail").format("checkImageUpgradeOption.-3")})},P)})})}},{title:C.FD.format("listArch"),width:200,search:!1,render:function(i,s,u,h,m){if(s.Manifests)return(0,r.jsx)(M.Z,{wrap:!0,children:s.Manifests.filter(function(_){return _.Kind=="image"&&_.Available&&_.ImageData}).map(function(_){var P,O;return(0,r.jsx)(g.Z,{children:(O=_.ImageData)===null||O===void 0?void 0:O.Platform.architecture},"arch"+((P=_.ImageData)===null||P===void 0?void 0:P.Platform.architecture))})});if(s.Labels&&s.Labels["com.dpanel.image.arch"])return(0,r.jsx)(g.Z,{children:s.Labels["com.dpanel.image.arch"]},"arch"+s.Id)}},{title:C.FD.format("listSize"),dataIndex:"size",ellipsis:!0,width:"120px",search:!1,sorter:function(i,s){return parseFloat(i.Size)-parseFloat(s.Size)},sortDirections:G.h5,defaultSortOrder:(0,G.rj)(y.CM,"size"),render:function(i,s,u,h){return(0,r.jsx)("div",{children:(0,ie.FI)(parseFloat(s.Size))},s.Id)}},{title:C.FD.format("listCreatedAt"),dataIndex:"Created",key:"created",ellipsis:!0,search:!1,width:"180px",render:function(i,s,u,h){return(0,r.jsx)("div",{children:(0,ie.ZM)(s.Created*1e3)},s.Id)},sorter:function(i,s){return i.Created-s.Created},sortDirections:G.h5,defaultSortOrder:(0,G.rj)(y.CM,"created")}],request:function(){var R=l()(a()().mark(function i(s,u,h){var m;return a()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,F.KG)({tag:s.tag,title:s.title,use:s.use?s.use=="1"?1:2:0});case 2:if(m=P.sent,!(!m||!m.data||!m.data.list)){P.next=5;break}return P.abrupt("return",{data:[],success:!0,total:0});case 5:return m.data.list.map(function(O){var $="";O.RepoTags.map(function(je){m.data.title[je]&&($=m.data.title[je])}),O.Title=$}),P.abrupt("return",{data:m.data.list,success:!0,total:m.data.list.length});case 7:case"end":return P.stop()}},i)}));return function(i,s,u){return R.apply(this,arguments)}}(),rowSelection:le.canSeeImageListManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:q,actions:[{key:"view",label:C.FD.format("listManageView"),buttonProps:{icon:(0,r.jsx)(J.Z,{})},action:function(i){return l()(a()().mark(function s(){var u,h,m;return a()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:h=i.finish,m=i.selectedRow,h(!0),!((u=re.current)===null||u===void 0)&&u.show&&re.current.show(m.Id);case 3:case"end":return P.stop()}},s)}))()},showInContext:"manage",showInOperator:!0,disable:function(i){return i.isMultiple()}},{key:"export",label:C.FD.format("listManageExport"),buttonProps:{icon:(0,r.jsx)(de.Z,{})},showInContext:"manage",showInQuickToolbar:!0,confirmProps:{onOpenChange:function(i,s){var u;!((u=ue.current)===null||u===void 0)&&u.resetFields&&ue.current.resetFields()},description:(0,r.jsxs)(M.Z,{style:{width:500,marginTop:"10px",paddingRight:"10px"},direction:"vertical",size:20,children:[(0,r.jsx)(U.Z.Text,{children:(0,r.jsx)("ul",{children:k.prefix("listManageExportTipOption",2).map(function(R,i){return(0,r.jsx)("li",{children:R},i)})})}),(0,r.jsx)(b.A,{layout:"horizontal",formRef:ue,submitter:!1,children:(0,r.jsx)(E.Z,{valuePropName:"checked",name:"enableExportToPath",children:(0,r.jsx)(d.Z,{children:k.format("listManageExportOptionToHost")})},"enableExportToPath")})]})},action:function(i){return l()(a()().mark(function s(){var u,h,m,_;return a()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return m=i.selectedRows,_=[],m.map(function($){_.push.apply(_,t()($.RepoTags))}),O.abrupt("return",(0,F.Rb)({md5:_,enableExportToPath:(u=(h=ue.current)===null||h===void 0?void 0:h.getFieldValue("enableExportToPath"))!==null&&u!==void 0?u:!1}));case 4:case"end":return O.stop()}},s)}))()},disable:function(i){return i.selectedRows.length==0}},{key:"pull",label:ye.format("triggerButton"),showInContext:"manage",isMultiple:!0,icon:(0,r.jsx)(p.Z,{}),action:function(i){return l()(a()().mark(function s(){var u,h;return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:h=i.finish,h(!0),(u=De.current)===null||u===void 0||u.show();case 3:case"end":return _.stop()}},s)}))()}},{key:"clear",label:C.FD.format("listManagePrune"),buttonProps:{icon:(0,r.jsx)(f.Z,{})},showInQuickToolbar:!0,confirmProps:{onOpenChange:function(i,s){var u;!((u=H.current)===null||u===void 0)&&u.resetFields&&H.current.resetFields()},description:(0,r.jsx)(b.A,{submitter:!1,formRef:H,layout:"inline",children:(0,r.jsxs)(M.Z,{direction:"vertical",style:{width:600},children:[(0,r.jsx)(U.Z.Text,{children:k.format("listManagePruneTip")}),(0,r.jsx)(E.Z,{name:"enableUnuseTag",valuePropName:"checked",children:(0,r.jsxs)(d.Z,{children:[k.format("listManagePruneOption.enableUnuseTag"),"?"]})}),(0,r.jsx)(E.Z,{initialValue:!0,name:"enableBuildCache",valuePropName:"checked",children:(0,r.jsxs)(d.Z,{children:[k.format("listManagePruneOption.enableBuildCache"),"?"]})})]})})},action:function(i){return l()(a()().mark(function s(){var u,h,m,_,P;return a()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return m=i.loading,_=i.finish,m(),P=[],(u=H.current)!==null&&u!==void 0&&u.getFieldValue("enableBuildCache")&&P.push((0,_e.c5)()),P.push((0,F.Xz)({enableUnuseTag:(h=H.current)===null||h===void 0?void 0:h.getFieldValue("enableUnuseTag")})),$.abrupt("return",Promise.all(P).finally(function(){_(!0)}));case 6:case"end":return $.stop()}},s)}))()}},{key:"delete",label:C.FD.format("listManageDelete"),showInContext:!0,showInQuickToolbar:!0,confirmProps:{description:(0,r.jsx)(b.A,{submitter:!1,formRef:pe,children:(0,r.jsxs)(M.Z,{style:{width:280},direction:"vertical",children:[(0,r.jsx)(U.Z.Text,{children:C.FD.format("confirm.title")}),(0,r.jsxs)(d.Z,{name:"deleteVolume",onChange:function(i){return Pe({force:i.target.checked})},children:[C.FD.format("listManageDeleteForce"),"?"]})]})})},buttonProps:{icon:(0,r.jsx)(v.Z,{}),type:"primary",danger:!0},action:function(i){return l()(a()().mark(function s(){var u,h,m;return a()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return u=i.loading,h=i.selectedRows,m=i.finish,u(),P.abrupt("return",(0,F.ao)({md5:h.map(function(O){return O.Id}),force:Re.force}).finally(function(){m(!0)}));case 3:case"end":return P.stop()}},s)}))()}}],quickToolbar:{render:function(i){var s=i.selectedRows;return[(0,r.jsxs)(K.Y,{modalProps:{width:ae.ob},onOpenChange:function(){var h;(h=te.current)===null||h===void 0||h.resetFields()},formRef:te,title:k.format("listManagePushTip"),trigger:(0,r.jsx)(A.ZP,{disabled:s.length==0,icon:(0,r.jsx)(S.Z,{}),children:k.format("listManagePush")}),onFinish:function(){var u=l()(a()().mark(function h(m){var _;return a()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,(0,X.fy)({md5:s.map(function($){return $.Id}),registryServerAddress:m.registryServerAddress,newNamespace:m.newNamespace});case 2:return _=O.sent,Ee(fe+1),O.abrupt("return",!0);case 5:case"end":return O.stop()}},h)}));return function(h){return u.apply(this,arguments)}}(),children:[(0,r.jsx)(E.Z,{name:"registryServerAddress",hidden:!0}),(0,r.jsx)(E.Z,{label:k.format("listManagePushImageRespo"),name:"imageRespo",tooltip:k.format("listManagePushImageRespoTip"),children:(0,r.jsx)(n.Z,{multiple:!0,top:!0,onChangeList:function(h){var m;h&&((m=te.current)===null||m===void 0||m.setFieldValue("registryServerAddress",h.map(function(_){return _.serverAddress})))}})}),(0,r.jsx)(W.Z,{tooltip:k.format("listManagePushNewNamespaceTip"),label:k.format("listManagePushNewNamespace"),name:"newNamespace"})]},"push")]}},columnsState:(0,G.j_)(y.CM)})]})}},4813:function(ne,w,e){e.d(w,{_:function(){return l}});var L=e(15009),t=e.n(L),B=e(99289),a=e.n(B),c=e(82346);function l(T){return D.apply(this,arguments)}function D(){return D=a()(t()().mark(function T(I){return t()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,(0,c.request)("/dpanel/api/common/attach/delete",{method:"POST",data:I});case 2:return E.abrupt("return",E.sent);case 3:case"end":return E.stop()}},T)})),D.apply(this,arguments)}},97841:function(ne,w,e){e.d(w,{Xr:function(){return K},bJ:function(){return b},c5:function(){return M},hf:function(){return l},l9:function(){return T}});var L=e(15009),t=e.n(L),B=e(99289),a=e.n(B),c=e(82346);function l(g){return D.apply(this,arguments)}function D(){return D=a()(t()().mark(function g(d){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,c.request)("/dpanel/api/app/image-build/delete",{method:"POST",data:d});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},g)})),D.apply(this,arguments)}function T(g){return I.apply(this,arguments)}function I(){return I=a()(t()().mark(function g(d){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,c.request)("/dpanel/api/app/image-build/create",{method:"POST",data:d}));case 1:case"end":return o.stop()}},g)})),I.apply(this,arguments)}function b(g){return E.apply(this,arguments)}function E(){return E=a()(t()().mark(function g(d){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,c.request)("/dpanel/api/app/image-build/get-list",{method:"POST",data:d}));case 1:case"end":return o.stop()}},g)})),E.apply(this,arguments)}function K(g){return W.apply(this,arguments)}function W(){return W=a()(t()().mark(function g(d){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,c.request)("/dpanel/api/app/image-build/get-detail",{method:"POST",data:d});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},g)})),W.apply(this,arguments)}function M(){return U.apply(this,arguments)}function U(){return U=a()(t()().mark(function g(){return t()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,(0,c.request)("/dpanel/api/app/image-build/prune",{method:"POST"});case 2:return A.abrupt("return",A.sent);case 3:case"end":return A.stop()}},g)})),U.apply(this,arguments)}},73813:function(ne,w,e){e.d(w,{Ck:function(){return l},Fj:function(){return g},GH:function(){return T},KG:function(){return K},Rb:function(){return oe},Xz:function(){return b},YU:function(){return A},ZQ:function(){return ie},ao:function(){return M},cD:function(){return de}});var L=e(15009),t=e.n(L),B=e(99289),a=e.n(B),c=e(82346);function l(f){return D.apply(this,arguments)}function D(){return D=a()(t()().mark(function f(v){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/dpanel/api/app/image/import-by-container-tar",{method:"POST",data:v}));case 1:case"end":return n.stop()}},f)})),D.apply(this,arguments)}function T(f){return I.apply(this,arguments)}function I(){return I=a()(t()().mark(function f(v){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/dpanel/api/app/image/import-by-image-tar",{method:"POST",data:v}));case 1:case"end":return n.stop()}},f)})),I.apply(this,arguments)}function b(f){return E.apply(this,arguments)}function E(){return E=a()(t()().mark(function f(v){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.request)("/dpanel/api/app/image/prune",{method:"POST"});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},f)})),E.apply(this,arguments)}function K(f){return W.apply(this,arguments)}function W(){return W=a()(t()().mark(function f(v){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/dpanel/api/app/image/get-list",{method:"POST",data:v}));case 1:case"end":return n.stop()}},f)})),W.apply(this,arguments)}function M(f){return U.apply(this,arguments)}function U(){return U=a()(t()().mark(function f(v){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.request)("/dpanel/api/app/image/delete",{method:"POST",data:v});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},f)})),U.apply(this,arguments)}function g(f){return d.apply(this,arguments)}function d(){return d=a()(t()().mark(function f(v){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.request)("/dpanel/api/app/image/update-title",{method:"POST",data:v});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},f)})),d.apply(this,arguments)}function A(f){return o.apply(this,arguments)}function o(){return o=a()(t()().mark(function f(v){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/dpanel/api/app/image/get-detail",{method:"POST",data:v}));case 1:case"end":return n.stop()}},f)})),o.apply(this,arguments)}function oe(f){return F.apply(this,arguments)}function F(){return F=a()(t()().mark(function f(v){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!v.enableExportToPath){n.next=2;break}return n.abrupt("return",(0,c.request)("/dpanel/api/app/image/export",{method:"POST",data:v}));case 2:return n.abrupt("return",new Promise(function(G,he){var V,Q=localStorage.getItem("token"),z=new URLSearchParams;z.append("token",Q||""),v.md5&&v.md5.forEach(function(ae){z.append("md5",ae)}),z.append("enableExportToPath",String((V=v.enableExportToPath)!==null&&V!==void 0?V:!1));var ce="/dpanel/api/app/image/export?".concat(z.toString()),C=document.createElement("iframe");C.style.display="none",C.src=ce,document.body.appendChild(C),G({code:200,data:"success",error:""})}));case 3:case"end":return n.stop()}},f)})),F.apply(this,arguments)}function ie(f){return J.apply(this,arguments)}function J(){return J=a()(t()().mark(function f(v){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/dpanel/api/app/image/check-upgrade",{method:"POST",data:v}));case 1:case"end":return n.stop()}},f)})),J.apply(this,arguments)}function de(f){return p.apply(this,arguments)}function p(){return p=a()(t()().mark(function f(v){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/dpanel/api/pro/image/get-rootfs",{method:"POST",data:v}));case 1:case"end":return n.stop()}},f)})),p.apply(this,arguments)}},75870:function(ne,w,e){e.d(w,{Ot:function(){return l},ZH:function(){return T},ix:function(){return b},t1:function(){return K}});var L=e(15009),t=e.n(L),B=e(99289),a=e.n(B),c=e(82346);function l(M){return D.apply(this,arguments)}function D(){return D=a()(t()().mark(function M(U){return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,c.request)("/dpanel/api/common/registry/get-list",{method:"POST",data:U}));case 1:case"end":return d.stop()}},M)})),D.apply(this,arguments)}function T(M){return I.apply(this,arguments)}function I(){return I=a()(t()().mark(function M(U){return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,c.request)("/dpanel/api/common/registry/create",{method:"POST",data:U}));case 1:case"end":return d.stop()}},M)})),I.apply(this,arguments)}function b(M){return E.apply(this,arguments)}function E(){return E=a()(t()().mark(function M(U){return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,c.request)("/dpanel/api/common/registry/delete",{method:"POST",data:U}));case 1:case"end":return d.stop()}},M)})),E.apply(this,arguments)}function K(M){return W.apply(this,arguments)}function W(){return W=a()(t()().mark(function M(U){return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,c.request)("/dpanel/api/common/registry/get-detail",{method:"POST",data:U}));case 1:case"end":return d.stop()}},M)})),W.apply(this,arguments)}}}]);
