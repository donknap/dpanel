"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4214],{47248:function(re,x,e){var L=e(15009),t=e.n(L),B=e(99289),a=e.n(B),c=e(5574),i=e.n(c),D=e(38345),T=e(97269),y=e(5966),I=e(62370),P=e(64317),K=e(83622),W=e(85265),M=e(25593),b=e(42075),g=e(67294),d=e(92754),w=e(82346),o=e(2205),ue=e(3616),F=e(36146),ie=e(23430),Q=e(68297),oe=e(66991),p=e(85893),f=(0,g.forwardRef)(function(j,S){var n=(0,g.useState)(!1),G=i()(n,2),he=G[0],N=G[1],X=(0,g.useRef)(),z=(0,g.useRef)(),de=(0,g.useState)(!1),C=i()(de,2),te=C[0],ge=C[1],r=new F.Uo("components.imagePull");(0,g.useImperativeHandle)(S,function(){return{upgradeImage:function(O){var U;return N(!0),(U=X.current)===null||U===void 0||U.setFieldValue("imageUrl",O),(0,Q.Ze)({tag:O,type:"pull"})},setImageName:function(O){var U;N(!0),(U=X.current)===null||U===void 0||U.setFieldValue("imageUrl",O)},show:ve}});function ve(){return ce.apply(this,arguments)}function ce(){return ce=a()(t()().mark(function Z(){var O,U;return t()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:N(!0),(O=X.current)===null||O===void 0||O.resetFields(),(U=z.current)===null||U===void 0||U.setStart("");case 3:case"end":return J.stop()}},Z)})),ce.apply(this,arguments)}return[(0,p.jsx)(K.ZP,{type:j.buttonType?j.buttonType:"default",icon:(0,p.jsx)(ie.Z,{}),onClick:ve,children:r.format("triggerButton")},"remoteBtn"),(0,p.jsxs)(W.Z,{forceRender:!0,open:he,title:r.format("drawerTitle"),width:ue.R_,onClose:function(){var O;N(!1),(O=z.current)===null||O===void 0||O.close()},footer:!1,children:[(0,p.jsx)(D.Z,{children:(0,p.jsx)(M.Z.Text,{children:(0,p.jsxs)("ul",{style:{lineHeight:"30px"},children:[(0,p.jsxs)("li",{children:[r.format("tip.1")," ",(0,p.jsx)("a",{href:"https://hub.docker.com/",target:"_blank",children:F.FD.format("help")})]}),(0,p.jsxs)("li",{children:[r.format("tip.2")," ",(0,p.jsx)("a",{href:"https://hub.docker.com/search?q=",target:"_blank",children:F.FD.format("help")})]}),(0,p.jsxs)("li",{children:[r.format("tip.3")," "]}),(0,p.jsxs)("li",{children:[r.format("tip.4")," ",(0,p.jsx)(w.Link,{to:"/image/registry",children:F.Ob.format("image.registry.create")})]}),(0,p.jsxs)("li",{children:[r.format("tip.5")," ",(0,p.jsx)(w.Link,{to:"/image/registry",children:F.Ob.format("image.registry")})]})]})})}),(0,p.jsx)(D.Z,{title:r.format("triggerButton"),headerBordered:!0,children:(0,p.jsxs)(T.A,{formRef:X,submitter:!1,isKeyPressSubmit:!0,onFinish:function(){var Z=a()(t()().mark(function O(U){var A,J,me,_e,ae,se;return t()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return ae=(A=U.imageUrl)!==null&&A!==void 0?A:"",U.registryUrl&&(ae="".concat(U.registryUrl,"/").concat(ae)),ge(!0),(J=z.current)===null||J===void 0||J.setStart(ae),k.next=6,(0,Q.Ze)({tag:(0,oe.Z)(ae," "),type:"pull",platform:(me=U.platform)!==null&&me!==void 0?me:""}).finally(function(){ge(!1)});case 6:return se=k.sent,(_e=z.current)===null||_e===void 0||_e.setFinish(),N(!1),j.onFinish&&j.onFinish(se.data.tag),k.abrupt("return",!0);case 11:case"end":return k.stop()}},O)}));return function(O){return Z.apply(this,arguments)}}(),children:[(0,p.jsx)(y.Z,{name:"registryUrl",hidden:!0}),(0,p.jsxs)(b.Z.Compact,{children:[(0,p.jsx)(I.Z,{shouldUpdate:!0,children:function(O){return(0,p.jsx)(o.Z,{width:"150px",onChange:function(A){O.setFieldValue("registryUrl",A?A.serverAddress:"")}})}}),(0,p.jsx)(y.Z,{disabled:te,width:270,name:"imageUrl",placeholder:r.format("imageUrlEmpty"),required:!0,rules:[{required:!0}]}),(0,p.jsx)(P.Z,{name:"platform",style:{width:100},placeholder:r.format("imagePlatformEmpty"),options:Q.ii.map(function(Z){return{label:Z.name,value:Z.name}})}),(0,p.jsx)(K.ZP,{loading:te,onClick:a()(t()().mark(function Z(){var O;return t()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:(O=X.current)===null||O===void 0||O.submit();case 1:case"end":return A.stop()}},Z)})),children:r.format("triggerButton")}),(0,p.jsx)(K.ZP,{danger:!0,onClick:function(){var O;(O=z.current)===null||O===void 0||O.close()},children:F.FD.format("listManageKill")})]}),(0,p.jsx)(I.Z,{label:r.format("progressTitle"),children:(0,p.jsx)(d.Z,{ref:z})})]})})]},"remoteDrawer")]});x.Z=f},78451:function(re,x,e){e.d(x,{Z:function(){return B}});var L=e(67294),t=e(85893);function B(a){var c;return(0,t.jsx)("span",{style:{width:a.width?a.width:"auto",wordBreak:"break-word"},children:(c=a.content)!==null&&c!==void 0?c:a.children})}},51100:function(re,x,e){e.d(x,{Z:function(){return c}});var L=e(4813),t=e(91604),B=e(1677),a=e(85893);function c(i){return i.showDragger?(0,a.jsx)(t.Z,{max:i.max?i.max:1,title:i.title,label:i.label,required:i.required,rules:[{required:i.required}],fieldProps:{multiple:!!(i.max&&i.max>1),name:"file",accept:i.accept,action:"/dpanel/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(T){return new Promise(function(y){var I;(0,L._)({path:(I=T.response.data.path)!==null&&I!==void 0?I:""}).then(function(P){y(!0)})})},onChange:function(T){T.file.status=="done"&&i.onFinish&&i.onFinish(T.fileList)}},name:i.name}):(0,a.jsx)(B.Z,{max:i.max?i.max:1,title:i.title,label:i.label,required:i.required,rules:[{required:i.required}],fieldProps:{multiple:!!(i.max&&i.max>1),name:"file",accept:i.accept,action:"/dpanel/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(T){return new Promise(function(y){var I;(0,L._)({path:(I=T.response.data.path)!==null&&I!==void 0?I:""}).then(function(P){y(!0)})})},onChange:function(T){T.file.status=="done"&&i.onFinish&&i.onFinish(T.fileList)}},name:i.name})}},65913:function(re,x,e){var L=e(5574),t=e.n(L),B=e(74330),a=e(67294),c=e(85893),i=(0,a.forwardRef)(function(D,T){(0,a.useImperativeHandle)(T,function(){return{show:function(){K(!0)},destroy:function(){K(!1)}}});var y=(0,a.useState)(!1),I=t()(y,2),P=I[0],K=I[1];return(0,c.jsx)(B.Z,{spinning:P,size:"default",children:D.children})});x.Z=i},17550:function(re,x,e){e.r(x),e.d(x,{default:function(){return ae}});var L=e(19632),t=e.n(L),B=e(15009),a=e.n(B),c=e(99289),i=e.n(c),D=e(5574),T=e.n(D),y=e(74453),I=e(97269),P=e(62370),K=e(37476),W=e(5966),M=e(42075),b=e(25593),g=e(66309),d=e(84567),w=e(83622),o=e(67294),ue=e(82346),F=e(73813),ie=e(5251),Q=e(99611),oe=e(58638),p=e(23430),f=e(52645),j=e(82061),S=e(1912),n=e(2205),G=e(67255),he=e(1584),N=e(1699),X=e(184),z=e(44349),de=e(51100),C=e(36146),te=e(3616),ge=e(57546),r=e(85893),ve=(0,o.forwardRef)(function(se,Y){(0,o.useImperativeHandle)(Y,function(){return{}});var k=(0,o.useRef)(),q=new C.Uo("components.image");return(0,r.jsxs)(X.a,{drawerProps:{width:te.R_},title:q.format("importTitle"),trigger:(0,r.jsx)(w.ZP,{icon:(0,r.jsx)(ge.Z,{}),children:q.format("importTitle")},"create"),formRef:k,onFinish:function(){var Re=i()(a()().mark(function Pe(ne){var ee,le;return a()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,(0,F.GH)({localUrl:ne.imageTarUpload?ne.imageTarUpload.map(function(pe){return pe.response.data.path}):[],remoteUrl:ne.remoteUrl?ne.remoteUrl.map(function(pe){return pe.url}):[]});case 2:return le=H.sent,!((ee=k.current)===null||ee===void 0)&&ee.resetFields&&k.current.resetFields(),se.onFinish&&se.onFinish(),H.abrupt("return",!0);case 6:case"end":return H.stop()}},Pe)}));return function(Pe){return Re.apply(this,arguments)}}(),children:[(0,r.jsx)(de.Z,{label:q.format("importLocal"),showDragger:!0,max:10,title:q.format("importLocalTip"),name:"imageTarUpload",accept:".tar"}),(0,r.jsx)(z.Z,{label:q.format("importRemote"),name:"remoteUrl",showAddButton:!0,hideCopyButton:!0,min:1,items:[{width:"lg",name:"url",placeholder:q.format("importRemoteEmpty")}]})]})}),ce=ve,Z=e(47248),O=e(96486),U=e.n(O),A=e(55375),J=e(55681),me=e(68297),_e=e(97841);function ae(){var se=(0,ue.useAccess)(),Y=(0,o.useRef)(),k=(0,o.useState)({force:!1}),q=T()(k,2),Re=q[0],Pe=q[1],ne=(0,o.useRef)(),ee=(0,o.useRef)(),le=(0,o.useRef)(),V=new C.Uo("image"),H=(0,o.useRef)(),pe=(0,o.useRef)(),Me=(0,o.useState)(1),Oe=T()(Me,2),fe=Oe[0],Ee=Oe[1],ye=new C.Uo("components.imagePull"),De=(0,o.useRef)();return(0,o.useEffect)(function(){var E;!((E=Y.current)===null||E===void 0)&&E.reloadAndRest&&Y.current.reloadAndRest().then(function(){var l,s;!((l=Y.current)===null||l===void 0)&&l.setPageInfo&&Y.current.setPageInfo({current:(0,G.G$)(A.CM,(s=Y.current)===null||s===void 0?void 0:s.pageInfo)})})},[fe]),(0,r.jsxs)(y._z,{header:{extra:[(0,r.jsx)(N.u,{access:"canSeeImageListPull",children:(0,r.jsx)(Z.Z,{ref:De,onFinish:function(){Ee(fe+1)}},"remote")},"remote"),(0,r.jsx)(N.u,{access:"canSeeImageListManageCreate",children:(0,r.jsx)(ce,{onFinish:function(){Ee(fe+1)}})},"import")]},children:[(0,r.jsx)(he.Z,{ref:ee,onClose:function(){Ee(fe+1)}}),(0,r.jsx)(J.Co,{rowKey:"Id",onChange:function(l,s,u){!U().isArray(u)&&(0,G.LX)(A.CM,u.columnKey,u.order),(0,G.MJ)(A.CM,l.current)},columns:[{title:"Id",dataIndex:"title",search:!1,render:function(l,s,u,h,m){var _=s.Id.substring(7,19);return s.Title&&(_=s.Title),(0,r.jsxs)(M.Z,{children:[(0,r.jsx)(b.Z.Link,{copyable:!0,onClick:function(){var R;!((R=ee.current)===null||R===void 0)&&R.show&&ee.current.show(s.Id)},children:_},"title-".concat(u)),s.Containers==0&&(0,r.jsx)(g.Z,{color:"warning",children:C.FD.format("listNotUse")},"use-".concat(u))]})}},{title:C.FD.format("listTitle"),dataIndex:"tag",render:function(l,s,u,h){return(0,r.jsx)(M.Z,{direction:"vertical",style:{textAlign:"left"},children:s.RepoTags.map(function(m,_){return(0,r.jsx)(M.Z,{children:(0,r.jsx)(g.Z,{color:"#2db7f5",children:(0,r.jsx)(b.Z.Text,{copyable:!0,title:m,style:{color:"#ffffff"},children:m},"tag-"+_)},"tag-".concat(_))},_)})},s.Id)}},{title:"Digest",search:!1,tooltip:C.FD.format("listDigestTip"),render:function(l,s,u,h,m){return(0,r.jsx)(M.Z,{direction:"vertical",style:{textAlign:"left"},children:s.RepoTags&&s.RepoTags.map(function(_,v){var R,$=(R=s.RepoDigests)===null||R===void 0?void 0:R.find(function(je){var Ie=je.split("@"),Te=T()(Ie,2),be=Te[0],Ce=Te[1];return _.includes(be)});return(0,r.jsx)("span",{children:$?$.substring($.indexOf("@")+8).substring(0,12):(0,r.jsx)(g.Z,{color:"warning",children:new C.Uo("components.appDetail").format("checkImageUpgradeOption.-3")})},v)})})}},{title:C.FD.format("listArch"),width:200,search:!1,render:function(l,s,u,h,m){if(s.Manifests)return(0,r.jsx)(M.Z,{wrap:!0,children:s.Manifests.filter(function(_){return _.Kind=="image"&&_.Available&&_.ImageData}).map(function(_){var v,R;return(0,r.jsx)(g.Z,{children:(R=_.ImageData)===null||R===void 0?void 0:R.Platform.architecture},"arch"+((v=_.ImageData)===null||v===void 0?void 0:v.Platform.architecture))})});if(s.Labels&&s.Labels["com.dpanel.image.arch"])return(0,r.jsx)(g.Z,{children:s.Labels["com.dpanel.image.arch"]},"arch"+s.Id)}},{title:C.FD.format("listSize"),dataIndex:"size",ellipsis:!0,width:"120px",search:!1,sorter:function(l,s){return parseFloat(l.Size)-parseFloat(s.Size)},sortDirections:G.h5,defaultSortOrder:(0,G.rj)(A.CM,"size"),render:function(l,s,u,h){return(0,r.jsx)("div",{children:(0,ie.FI)(parseFloat(s.Size))},s.Id)}},{title:C.FD.format("listCreatedAt"),dataIndex:"Created",key:"created",ellipsis:!0,search:!1,width:"180px",render:function(l,s,u,h){return(0,r.jsx)("div",{children:(0,ie.ZM)(s.Created*1e3)},s.Id)},sorter:function(l,s){return l.Created-s.Created},sortDirections:G.h5,defaultSortOrder:(0,G.rj)(A.CM,"created")}],request:function(){var E=i()(a()().mark(function l(s,u,h){var m;return a()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,(0,F.KG)({tag:s.tag,title:s.title,use:s.use?s.use=="1"?1:2:0});case 2:if(m=v.sent,!(!m||!m.data||!m.data.list)){v.next=5;break}return v.abrupt("return",{data:[],success:!0,total:0});case 5:return m.data.list.map(function(R){var $="";R.RepoTags.map(function(je){m.data.title[je]&&($=m.data.title[je])}),R.Title=$}),v.abrupt("return",{data:m.data.list,success:!0,total:m.data.list.length});case 7:case"end":return v.stop()}},l)}));return function(l,s,u){return E.apply(this,arguments)}}(),rowSelection:se.canSeeImageListManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:Y,actions:[{key:"view",label:C.FD.format("listManageView"),buttonProps:{icon:(0,r.jsx)(Q.Z,{})},action:function(l){return i()(a()().mark(function s(){var u,h,m;return a()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:h=l.finish,m=l.selectedRow,h(!0),!((u=ee.current)===null||u===void 0)&&u.show&&ee.current.show(m.Id);case 3:case"end":return v.stop()}},s)}))()},showInContext:"manage",showInOperator:!0,disable:function(l){return l.isMultiple()}},{key:"export",label:C.FD.format("listManageExport"),buttonProps:{icon:(0,r.jsx)(oe.Z,{})},showInContext:"manage",showInQuickToolbar:!0,confirmProps:{onOpenChange:function(l,s){var u;!((u=le.current)===null||u===void 0)&&u.resetFields&&le.current.resetFields()},description:(0,r.jsxs)(M.Z,{style:{width:500,marginTop:"10px",paddingRight:"10px"},direction:"vertical",size:20,children:[(0,r.jsx)(b.Z.Text,{children:(0,r.jsx)("ul",{children:V.prefix("listManageExportTipOption",2).map(function(E,l){return(0,r.jsx)("li",{children:E},l)})})}),(0,r.jsx)(I.A,{layout:"horizontal",formRef:le,submitter:!1,children:(0,r.jsx)(P.Z,{valuePropName:"checked",name:"enableExportToPath",children:(0,r.jsx)(d.Z,{children:V.format("listManageExportOptionToHost")})},"enableExportToPath")})]})},action:function(l){return i()(a()().mark(function s(){var u,h,m,_;return a()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return m=l.selectedRows,_=[],m.map(function($){_.push.apply(_,t()($.RepoTags))}),R.abrupt("return",(0,F.Rb)({md5:_,enableExportToPath:(u=(h=le.current)===null||h===void 0?void 0:h.getFieldValue("enableExportToPath"))!==null&&u!==void 0?u:!1}));case 4:case"end":return R.stop()}},s)}))()},disable:function(l){return l.selectedRows.length==0}},{key:"pull",label:ye.format("triggerButton"),showInContext:"manage",isMultiple:!0,icon:(0,r.jsx)(p.Z,{}),action:function(l){return i()(a()().mark(function s(){var u,h;return a()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:h=l.finish,h(!0),(u=De.current)===null||u===void 0||u.show();case 3:case"end":return _.stop()}},s)}))()}},{key:"clear",label:C.FD.format("listManagePrune"),buttonProps:{icon:(0,r.jsx)(f.Z,{})},showInQuickToolbar:!0,confirmProps:{onOpenChange:function(l,s){var u;!((u=H.current)===null||u===void 0)&&u.resetFields&&H.current.resetFields()},description:(0,r.jsx)(I.A,{submitter:!1,formRef:H,layout:"inline",children:(0,r.jsxs)(M.Z,{direction:"vertical",style:{width:600},children:[(0,r.jsx)(b.Z.Text,{children:V.format("listManagePruneTip")}),(0,r.jsx)(P.Z,{name:"enableUnuseTag",valuePropName:"checked",children:(0,r.jsxs)(d.Z,{children:[V.format("listManagePruneOption.enableUnuseTag"),"?"]})}),(0,r.jsx)(P.Z,{initialValue:!0,name:"enableBuildCache",valuePropName:"checked",children:(0,r.jsxs)(d.Z,{children:[V.format("listManagePruneOption.enableBuildCache"),"?"]})})]})})},action:function(l){return i()(a()().mark(function s(){var u,h,m,_,v;return a()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return m=l.loading,_=l.finish,m(),v=[],(u=H.current)!==null&&u!==void 0&&u.getFieldValue("enableBuildCache")&&v.push((0,_e.c5)()),v.push((0,F.Xz)({enableUnuseTag:(h=H.current)===null||h===void 0?void 0:h.getFieldValue("enableUnuseTag")})),$.abrupt("return",Promise.all(v).finally(function(){_(!0)}));case 6:case"end":return $.stop()}},s)}))()}},{key:"delete",label:C.FD.format("listManageDelete"),showInContext:!0,showInQuickToolbar:!0,confirmProps:{description:(0,r.jsx)(I.A,{submitter:!1,formRef:pe,children:(0,r.jsxs)(M.Z,{style:{width:280},direction:"vertical",children:[(0,r.jsx)(b.Z.Text,{children:C.FD.format("confirm.title")}),(0,r.jsxs)(d.Z,{name:"deleteVolume",onChange:function(l){return Pe({force:l.target.checked})},children:[C.FD.format("listManageDeleteForce"),"?"]})]})})},buttonProps:{icon:(0,r.jsx)(j.Z,{}),type:"primary",danger:!0},action:function(l){return i()(a()().mark(function s(){var u,h,m;return a()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return u=l.loading,h=l.selectedRows,m=l.finish,u(),v.abrupt("return",(0,F.ao)({md5:h.map(function(R){return R.Id}),force:Re.force}).finally(function(){m(!0)}));case 3:case"end":return v.stop()}},s)}))()}}],quickToolbar:{render:function(l){var s=l.selectedRows;return[(0,r.jsxs)(K.Y,{modalProps:{width:te.ob},onOpenChange:function(){var h;(h=ne.current)===null||h===void 0||h.resetFields()},formRef:ne,title:V.format("listManagePushTip"),trigger:(0,r.jsx)(w.ZP,{disabled:s.length==0,icon:(0,r.jsx)(S.Z,{}),children:V.format("listManagePush")}),onFinish:function(){var u=i()(a()().mark(function h(m){var _;return a()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,(0,me.fy)({md5:s.map(function($){return $.Id}),registryServerAddress:m.registryServerAddress,newNamespace:m.newNamespace});case 2:return _=R.sent,Ee(fe+1),R.abrupt("return",!0);case 5:case"end":return R.stop()}},h)}));return function(h){return u.apply(this,arguments)}}(),children:[(0,r.jsx)(P.Z,{name:"registryServerAddress",hidden:!0}),(0,r.jsx)(P.Z,{label:V.format("listManagePushImageRespo"),name:"imageRespo",tooltip:V.format("listManagePushImageRespoTip"),children:(0,r.jsx)(n.Z,{multiple:!0,top:!0,onChangeList:function(h){var m;h&&((m=ne.current)===null||m===void 0||m.setFieldValue("registryServerAddress",h.map(function(_){return _.serverAddress})))}})}),(0,r.jsx)(W.Z,{tooltip:V.format("listManagePushNewNamespaceTip"),label:V.format("listManagePushNewNamespace"),name:"newNamespace"})]},"push")]}},columnsState:(0,G.j_)(A.CM)})]})}},4813:function(re,x,e){e.d(x,{_:function(){return i}});var L=e(15009),t=e.n(L),B=e(99289),a=e.n(B),c=e(82346);function i(T){return D.apply(this,arguments)}function D(){return D=a()(t()().mark(function T(y){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,c.request)("/dpanel/api/common/attach/delete",{method:"POST",data:y});case 2:return P.abrupt("return",P.sent);case 3:case"end":return P.stop()}},T)})),D.apply(this,arguments)}},97841:function(re,x,e){e.d(x,{Xr:function(){return K},bJ:function(){return I},c5:function(){return M},hf:function(){return i},l9:function(){return T}});var L=e(15009),t=e.n(L),B=e(99289),a=e.n(B),c=e(82346);function i(g){return D.apply(this,arguments)}function D(){return D=a()(t()().mark(function g(d){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,c.request)("/dpanel/api/app/image-build/delete",{method:"POST",data:d});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},g)})),D.apply(this,arguments)}function T(g){return y.apply(this,arguments)}function y(){return y=a()(t()().mark(function g(d){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,c.request)("/dpanel/api/app/image-build/create",{method:"POST",data:d}));case 1:case"end":return o.stop()}},g)})),y.apply(this,arguments)}function I(g){return P.apply(this,arguments)}function P(){return P=a()(t()().mark(function g(d){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,c.request)("/dpanel/api/app/image-build/get-list",{method:"POST",data:d}));case 1:case"end":return o.stop()}},g)})),P.apply(this,arguments)}function K(g){return W.apply(this,arguments)}function W(){return W=a()(t()().mark(function g(d){return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,c.request)("/dpanel/api/app/image-build/get-detail",{method:"POST",data:d});case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}},g)})),W.apply(this,arguments)}function M(){return b.apply(this,arguments)}function b(){return b=a()(t()().mark(function g(){return t()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,(0,c.request)("/dpanel/api/app/image-build/prune",{method:"POST"});case 2:return w.abrupt("return",w.sent);case 3:case"end":return w.stop()}},g)})),b.apply(this,arguments)}},73813:function(re,x,e){e.d(x,{Ck:function(){return i},Fj:function(){return g},GH:function(){return T},KG:function(){return K},Rb:function(){return ue},Xz:function(){return I},YU:function(){return w},ZQ:function(){return ie},ao:function(){return M},cD:function(){return oe}});var L=e(15009),t=e.n(L),B=e(99289),a=e.n(B),c=e(82346);function i(f){return D.apply(this,arguments)}function D(){return D=a()(t()().mark(function f(j){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/dpanel/api/app/image/import-by-container-tar",{method:"POST",data:j}));case 1:case"end":return n.stop()}},f)})),D.apply(this,arguments)}function T(f){return y.apply(this,arguments)}function y(){return y=a()(t()().mark(function f(j){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/dpanel/api/app/image/import-by-image-tar",{method:"POST",data:j}));case 1:case"end":return n.stop()}},f)})),y.apply(this,arguments)}function I(f){return P.apply(this,arguments)}function P(){return P=a()(t()().mark(function f(j){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.request)("/dpanel/api/app/image/prune",{method:"POST"});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},f)})),P.apply(this,arguments)}function K(f){return W.apply(this,arguments)}function W(){return W=a()(t()().mark(function f(j){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/dpanel/api/app/image/get-list",{method:"POST",data:j}));case 1:case"end":return n.stop()}},f)})),W.apply(this,arguments)}function M(f){return b.apply(this,arguments)}function b(){return b=a()(t()().mark(function f(j){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.request)("/dpanel/api/app/image/delete",{method:"POST",data:j});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},f)})),b.apply(this,arguments)}function g(f){return d.apply(this,arguments)}function d(){return d=a()(t()().mark(function f(j){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,c.request)("/dpanel/api/app/image/update-title",{method:"POST",data:j});case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}},f)})),d.apply(this,arguments)}function w(f){return o.apply(this,arguments)}function o(){return o=a()(t()().mark(function f(j){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/dpanel/api/app/image/get-detail",{method:"POST",data:j}));case 1:case"end":return n.stop()}},f)})),o.apply(this,arguments)}function ue(f){return F.apply(this,arguments)}function F(){return F=a()(t()().mark(function f(j){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!j.enableExportToPath){n.next=2;break}return n.abrupt("return",(0,c.request)("/dpanel/api/app/image/export",{method:"POST",data:j}));case 2:return n.abrupt("return",new Promise(function(G,he){var N,X=localStorage.getItem("token"),z=new URLSearchParams;z.append("token",X||""),j.md5&&j.md5.forEach(function(te){z.append("md5",te)}),z.append("enableExportToPath",String((N=j.enableExportToPath)!==null&&N!==void 0?N:!1));var de="/dpanel/api/app/image/export?".concat(z.toString()),C=document.createElement("iframe");C.style.display="none",C.src=de,document.body.appendChild(C),G({code:200,data:"success",error:""})}));case 3:case"end":return n.stop()}},f)})),F.apply(this,arguments)}function ie(f){return Q.apply(this,arguments)}function Q(){return Q=a()(t()().mark(function f(j){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/dpanel/api/app/image/check-upgrade",{method:"POST",data:j}));case 1:case"end":return n.stop()}},f)})),Q.apply(this,arguments)}function oe(f){return p.apply(this,arguments)}function p(){return p=a()(t()().mark(function f(j){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,c.request)("/dpanel/api/pro/image/get-rootfs",{method:"POST",data:j}));case 1:case"end":return n.stop()}},f)})),p.apply(this,arguments)}},75870:function(re,x,e){e.d(x,{Ot:function(){return i},ZH:function(){return T},ix:function(){return I},t1:function(){return K}});var L=e(15009),t=e.n(L),B=e(99289),a=e.n(B),c=e(82346);function i(M){return D.apply(this,arguments)}function D(){return D=a()(t()().mark(function M(b){return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,c.request)("/dpanel/api/common/registry/get-list",{method:"POST",data:b}));case 1:case"end":return d.stop()}},M)})),D.apply(this,arguments)}function T(M){return y.apply(this,arguments)}function y(){return y=a()(t()().mark(function M(b){return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,c.request)("/dpanel/api/common/registry/create",{method:"POST",data:b}));case 1:case"end":return d.stop()}},M)})),y.apply(this,arguments)}function I(M){return P.apply(this,arguments)}function P(){return P=a()(t()().mark(function M(b){return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,c.request)("/dpanel/api/common/registry/delete",{method:"POST",data:b}));case 1:case"end":return d.stop()}},M)})),P.apply(this,arguments)}function K(M){return W.apply(this,arguments)}function W(){return W=a()(t()().mark(function M(b){return t()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,c.request)("/dpanel/api/common/registry/get-detail",{method:"POST",data:b}));case 1:case"end":return d.stop()}},M)})),W.apply(this,arguments)}}}]);
