!(function(){var oe=Object.defineProperty,ae=Object.defineProperties;var le=Object.getOwnPropertyDescriptors;var Y=Object.getOwnPropertySymbols;var ce=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var $=(O,h,i)=>h in O?oe(O,h,{enumerable:!0,configurable:!0,writable:!0,value:i}):O[h]=i,G=(O,h)=>{for(var i in h||(h={}))ce.call(h,i)&&$(O,i,h[i]);if(Y)for(var i of Y(h))de.call(h,i)&&$(O,i,h[i]);return O},X=(O,h)=>ae(O,le(h));(self.webpackChunk=self.webpackChunk||[]).push([[273],{14313:function(O,h,i){"use strict";i.d(h,{Z:function(){return _}});var f=i(87462),u=i(67294),m={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"},l=m,a=i(84089),r=function(e,s){return u.createElement(a.Z,(0,f.Z)({},e,{ref:s,icon:l}))},d=u.forwardRef(r),_=d},8751:function(O,h,i){"use strict";i.d(h,{Z:function(){return _}});var f=i(87462),u=i(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},l=m,a=i(84089),r=function(e,s){return u.createElement(a.Z,(0,f.Z)({},e,{ref:s,icon:l}))},d=u.forwardRef(r),_=d},23430:function(O,h,i){"use strict";i.d(h,{Z:function(){return _}});var f=i(87462),u=i(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M505.7 661a8 8 0 0012.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"download",theme:"outlined"},l=m,a=i(84089),r=function(e,s){return u.createElement(a.Z,(0,f.Z)({},e,{ref:s,icon:l}))},d=u.forwardRef(r),_=d},2741:function(O,h,i){"use strict";i.d(h,{Z:function(){return _}});var f=i(87462),u=i(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.7c6 6 9.4 14.1 9.4 22.6V928c0 17.7-14.3 32-32 32H192c-17.7 0-32-14.3-32-32V96c0-17.7 14.3-32 32-32h424.7c8.5 0 16.7 3.4 22.7 9.4l215.2 215.3zM790.2 326L602 137.8V326h188.2z"}}]},name:"file",theme:"filled"},l=m,a=i(84089),r=function(e,s){return u.createElement(a.Z,(0,f.Z)({},e,{ref:s,icon:l}))},d=u.forwardRef(r),_=d},93613:function(O,h,i){"use strict";i.d(h,{Z:function(){return _}});var f=i(87462),u=i(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M880 298.4H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32z"}}]},name:"folder",theme:"filled"},l=m,a=i(84089),r=function(e,s){return u.createElement(a.Z,(0,f.Z)({},e,{ref:s,icon:l}))},d=u.forwardRef(r),_=d},27254:function(O,h,i){"use strict";i.d(h,{Z:function(){return _}});var f=i(87462),u=i(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 444H820V330.4c0-17.7-14.3-32-32-32H473L355.7 186.2a8.15 8.15 0 00-5.5-2.2H96c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h698c13 0 24.8-7.9 29.7-20l134-332c1.5-3.8 2.3-7.9 2.3-12 0-17.7-14.3-32-32-32zm-180 0H238c-13 0-24.8 7.9-29.7 20L136 643.2V256h188.5l119.6 114.4H748V444z"}}]},name:"folder-open",theme:"filled"},l=m,a=i(84089),r=function(e,s){return u.createElement(a.Z,(0,f.Z)({},e,{ref:s,icon:l}))},d=u.forwardRef(r),_=d},36693:function(O,h,i){"use strict";var f=i(87462),u=i(67294),m=i(80111),l=i(84089),a=function(_,t){return u.createElement(l.Z,(0,f.Z)({},_,{ref:t,icon:m.Z}))},r=u.forwardRef(a);h.Z=r},3089:function(O,h,i){"use strict";i.d(h,{Z:function(){return _}});var f=i(87462),u=i(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},l=m,a=i(84089),r=function(e,s){return u.createElement(a.Z,(0,f.Z)({},e,{ref:s,icon:l}))},d=u.forwardRef(r),_=d},30159:function(O,h,i){"use strict";i.d(h,{Z:function(){return _}});var f=i(87462),u=i(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"},l=m,a=i(84089),r=function(e,s){return u.createElement(a.Z,(0,f.Z)({},e,{ref:s,icon:l}))},d=u.forwardRef(r),_=d},64789:function(O,h,i){"use strict";i.d(h,{Z:function(){return _}});var f=i(87462),u=i(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},l=m,a=i(84089),r=function(e,s){return u.createElement(a.Z,(0,f.Z)({},e,{ref:s,icon:l}))},d=u.forwardRef(r),_=d},87740:function(O,h,i){"use strict";i.d(h,{Z:function(){return _}});var f=i(87462),u=i(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M758.2 839.1C851.8 765.9 912 651.9 912 523.9 912 303 733.5 124.3 512.6 124 291.4 123.7 112 302.8 112 523.9c0 125.2 57.5 236.9 147.6 310.2 3.5 2.8 8.6 2.2 11.4-1.3l39.4-50.5c2.7-3.4 2.1-8.3-1.2-11.1-8.1-6.6-15.9-13.7-23.4-21.2a318.64 318.64 0 01-68.6-101.7C200.4 609 192 567.1 192 523.9s8.4-85.1 25.1-124.5c16.1-38.1 39.2-72.3 68.6-101.7 29.4-29.4 63.6-52.5 101.7-68.6C426.9 212.4 468.8 204 512 204s85.1 8.4 124.5 25.1c38.1 16.1 72.3 39.2 101.7 68.6 29.4 29.4 52.5 63.6 68.6 101.7 16.7 39.4 25.1 81.3 25.1 124.5s-8.4 85.1-25.1 124.5a318.64 318.64 0 01-68.6 101.7c-9.3 9.3-19.1 18-29.3 26L668.2 724a8 8 0 00-14.1 3l-39.6 162.2c-1.2 5 2.6 9.9 7.7 9.9l167 .8c6.7 0 10.5-7.7 6.3-12.9l-37.3-47.9z"}}]},name:"redo",theme:"outlined"},l=m,a=i(84089),r=function(e,s){return u.createElement(a.Z,(0,f.Z)({},e,{ref:s,icon:l}))},d=u.forwardRef(r),_=d},98165:function(O,h,i){"use strict";i.d(h,{Z:function(){return _}});var f=i(87462),u=i(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},l=m,a=i(84089),r=function(e,s){return u.createElement(a.Z,(0,f.Z)({},e,{ref:s,icon:l}))},d=u.forwardRef(r),_=d},40666:function(O,h,i){"use strict";i.d(h,{Z:function(){return _}});var f=i(87462),u=i(67294),m={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M938 458.8l-29.6-312.6c-1.5-16.2-14.4-29-30.6-30.6L565.2 86h-.4c-3.2 0-5.7 1-7.6 2.9L88.9 557.2a9.96 9.96 0 000 14.1l363.8 363.8c1.9 1.9 4.4 2.9 7.1 2.9s5.2-1 7.1-2.9l468.3-468.3c2-2.1 3-5 2.8-8zM459.7 834.7L189.3 564.3 589 164.6 836 188l23.4 247-399.7 399.7zM680 256c-48.5 0-88 39.5-88 88s39.5 88 88 88 88-39.5 88-88-39.5-88-88-88zm0 120c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"}}]},name:"tag",theme:"outlined"},l=m,a=i(84089),r=function(e,s){return u.createElement(a.Z,(0,f.Z)({},e,{ref:s,icon:l}))},d=u.forwardRef(r),_=d},31199:function(O,h,i){"use strict";var f=i(1413),u=i(45987),m=i(67294),l=i(40284),a=i(85893),r=["fieldProps","min","proFieldProps","max"],d=function(e,s){var n=e.fieldProps,o=e.min,c=e.proFieldProps,v=e.max,p=(0,u.Z)(e,r);return(0,a.jsx)(l.Z,(0,f.Z)({valueType:"digit",fieldProps:(0,f.Z)({min:o,max:v},n),ref:s,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:c},p))},_=m.forwardRef(d);h.Z=_},90672:function(O,h,i){"use strict";var f=i(1413),u=i(45987),m=i(67294),l=i(40284),a=i(85893),r=["fieldProps","proFieldProps"],d=function(t,e){var s=t.fieldProps,n=t.proFieldProps,o=(0,u.Z)(t,r);return(0,a.jsx)(l.Z,(0,f.Z)({ref:e,valueType:"textarea",fieldProps:s,proFieldProps:n},o))};h.Z=m.forwardRef(d)},1677:function(O,h,i){"use strict";var f=i(1413),u=i(55850),m=i(15861),l=i(97685),a=i(45987),r=i(88484),d=i(31365),_=i(83622),t=i(29104),e=i(67294),s=i(9105),n=i(90789),o=i(85893),c=["fieldProps","action","accept","listType","title","max","icon","buttonProps","disabled","proFieldProps","imageProps"],v=function(C){return new Promise(function(x,R){var D=new FileReader;D.readAsDataURL(C),D.onload=function(){return x(D.result)},D.onerror=function(b){return R(b)}})},p=function(C,x){var R,D=C.fieldProps,b=C.action,A=C.accept,E=C.listType,M=C.title,F=M===void 0?"\u5355\u51FB\u4E0A\u4F20":M,B=C.max,Z=C.icon,U=Z===void 0?(0,o.jsx)(r.Z,{}):Z,J=C.buttonProps,Q=C.disabled,z=C.proFieldProps,W=C.imageProps,y=(0,a.Z)(C,c),k=(0,e.useState)(!1),K=(0,l.Z)(k,2),q=K[0],j=K[1],ee=(0,e.useState)(""),V=(0,l.Z)(ee,2),N=V[0],H=V[1],S=(0,e.useMemo)(function(){var L;return(L=y.fileList)!==null&&L!==void 0?L:y.value},[y.fileList,y.value]),te=function(){var L=(0,m.Z)((0,u.Z)().mark(function w(I){return(0,u.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!(!I.url&&!I.preview)){T.next=4;break}return T.next=3,v(I.originFileObj);case 3:I.preview=T.sent;case 4:H(I.url||I.preview),j(!0);case 6:case"end":return T.stop()}},w)}));return function(I){return L.apply(this,arguments)}}(),ie=(0,e.useContext)(s.A),se=(z==null?void 0:z.mode)||ie.mode||"edit",ne=(B===void 0||!S||(S==null?void 0:S.length)<B)&&se!=="read",re=(E!=null?E:D==null?void 0:D.listType)==="picture-card";return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.Z,(0,f.Z)((0,f.Z)({action:b,accept:A,ref:x,listType:E||"picture",fileList:S,onPreview:te},D),{},{name:(R=D==null?void 0:D.name)!==null&&R!==void 0?R:"file",onChange:function(w){var I;D==null||(I=D.onChange)===null||I===void 0||I.call(D,w)},children:ne&&(re?(0,o.jsxs)("span",{children:[U," ",F]}):(0,o.jsxs)(_.ZP,(0,f.Z)((0,f.Z)({disabled:Q||(D==null?void 0:D.disabled)},J),{},{children:[U,F]})))})),N&&(0,o.jsx)(t.Z,(0,f.Z)((0,f.Z)({wrapperStyle:{display:"none"}},W),{},{preview:(0,f.Z)({visible:q,onVisibleChange:function(w){return j(w)},afterOpenChange:function(w){return!w&&H("")}},(W==null?void 0:W.preview)||{}),src:N}))]})},g=(0,n.G)(e.forwardRef(p),{getValueFromEvent:function(C){return C.fileList}});h.Z=g},75458:function(O){(function(h,i){O.exports=i()})(self,()=>(()=>{"use strict";var h={345:(m,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.runAndSubscribe=l.forwardEvent=l.EventEmitter=void 0,l.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=a=>(this._listeners.push(a),{dispose:()=>{if(!this._disposed){for(let r=0;r<this._listeners.length;r++)if(this._listeners[r]===a)return void this._listeners.splice(r,1)}}})),this._event}fire(a,r){const d=[];for(let _=0;_<this._listeners.length;_++)d.push(this._listeners[_]);for(let _=0;_<d.length;_++)d[_].call(void 0,a,r)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},l.forwardEvent=function(a,r){return a(d=>r.fire(d))},l.runAndSubscribe=function(a,r){return r(void 0),a(d=>r(d))}},859:(m,l)=>{function a(r){for(const d of r)d.dispose();r.length=0}Object.defineProperty(l,"__esModule",{value:!0}),l.getDisposeArrayDisposable=l.disposeArray=l.toDisposable=l.MutableDisposable=l.Disposable=void 0,l.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const r of this._disposables)r.dispose();this._disposables.length=0}register(r){return this._disposables.push(r),r}unregister(r){const d=this._disposables.indexOf(r);d!==-1&&this._disposables.splice(d,1)}},l.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(r){var d;this._isDisposed||r===this._value||((d=this._value)==null||d.dispose(),this._value=r)}clear(){this.value=void 0}dispose(){var r;this._isDisposed=!0,(r=this._value)==null||r.dispose(),this._value=void 0}},l.toDisposable=function(r){return{dispose:r}},l.disposeArray=a,l.getDisposeArrayDisposable=function(r){return{dispose:()=>a(r)}}}},i={};function f(m){var l=i[m];if(l!==void 0)return l.exports;var a=i[m]={exports:{}};return h[m](a,a.exports,f),a.exports}var u={};return(()=>{var m=u;Object.defineProperty(m,"__esModule",{value:!0}),m.SearchAddon=void 0;const l=f(345),a=f(859),r=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?";class d extends a.Disposable{constructor(t){var e;super(),this._highlightedLines=new Set,this._highlightDecorations=[],this._selectedDecoration=this.register(new a.MutableDisposable),this._linesCacheTimeoutId=0,this._linesCacheDisposables=new a.MutableDisposable,this._onDidChangeResults=this.register(new l.EventEmitter),this.onDidChangeResults=this._onDidChangeResults.event,this._highlightLimit=(e=t==null?void 0:t.highlightLimit)!=null?e:1e3}activate(t){this._terminal=t,this.register(this._terminal.onWriteParsed(()=>this._updateMatches())),this.register(this._terminal.onResize(()=>this._updateMatches())),this.register((0,a.toDisposable)(()=>this.clearDecorations()))}_updateMatches(){var t;this._highlightTimeout&&window.clearTimeout(this._highlightTimeout),this._cachedSearchTerm&&((t=this._lastSearchOptions)!=null&&t.decorations)&&(this._highlightTimeout=setTimeout(()=>{const e=this._cachedSearchTerm;this._cachedSearchTerm=void 0,this.findPrevious(e,X(G({},this._lastSearchOptions),{incremental:!0,noScroll:!0}))},200))}clearDecorations(t){this._selectedDecoration.clear(),(0,a.disposeArray)(this._highlightDecorations),this._highlightDecorations=[],this._highlightedLines.clear(),t||(this._cachedSearchTerm=void 0)}clearActiveDecoration(){this._selectedDecoration.clear()}findNext(t,e){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const s=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,e);this._lastSearchOptions=e,e!=null&&e.decorations&&(this._cachedSearchTerm===void 0||t!==this._cachedSearchTerm||s)&&this._highlightAllMatches(t,e);const n=this._findNextAndSelect(t,e);return this._fireResults(e),this._cachedSearchTerm=t,n}_highlightAllMatches(t,e){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!t||t.length===0)return void this.clearDecorations();e=e||{},this.clearDecorations(!0);const s=[];let n,o=this._find(t,0,0,e);for(;o&&((n==null?void 0:n.row)!==o.row||(n==null?void 0:n.col)!==o.col)&&!(s.length>=this._highlightLimit);)n=o,s.push(n),o=this._find(t,n.col+n.term.length>=this._terminal.cols?n.row+1:n.row,n.col+n.term.length>=this._terminal.cols?0:n.col+1,e);for(const c of s){const v=this._createResultDecoration(c,e.decorations);v&&(this._highlightedLines.add(v.marker.line),this._highlightDecorations.push({decoration:v,match:c,dispose(){v.dispose()}}))}}_find(t,e,s,n){var v;if(!this._terminal||!t||t.length===0)return(v=this._terminal)==null||v.clearSelection(),void this.clearDecorations();if(s>this._terminal.cols)throw new Error(`Invalid col: ${s} to search in terminal of ${this._terminal.cols} cols`);let o;this._initLinesCache();const c={startRow:e,startCol:s};if(o=this._findInLine(t,c,n),!o)for(let p=e+1;p<this._terminal.buffer.active.baseY+this._terminal.rows&&(c.startRow=p,c.startCol=0,o=this._findInLine(t,c,n),!o);p++);return o}_findNextAndSelect(t,e){var p;if(!this._terminal||!t||t.length===0)return(p=this._terminal)==null||p.clearSelection(),this.clearDecorations(),!1;const s=this._terminal.getSelectionPosition();this._terminal.clearSelection();let n=0,o=0;s&&(this._cachedSearchTerm===t?(n=s.end.x,o=s.end.y):(n=s.start.x,o=s.start.y)),this._initLinesCache();const c={startRow:o,startCol:n};let v=this._findInLine(t,c,e);if(!v)for(let g=o+1;g<this._terminal.buffer.active.baseY+this._terminal.rows&&(c.startRow=g,c.startCol=0,v=this._findInLine(t,c,e),!v);g++);if(!v&&o!==0)for(let g=0;g<o&&(c.startRow=g,c.startCol=0,v=this._findInLine(t,c,e),!v);g++);return!v&&s&&(c.startRow=s.start.y,c.startCol=0,v=this._findInLine(t,c,e)),this._selectResult(v,e==null?void 0:e.decorations,e==null?void 0:e.noScroll)}findPrevious(t,e){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const s=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,e);this._lastSearchOptions=e,e!=null&&e.decorations&&(this._cachedSearchTerm===void 0||t!==this._cachedSearchTerm||s)&&this._highlightAllMatches(t,e);const n=this._findPreviousAndSelect(t,e);return this._fireResults(e),this._cachedSearchTerm=t,n}_didOptionsChange(t,e){return!!e&&(t.caseSensitive!==e.caseSensitive||t.regex!==e.regex||t.wholeWord!==e.wholeWord)}_fireResults(t){if(t!=null&&t.decorations){let e=-1;if(this._selectedDecoration.value){const s=this._selectedDecoration.value.match;for(let n=0;n<this._highlightDecorations.length;n++){const o=this._highlightDecorations[n].match;if(o.row===s.row&&o.col===s.col&&o.size===s.size){e=n;break}}}this._onDidChangeResults.fire({resultIndex:e,resultCount:this._highlightDecorations.length})}}_findPreviousAndSelect(t,e){var g;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!this._terminal||!t||t.length===0)return(g=this._terminal)==null||g.clearSelection(),this.clearDecorations(),!1;const s=this._terminal.getSelectionPosition();this._terminal.clearSelection();let n=this._terminal.buffer.active.baseY+this._terminal.rows-1,o=this._terminal.cols;const c=!0;this._initLinesCache();const v={startRow:n,startCol:o};let p;if(s&&(v.startRow=n=s.start.y,v.startCol=o=s.start.x,this._cachedSearchTerm!==t&&(p=this._findInLine(t,v,e,!1),p||(v.startRow=n=s.end.y,v.startCol=o=s.end.x))),p||(p=this._findInLine(t,v,e,c)),!p){v.startCol=Math.max(v.startCol,this._terminal.cols);for(let P=n-1;P>=0&&(v.startRow=P,p=this._findInLine(t,v,e,c),!p);P--);}if(!p&&n!==this._terminal.buffer.active.baseY+this._terminal.rows-1)for(let P=this._terminal.buffer.active.baseY+this._terminal.rows-1;P>=n&&(v.startRow=P,p=this._findInLine(t,v,e,c),!p);P--);return this._selectResult(p,e==null?void 0:e.decorations,e==null?void 0:e.noScroll)}_initLinesCache(){const t=this._terminal;this._linesCache||(this._linesCache=new Array(t.buffer.active.length),this._linesCacheDisposables.value=(0,a.getDisposeArrayDisposable)([t.onLineFeed(()=>this._destroyLinesCache()),t.onCursorMove(()=>this._destroyLinesCache()),t.onResize(()=>this._destroyLinesCache())])),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(()=>this._destroyLinesCache(),15e3)}_destroyLinesCache(){this._linesCache=void 0,this._linesCacheDisposables.clear(),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)}_isWholeWord(t,e,s){return(t===0||r.includes(e[t-1]))&&(t+s.length===e.length||r.includes(e[t+s.length]))}_findInLine(t,e,s={},n=!1){var A;const o=this._terminal,c=e.startRow,v=e.startCol,p=o.buffer.active.getLine(c);if(p!=null&&p.isWrapped)return n?void(e.startCol+=o.cols):(e.startRow--,e.startCol+=o.cols,this._findInLine(t,e,s));let g=(A=this._linesCache)==null?void 0:A[c];g||(g=this._translateBufferLineToStringWithWrap(c,!0),this._linesCache&&(this._linesCache[c]=g));const[P,C]=g,x=this._bufferColsToStringOffset(c,v),R=s.caseSensitive?t:t.toLowerCase(),D=s.caseSensitive?P:P.toLowerCase();let b=-1;if(s.regex){const E=RegExp(R,"g");let M;if(n)for(;M=E.exec(D.slice(0,x));)b=E.lastIndex-M[0].length,t=M[0],E.lastIndex-=t.length-1;else M=E.exec(D.slice(x)),M&&M[0].length>0&&(b=x+(E.lastIndex-M[0].length),t=M[0])}else n?x-R.length>=0&&(b=D.lastIndexOf(R,x-R.length)):b=D.indexOf(R,x);if(b>=0){if(s.wholeWord&&!this._isWholeWord(b,D,t))return;let E=0;for(;E<C.length-1&&b>=C[E+1];)E++;let M=E;for(;M<C.length-1&&b+t.length>=C[M+1];)M++;const F=b-C[E],B=b+t.length-C[M],Z=this._stringLengthToBufferSize(c+E,F);return{term:t,col:Z,row:c+E,size:this._stringLengthToBufferSize(c+M,B)-Z+o.cols*(M-E)}}}_stringLengthToBufferSize(t,e){const s=this._terminal.buffer.active.getLine(t);if(!s)return 0;for(let n=0;n<e;n++){const o=s.getCell(n);if(!o)break;const c=o.getChars();c.length>1&&(e-=c.length-1);const v=s.getCell(n+1);v&&v.getWidth()===0&&e++}return e}_bufferColsToStringOffset(t,e){const s=this._terminal;let n=t,o=0,c=s.buffer.active.getLine(n);for(;e>0&&c;){for(let v=0;v<e&&v<s.cols;v++){const p=c.getCell(v);if(!p)break;p.getWidth()&&(o+=p.getCode()===0?1:p.getChars().length)}if(n++,c=s.buffer.active.getLine(n),c&&!c.isWrapped)break;e-=s.cols}return o}_translateBufferLineToStringWithWrap(t,e){var v;const s=this._terminal,n=[],o=[0];let c=s.buffer.active.getLine(t);for(;c;){const p=s.buffer.active.getLine(t+1),g=!!p&&p.isWrapped;let P=c.translateToString(!g&&e);if(g&&p){const C=c.getCell(c.length-1);C&&C.getCode()===0&&C.getWidth()===1&&((v=p.getCell(0))==null?void 0:v.getWidth())===2&&(P=P.slice(0,-1))}if(n.push(P),!g)break;o.push(o[o.length-1]+P.length),t++,c=p}return[n.join(""),o]}_selectResult(t,e,s){const n=this._terminal;if(this._selectedDecoration.clear(),!t)return n.clearSelection(),!1;if(n.select(t.col,t.row,t.size),e){const o=n.registerMarker(-n.buffer.active.baseY-n.buffer.active.cursorY+t.row);if(o){const c=n.registerDecoration({marker:o,x:t.col,width:t.size,backgroundColor:e.activeMatchBackground,layer:"top",overviewRulerOptions:{color:e.activeMatchColorOverviewRuler}});if(c){const v=[];v.push(o),v.push(c.onRender(p=>this._applyStyles(p,e.activeMatchBorder,!0))),v.push(c.onDispose(()=>(0,a.disposeArray)(v))),this._selectedDecoration.value={decoration:c,match:t,dispose(){c.dispose()}}}}}if(!s&&(t.row>=n.buffer.active.viewportY+n.rows||t.row<n.buffer.active.viewportY)){let o=t.row-n.buffer.active.viewportY;o-=Math.floor(n.rows/2),n.scrollLines(o)}return!0}_applyStyles(t,e,s){t.classList.contains("xterm-find-result-decoration")||(t.classList.add("xterm-find-result-decoration"),e&&(t.style.outline=`1px solid ${e}`)),s&&t.classList.add("xterm-find-active-result-decoration")}_createResultDecoration(t,e){const s=this._terminal,n=s.registerMarker(-s.buffer.active.baseY-s.buffer.active.cursorY+t.row);if(!n)return;const o=s.registerDecoration({marker:n,x:t.col,width:t.size,backgroundColor:e.matchBackground,overviewRulerOptions:this._highlightedLines.has(n.line)?void 0:{color:e.matchOverviewRuler,position:"center"}});if(o){const c=[];c.push(n),c.push(o.onRender(v=>this._applyStyles(v,e.matchBorder,!1))),c.push(o.onDispose(()=>(0,a.disposeArray)(c)))}return o}}m.SearchAddon=d})(),u})())},21692:function(O,h){"use strict";function i(f,u,m,l){for(var a=f.length,r=m+(l?1:-1);l?r--:++r<a;)if(u(f[r],r,f))return r;return-1}h.Z=i},8111:function(O,h,i){"use strict";i.d(h,{Z:function(){return r}});var f=i(21692),u=i(19137);function m(d,_,t){for(var e=t-1,s=d.length;++e<s;)if(d[e]===_)return e;return-1}var l=m;function a(d,_,t){return _===_?l(d,_,t):(0,f.Z)(d,u.Z,t)}var r=a},19137:function(O,h){"use strict";function i(f){return f!==f}h.Z=i},43461:function(O,h,i){"use strict";i.d(h,{Z:function(){return r}});var f=/\s/;function u(d){for(var _=d.length;_--&&f.test(d.charAt(_)););return _}var m=u,l=/^\s+/;function a(d){return d&&d.slice(0,m(d)+1).replace(l,"")}var r=a},48399:function(O,h,i){"use strict";var f=i(8111),u=i(77302),m=Math.max;function l(a,r,d){var _=a==null?0:a.length;if(!_)return-1;var t=d==null?0:(0,u.Z)(d);return t<0&&(t=m(_+t,0)),(0,f.Z)(a,r,t)}h.Z=l},72714:function(O,h,i){"use strict";var f=i(93589),u=i(18533),m="[object Symbol]";function l(a){return typeof a=="symbol"||(0,u.Z)(a)&&(0,f.Z)(a)==m}h.Z=l},47837:function(O,h,i){"use strict";i.d(h,{Z:function(){return t}});var f=i(21692),u=i(19137);function m(e,s,n){for(var o=n+1;o--;)if(e[o]===s)return o;return o}var l=m,a=i(77302),r=Math.max,d=Math.min;function _(e,s,n){var o=e==null?0:e.length;if(!o)return-1;var c=o;return n!==void 0&&(c=(0,a.Z)(n),c=c<0?r(o+c,0):d(c,o-1)),s===s?l(e,s,c):(0,f.Z)(e,u.Z,c,!0)}var t=_},77302:function(O,h,i){"use strict";i.d(h,{Z:function(){return p}});var f=i(43461),u=i(77226),m=i(72714),l=NaN,a=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,d=/^0o[0-7]+$/i,_=parseInt;function t(g){if(typeof g=="number")return g;if((0,m.Z)(g))return l;if((0,u.Z)(g)){var P=typeof g.valueOf=="function"?g.valueOf():g;g=(0,u.Z)(P)?P+"":P}if(typeof g!="string")return g===0?g:+g;g=(0,f.Z)(g);var C=r.test(g);return C||d.test(g)?_(g.slice(2),C?2:8):a.test(g)?l:+g}var e=t,s=1/0,n=17976931348623157e292;function o(g){if(!g)return g===0?g:0;if(g=e(g),g===s||g===-s){var P=g<0?-1:1;return P*n}return g===g?g:0}var c=o;function v(g){var P=c(g),C=P%1;return P===P?C?P-C:P:0}var p=v}}]);
}());