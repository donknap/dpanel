"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1513],{91806:function(We,me,e){e.d(me,{Z:function(){return O}});var fe=e(87462),d=e(67294),ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-40 824H232V687h97.9c11.6 32.8 32 62.3 59.1 84.7 34.5 28.5 78.2 44.3 123 44.3s88.5-15.7 123-44.3c27.1-22.4 47.5-51.9 59.1-84.7H792v-63H643.6l-5.2 24.7C626.4 708.5 573.2 752 512 752s-114.4-43.5-126.5-103.3l-5.2-24.7H232V136h560v752zM320 341h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm0 160h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}}]},name:"container",theme:"outlined"},p=ve,$=e(84089),f=function(M,u){return d.createElement($.Z,(0,fe.Z)({},M,{ref:u,icon:p}))},se=d.forwardRef(f),O=se},33862:function(We,me,e){e.d(me,{Z:function(){return O}});var fe=e(87462),d=e(67294),ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"}}]},name:"environment",theme:"outlined"},p=ve,$=e(84089),f=function(M,u){return d.createElement($.Z,(0,fe.Z)({},M,{ref:u,icon:p}))},se=d.forwardRef(f),O=se},83002:function(We,me,e){var fe=e(5574),d=e.n(fe),ve=e(15009),p=e.n(ve),$=e(99289),f=e.n($),se=e(83622),O=e(85265),J=e(67294),M=e(81146),u=e(1883),X=e(90098),j=e(3616),H=e(36146),U=e(85893),Oe=(0,J.forwardRef)(function(R,Q){(0,J.useImperativeHandle)(Q,function(){return{show:function(G){return f()(p()().mark(function l(){return p()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:he(G),ae(!0);case 2:case"end":return w.stop()}},l)}))()}}});var N=(0,J.useState)(!1),je=d()(N,2),_=je[0],ae=je[1],pe=(0,J.useState)(),Y=d()(pe,2),F=Y[0],he=Y[1],ue=(0,J.useRef)();return(0,U.jsxs)(U.Fragment,{children:[R.showTriggerButton&&(0,U.jsx)(se.ZP,{onClick:f()(p()().mark(function q(){return p()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:he(R.composeItem),ae(!0);case 2:case"end":return l.stop()}},q)})),icon:(0,U.jsx)(u.Z,{}),children:H.FD.format("listManageLog")},"log"),(0,U.jsx)(O.Z,{title:H.FD.format("listLog"),open:_,forceRender:!0,onClose:function(){ae(!1)},afterOpenChange:function(G){if(G)setTimeout(function(){var o,w;(o=ue.current)===null||o===void 0||o.start(),(w=ue.current)===null||w===void 0||w.fit()},1e3);else{var l;(l=ue.current)===null||l===void 0||l.close()}},width:j.FK,children:F&&_&&(0,U.jsx)(M.Z,{ref:ue,showInDrawer:!0,id:"compose:log:".concat(String(F.id||F.name)),request:function(){var q=f()(p()().mark(function G(l){var o;return p()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,X.Yz)({id:F.id||F.name,lineTotal:l.lineTotal,download:(o=l.download)!==null&&o!==void 0?o:!1,showTime:l.showTime});case 2:case"end":return n.stop()}},G)}));return function(G){return q.apply(this,arguments)}}(),download:function(){var q=f()(p()().mark(function G(l){var o;return p()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,X.vf)({id:F.id||F.name,lineTotal:l.lineTotal,showTime:l.showTime,download:!0});case 2:return o=n.sent,n.abrupt("return",{data:new Blob([o],{type:"text/plain"}),name:R.composeItem.name+"_"+new Date().toLocaleDateString()+".log"});case 4:case"end":return n.stop()}},G)}));return function(G){return q.apply(this,arguments)}}()})})]})});me.Z=Oe},42013:function(We,me,e){e.d(me,{Z:function(){return ot}});var fe=e(97857),d=e.n(fe),ve=e(15009),p=e.n(ve),$=e(99289),f=e.n($),se=e(5574),O=e.n(se),J=e(3616),M=e(24963),u=e(90098),X=e(36146),j=e(86548),H=e(33862),U=e(97937),Oe=e(11713),R=e(38345),Q=e(24739),N=e(5966),je=e(86615),_=e(97462),ae=e(62370),pe=e(40958),Y=e(11106),F=e(23345),he=e(83622),ue=e(71230),q=e(15746),G=e(40056),l=e(92398),o=e(83062),w=e(40411),n=e(67294),et=e(12491),Te=e(85060),ke=e(97269),Ve=e(86738),i=e(85893),ze=(0,n.forwardRef)(function(ee,we){(0,n.useImperativeHandle)(we,function(){return{}});var Z=(0,n.useRef)(),Le=(0,n.useState)(!1),Fe=O()(Le,2),de=Fe[0],ge=Fe[1];return(0,i.jsx)(ae.Z,{children:(0,i.jsx)(Ve.Z,{icon:!1,title:!1,description:(0,i.jsx)(ke.A,{name:"importRemote",layout:"horizontal",submitter:!1,formRef:Z,children:(0,i.jsx)(N.Z,{width:"lg",label:"Url",initialValue:ee.defaultUrl,name:"url",placeholder:"https:// or http://"})}),onOpenChange:function(z){var C;(C=Z.current)===null||C===void 0||C.resetFields()},onConfirm:f()(p()().mark(function Ce(){var z,C;return p()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(C=(z=Z.current)===null||z===void 0?void 0:z.getFieldValue("url"),C){A.next=3;break}return A.abrupt("return");case 3:if(ge(!0),A.t0=ee.onRequest,!A.t0){A.next=8;break}return A.next=8,ee.onRequest(C).finally(function(){ge(!1)});case 8:case"end":return A.stop()}},Ce)})),children:(0,i.jsx)(he.ZP,{loading:de,icon:(0,i.jsx)(Te.Z,{}),block:!0,onClick:function(){var z;(z=Z.current)===null||z===void 0||z.resetFields()},children:ee.title})})})}),He=ze,tt=e(91058),Ue=e(79245),Xe=e(27166),nt=e(63713),t=e(85576),rt=function(we){var Z=we.children,Le=we.height,Fe=Le===void 0?"auto":Le,de=(0,n.useState)(!1),ge=O()(de,2),Ce=ge[0],z=ge[1],C=(0,n.useCallback)(function(){return{open:function(){return z(!0)},close:function(){return z(!1)},toggle:function(){return z(function(De){return!De})}}},[])();(0,n.useEffect)(function(){var A=function(Ke){Ke.key==="F11"&&(Ke.preventDefault(),z(function(be){return!be}))};return window.addEventListener("keydown",A),function(){return window.removeEventListener("keydown",A)}},[Ce]);var te=function(De){return(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",height:De?"100%":Fe,overflow:"hidden"},children:(0,i.jsx)("div",{style:{flex:1,overflow:"auto",position:"relative"},children:Z({isFullscreen:De,ref:C})})})};return(0,i.jsxs)(i.Fragment,{children:[!Ce&&te(!1),(0,i.jsx)(t.Z,{title:null,open:Ce,footer:null,closable:!1,width:"98vw",centered:!0,styles:{body:{padding:0,height:"calc(100vh - 80px)",overflow:"hidden"}},destroyOnHidden:!0,onCancel:function(){return z(!1)},children:(0,i.jsx)("div",{style:{height:"100%",display:"flex",flexDirection:"column"},children:te(!0)})})]})},at=rt,it=(0,n.forwardRef)(function(ee,we){var Z=new X.Uo("components.appCompose"),Le=(0,n.useContext)(M.Z),Fe=Le.message,de=(0,n.useRef)(),ge=(0,n.useRef)(),Ce=(0,n.useState)(),z=O()(Ce,2),C=z[0],te=z[1],A=(0,n.useState)(!1),De=O()(A,2),Ke=De[0],be=De[1],Ae=(0,n.useRef)(),lt=(0,n.useState)(),Je=O()(lt,2),ce=Je[0],Qe=Je[1],L=(0,n.useState)("text"),Ie=O()(L,2),xe=Ie[0],ie=Ie[1];return(0,n.useImperativeHandle)(we,function(){return{edit:function(I){Qe(I),be(!0)}}}),(0,n.useEffect)(function(){ee.id&&Qe(ee.id)},[]),(0,n.useEffect)(function(){var h;if(de.current){var I=ee.id||ce;if(!I){te({yaml:"",override:""});return}(h=Ae.current)===null||h===void 0||h.loading(),(0,u.Pn)({id:I}).finally(function(){var c;(c=Ae.current)===null||c===void 0||c.finish()}).then(function(c){var T,g;te({yaml:c.data.yaml[0],override:(T=c.data.yaml[1])!==null&&T!==void 0?T:""}),(g=de.current)===null||g===void 0||g.setFieldsValue({name:c.data.detail.name,title:c.data.detail.title,type:c.data.detail.setting.type,environment:c.data.detail.setting.environment,remoteUrl:c.data.detail.setting.remoteUrl})})}},[de.current,ce]),(0,i.jsxs)(Xe.Z,{requestLoading:C==null&&ce!=null,drawerProps:{width:J.FK,destroyOnHidden:!0,extra:(0,i.jsx)(F.Z,{children:(0,i.jsx)("a",{href:"https://dpanel.cc/manual/compose-create",target:"_blank",children:X.FD.format("help")})})},open:Ke,onOpenChange:function(I){if(be(I),!I){var c;te(void 0),Qe(ee.id),(c=de.current)===null||c===void 0||c.resetFields()}},title:Z.format("yamlDrawerTitle"),formRef:de,ref:Ae,trigger:(0,i.jsx)(he.ZP,{type:"primary",icon:ce?(0,i.jsx)(j.Z,{}):void 0,children:X.Ob.format(ce?"compose.list.edit":"compose.list.create")}),onFinish:function(){var h=f()(p()().mark(function I(c){var T,g,S,E;return p()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(c.type!="remoteGit"){s.next=7;break}return(T=Ae.current)===null||T===void 0||T.loading(),s.next=4,(0,u.zN)({uri:c.remoteUrl,name:c.name}).finally(function(){var W;(W=Ae.current)===null||W===void 0||W.finish()});case 4:return g=s.sent,ee.onFinish&&ee.onFinish(g.data.id),s.abrupt("return",!0);case 7:return s.prev=7,S={id:ce&&ce.toString(),type:c.type,name:c.name,title:c.title,environment:c.environment,remoteUrl:c.remoteUrl,yaml:C==null?void 0:C.yaml,yamlOverride:C==null?void 0:C.override},s.next=11,(0,u.im)(S);case 11:return E=s.sent,ee.onFinish&&ee.onFinish(E.data.id),Fe.success(X.FD.format("finish")),s.abrupt("return",!0);case 17:return s.prev=17,s.t0=s.catch(7),s.abrupt("return",!1);case 20:case"end":return s.stop()}},I,null,[[7,17]])}));return function(I){return h.apply(this,arguments)}}(),children:[(0,i.jsx)(R.Z,{ghost:!0,children:(0,i.jsxs)(Q.UW,{children:[(0,i.jsx)(N.Z,{label:Z.format("createFormName"),name:"name",width:"md",required:!0,disabled:!!ce,rules:[{required:!0},{pattern:/^[a-zA-Z0-9_-]+$/,message:Z.format("createFormNameRule")}],placeholder:Z.format("createFormNameEmpty")}),(0,i.jsx)(N.Z,{label:Z.format("createFormTitle"),name:"title",width:"md"})]})},"createForm"),(0,i.jsx)(je.Z.Group,{label:Z.format("createFormType"),name:"type",initialValue:"text",fieldProps:{defaultValue:"text",onChange:function(I){var c;(c=de.current)===null||c===void 0||c.resetFields(["yaml","environment"]),ie(I.target.value)}},disabled:!!ce,options:Z.option("createFormTypeOption",["text","remoteUrl","remoteGit","storagePath","store","outPath"]).map(function(h){return{label:h.label,value:h.value}})}),(0,i.jsx)(_.Z,{name:["type"],children:function(I){var c=I.type;if(c=="text")return(0,i.jsxs)(ue.Z,{gutter:[10,0],children:[(0,i.jsx)(q.Z,{span:12,children:(0,i.jsx)(et.Z,{title:Z.format("createFormTypeTextImportFile"),onImport:function(g){return te(d()(d()({},C),{yaml:g})),(0,Ue.m)(g).map(function(S){var E;(E=ge.current)===null||E===void 0||E.addEnvNameValue(S.name,S.value)}),!0},onLoad:function(g){if(g.indexOf("services:")<0)throw new Error(X.FD.format("commonFileIncorrectFormat",{name:"yaml"}));return!0}},"importFile")}),(0,i.jsx)(q.Z,{span:12,children:(0,i.jsx)(He,{title:Z.format("createFormTypeTextImportRemote"),onRequest:function(){var T=f()(p()().mark(function g(S){var E;return p()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,u.MG)({uri:S});case 2:return E=s.sent,te(d()(d()({},C),{yaml:E.data.content})),(0,Ue.m)(E.data.content).map(function(W){var k;(k=ge.current)===null||k===void 0||k.addEnvNameValue(W.name,W.value)}),s.abrupt("return");case 6:case"end":return s.stop()}},g)}));return function(g){return T.apply(this,arguments)}}()},"importRemote")})]});if(c=="remoteUrl")return(0,i.jsx)(ue.Z,{gutter:[10,0],children:(0,i.jsxs)(q.Z,{span:24,children:[(0,i.jsx)(ae.Z,{shouldUpdate:!0,children:function(g){return(0,i.jsx)(He,{defaultUrl:g.getFieldValue("remoteUrl"),title:Z.format("createFormTypeRemoteImportUrl"),onRequest:function(){var S=f()(p()().mark(function E(B){var s,W;return p()().wrap(function(Se){for(;;)switch(Se.prev=Se.next){case 0:return Se.next=2,(0,u.MG)({uri:B});case 2:return W=Se.sent,te(d()(d()({},C),{yaml:W.data.content})),(s=de.current)===null||s===void 0||s.setFieldValue("remoteUrl",B),(0,Ue.m)(W.data.content).map(function($e){var Be;(Be=ge.current)===null||Be===void 0||Be.addEnvNameValue($e.name,$e.value)}),Se.abrupt("return");case 7:case"end":return Se.stop()}},E)}));return function(E){return S.apply(this,arguments)}}()},"importRemote1")}}),(0,i.jsx)(ae.Z,{hidden:!0,name:"remoteUrl"},"remoteUrl")]})});if(c=="remoteGit")return(0,i.jsx)(N.Z,{name:"remoteUrl",label:Z.format("createFormTypeRemoteImportGit")},"importRemote2");if(c=="storagePath")return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(N.Z,{name:"storagePath",required:!0,readonly:!0,initialValue:Z.format("createFormTypeStoragePathTip"),addonAfter:(0,i.jsx)("a",{href:"https://dpanel.cc/manual/compose-create",target:"_blank",children:X.FD.format("help")})})});if(c=="store")return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(N.Z,{readonly:!0,name:"store",required:!0,initialValue:Z.format("createFormTypeStoreTip"),addonAfter:(0,i.jsx)(nt.Link,{to:"/compose/appstore",children:X.Ob.format("compose.appstore")})})});if(c=="outPath")return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(N.Z,{name:"outPath",required:!0,readonly:!0,initialValue:Z.format("createFormTypeOutPathTip")})})}}),(0,i.jsx)(_.Z,{name:["type"],children:function(I){var c=I.type;return(c=="text"||c=="remoteUrl"||ce)&&(0,i.jsxs)(R.Z,{ghost:!0,direction:"row",children:[(0,i.jsxs)(R.Z,{ghost:!0,colSpan:"45%",children:[(0,i.jsx)(G.Z,{type:"warning",message:Z.format("createFormTypeTextTip"),style:{marginBottom:15}},"yamlTips"),(0,i.jsx)(G.Z,{message:(0,i.jsxs)(i.Fragment,{children:[Z.format("createEnvTip1")," ","${DB_NAME}",". ",Z.format("createEnvTip2")]})}),(0,i.jsx)(tt.Z,{drawerProps:{ghost:!0,title:(0,i.jsx)(H.Z,{}),subTitle:Z.format("createEnvTitle")},name:"environment",showInDrawer:!0,showImportButton:!ce,showAddButton:!0,showCodeMode:!ce,ref:ge})]}),(0,i.jsx)(R.Z,{colSpan:"55%",children:(0,i.jsx)(at,{children:function(g){var S=g.ref,E=g.isFullscreen;return(0,i.jsx)(l.Z,{tabBarExtraContent:(0,i.jsx)(F.Z,{children:(0,i.jsx)(he.ZP,{icon:E?(0,i.jsx)(U.Z,{}):(0,i.jsx)(Oe.Z,{}),type:"link",onClick:function(){S.toggle()}})}),items:[{label:Z.format("createYaml.yaml"),key:"yaml",children:C&&(0,i.jsx)(Y.ZP,{theme:"dark",height:E?"82vh":"600px",onChange:function(s){te(d()(d()({},C),{yaml:s}))},onFocus:function(){c=="remoteUrl"&&Fe.info(Z.format("createYamlDisableEdit"))},onBlur:function(){var s;(s=de.current)!==null&&s!==void 0&&s.getFieldValue("environment")||C&&C.yaml&&(0,Ue.m)(C.yaml).map(function(W){var k;(k=ge.current)===null||k===void 0||k.addEnvNameValue(W.name,W.value)})},readOnly:c=="remoteUrl",value:C.yaml,extensions:[pe.RI.yaml()]})},{label:(0,i.jsx)(o.Z,{title:Z.format("createYamlOverrideTip"),children:(0,i.jsx)(w.Z,{count:(C==null?void 0:C.override)&&X.FD.format("listInUse"),offset:[15,-5],children:Z.format("createYaml.override")})}),key:"yamlOverride",children:C&&(0,i.jsx)(Y.ZP,{theme:"dark",height:"600px",onChange:function(s,W){te(d()(d()({},C),{override:s}))},value:C==null?void 0:C.override,extensions:[pe.RI.yaml()]})}]},"yamlEditor")}})})]},"yamlEditor")}})]},"yamlCreate")}),ot=it},91218:function(We,me,e){e.d(me,{Z:function(){return Qe}});var fe=e(97857),d=e.n(fe),ve=e(19632),p=e.n(ve),$=e(15009),f=e.n($),se=e(99289),O=e.n(se),J=e(5574),M=e.n(J),u=e(67294),X=e(3616),j=e(36146),H=e(38345),U=e(97269),Oe=e(86615),R=e(62370),Q=e(90098),N=e(27166),je=e(43425),_=e(33160),ae=e(82061),pe=e(87784),Y=e(74842),F=e(30159),he=e(25035),ue=e(95591),q=e(26522),G=e(33862),l=e(40056),o=e(23345),w=e(96074),n=e(25593),et=e(86250),Te=e(84567),ke=e(83062),Ve=e(83622),i=e(80821),ze=e(63713),He=e(79697),tt=e(99861),Ue=e(1699),Xe=e(89035),nt=e(75544),t=e(85893),rt=(0,u.forwardRef)(function(L,Ie){(0,u.useImperativeHandle)(Ie,function(){return{show:function(){return O()(f()().mark(function S(){var E;return f()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return T(!0),(E=ie.current)===null||E===void 0||E.clear(),s.next=4,new Promise(function(W){return setTimeout(function(){var k;(k=ie.current)===null||k===void 0||k.fit(),W(!0)},1e3)});case 4:case"end":return s.stop()}},S)}))()},close:function(){var S;T(!1),(S=ie.current)===null||S===void 0||S.clear()},cancel:function(){return O()(f()().mark(function S(){var E;return f()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return(E=ie.current)===null||E===void 0||E.clear(),xe.progress.close("compose:"+L.id),s.abrupt("return",!0);case 3:case"end":return s.stop()}},S)}))()}}});var xe=(0,ze.useModel)("subscriber"),ie=(0,u.useRef)(),h=(0,u.useState)(!1),I=M()(h,2),c=I[0],T=I[1];return xe.addDataHandler("compose:"+L.id,function(g){var S;(S=ie.current)===null||S===void 0||S.write(g.data)}),(0,t.jsx)(H.Z,{hidden:!c,ghost:!0,title:(0,t.jsx)(Xe.Z,{}),subTitle:"Console",extra:(0,t.jsx)(o.Z,{children:(0,t.jsx)(i.Z,{action:O()(f()().mark(function g(){var S;return f()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return(S=ie.current)===null||S===void 0||S.clear(),xe.progress.close("compose:"+L.id),B.abrupt("return");case 3:case"end":return B.stop()}},g)})),buttonProps:{icon:(0,t.jsx)(ae.Z,{}),danger:!0},children:j.FD.format("listManageKill")},"kill")}),children:(0,t.jsx)(nt.Z,{id:"create-log-".concat(L.id),height:"200px",style:{fontSize:12},ref:ie})})}),at=rt,it=e(83002),ot=e(60940),ee=e(55241),we=e(78451),Z=e(89638),Le=e(10781),Fe=e(91806),de=e(60433),ge=e(99611),Ce=e(99922),z=e(41477),C=e(87662),te=e(5251),A=e(69033);function De(L){var Ie=(0,u.useState)(""),xe=M()(Ie,2),ie=xe[0],h=xe[1],I=(0,u.useRef)(),c=(0,u.useRef)(),T=(0,u.useState)(),g=M()(T,2),S=g[0],E=g[1],B=new j.Uo("components.appCompose"),s=(0,u.useRef)(),W=(0,u.useState)(),k=M()(W,2),Se=k[0],$e=k[1],Be=(0,u.useState)(),Ye=M()(Be,2),a=Ye[0],Ne=Ye[1];return(0,u.useEffect)(function(){return(0,C.K3)().then(function(oe){var V;h((V=oe.data.serverUrl)!==null&&V!==void 0?V:"")}),E(!1),L.containerList&&$e(L.containerList.filter(function(oe){return oe.status!=""}).map(function(oe){return oe.service})),Ne(L.containerList),function(){Ne([])}},[L.containerList]),(0,t.jsxs)(H.Z,{ghost:!0,title:(0,t.jsx)(Fe.Z,{}),subTitle:B.format("detailContainerTitle"),extra:L.enableSelectService&&(0,t.jsx)(Te.Z,{checked:S,onChange:function(V){E(V.target.checked)},children:B.format("selectService")},"selectService"),children:[(0,t.jsx)(Ce.Z,{showFileExplorer:!0,ref:I}),(0,t.jsx)(A.Z,{ref:s}),(0,t.jsx)(z.Z,{ref:c}),(0,t.jsx)(ot.Z,{scroll:{x:"max-content"},rowKey:"service",pagination:!1,columns:[{title:j.FD.format("listName"),dataIndex:"name",width:200,render:function(V,x,Pe){return(0,t.jsx)(ke.Z,{title:x.service,children:(0,t.jsx)(we.Z,{content:x.name?(0,te.fi)(x.name,"/"):x.service})})}},{title:j.FD.format("listPort"),render:function(V,x,Pe){var K=[],ne=[];return x.publishers&&x.publishers.map(function(ye){ye.publishedPort?K.push({PrivatePort:ye.targetPort,Type:ye.protocol,IP:ye.url,PublicPort:ye.publishedPort}):ye.publishedPort&&ne.push({PrivatePort:ye.targetPort,Type:ye.protocol,IP:ye.url,PublicPort:ye.publishedPort})}),(0,t.jsx)(Z.Z,{publicPort:K,privatePort:ne,domain:[],serverIp:ie})}},{title:j.FD.format("listStatus"),render:function(V,x,Pe){return(0,t.jsx)(Le.Z,{status:"container.".concat(x.state),tip:"".concat(x.state," ").concat(x.status)},x.name)}},{title:j.FD.format("listManage"),fixed:"right",render:function(V,x,Pe){return(0,t.jsxs)(o.Z,{split:(0,t.jsx)(w.Z,{type:"vertical"}),children:[x.name==""&&(0,t.jsx)(ee.Z,{placement:"left",content:(0,t.jsx)(H.Z,{ghost:!0,title:j.FD.format("listManageShowContainerEnv"),children:(0,t.jsx)(o.Z,{direction:"vertical",children:x.environment&&Object.keys(x.environment).map(function(K){if(x.environment&&x.environment[K])return(0,t.jsx)(n.Z.Text,{code:!0,children:"".concat(K,"=").concat(x.environment[K])},K)})})}),children:(0,t.jsx)(de.Z,{})}),x.name!=""&&(0,t.jsx)(n.Z.Link,{onClick:function(){var ne;(ne=c.current)===null||ne===void 0||ne.show(x.name)},children:(0,t.jsx)(ge.Z,{})},"container"),x.state=="running"&&(0,t.jsx)(n.Z.Link,{onClick:function(){var ne;(ne=I.current)===null||ne===void 0||ne.show({url:"/console/container/".concat((0,te.fi)(x.name,"/")),title:x.name})},children:(0,t.jsx)(Xe.Z,{})},"console"),x.state=="running"&&(0,t.jsx)(n.Z.Link,{onClick:function(){var ne;(ne=s.current)===null||ne===void 0||ne.showContainer((0,te.fi)(x.name,"/"))},children:(0,t.jsx)(ue.Z,{})},"file")]})}}],dataSource:a,rowSelection:S&&a?{selectedRowKeys:Se,onChange:function(V,x,Pe){$e(V),L.selectServiceFinish&&L.selectServiceFinish(V)}}:void 0})]})}var Ke=e(91058),be=e(42013),Ae=e(2831),lt=e(36588),Je=e(24963),ce=(0,u.forwardRef)(function(L,Ie){var xe,ie=(0,ze.useAccess)(),h=new j.Uo("components.appCompose"),I=(0,u.useState)(0),c=M()(I,2),T=c[0],g=c[1],S=(0,u.useState)(!1),E=M()(S,2),B=E[0],s=E[1],W=(0,u.useState)(!1),k=M()(W,2),Se=k[0],$e=k[1],Be=(0,u.useState)(),Ye=M()(Be,2),a=Ye[0],Ne=Ye[1],oe=(0,u.useRef)(),V=(0,u.useRef)(),x=(0,u.useRef)(),Pe=(0,u.useRef)(),K=(0,u.useRef)(),ne=(0,u.useRef)(),ye=(0,u.useRef)(),mt=(0,u.useRef)(),vt=(0,u.useState)(),ft=M()(vt,2),_e=ft[0],st=ft[1],pt=(0,u.useContext)(Je.Z),ht=pt.notice;(0,u.useImperativeHandle)(Ie,function(){return{show:function(r){return O()(f()().mark(function m(){return f()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:st(r),s(!0);case 2:case"end":return D.stop()}},m)}))()}}}),(0,u.useEffect)(function(){_e&&($e(!0),(0,Q.Pn)({id:_e}).finally(O()(f()().mark(function v(){return f()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:$e(!1);case 1:case"end":return m.stop()}},v)}))).then(function(v){var r=v.data.detail;r.setting.status&&r.setting.status.includes("running")&&(r.isRunning=!0),r.setting.status&&r.setting.status.includes("paused")&&(r.isPaused=!0),r.setting.status&&r.setting.status.includes("exited")&&(r.isExited=!0),r.setting.status&&r.setting.status.includes("waiting")?r.isDeploy=!1:r.isDeploy=!0,r.setting.status&&r.setting.status.includes("created")&&(r.isCreated=!0,r.isDeploy=!1);var m=v.data.project;if(m&&m.services&&(r.imageList=p()(new Set(Object.keys(m.services).map(function(re){var P;return(P=m.services[re].image)!==null&&P!==void 0?P:""}).filter(function(re){return re!=""})))),r.containerList=v.data.containerList,r.containerList||(r.containerList=[]),m!=null&&m.services&&Object.entries(m==null?void 0:m.services).forEach(function(re){var P,Ze=M()(re,2),Ee=Ze[0],Re=Ze[1],Ge=r.containerList.find(function(b){return b.service==Ee});Ge||r.containerList.push({project:(P=m.name)!==null&&P!==void 0?P:"",name:"",service:Ee,publishers:Re.ports?Re.ports.map(function(b){var Me;return{url:"",targetPort:b.target,publishedPort:parseInt(b.published),protocol:(Me=b.protocol)!==null&&Me!==void 0?Me:""}}):[],state:"waiting",status:"",environment:Re.environment})}),r.containerList){var y;(y=x.current)===null||y===void 0||y.setFieldValue("deployServiceName",v.data.detail.setting.deployServiceName)}if(Ne(d()(d()({},v.data),{detail:r})),v.data.detail.setting.environment){var D;(D=x.current)===null||D===void 0||D.setFieldValue("environment",v.data.detail.setting.environment)}}))},[T,_e]);function gt(v){return ut.apply(this,arguments)}function ut(){return ut=O()(f()().mark(function v(r){var m,y,D;return f()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if((m=K.current)===null||m===void 0||m.show(),!r.pullImageUseDPanel){P.next=5;break}return P.next=4,(y=oe.current)===null||y===void 0?void 0:y.start();case 4:(D=oe.current)===null||D===void 0||D.finish();case 5:return P.prev=5,P.next=8,(0,Q.Oh)(r);case 8:L.onDeployFinish&&L.onDeployFinish(),P.next=14;break;case 11:P.prev=11,P.t0=P.catch(5),L.onDeployFailed&&L.onDeployFailed();case 14:g(T+1);case 15:case"end":return P.stop()}},v,null,[[5,11]])})),ut.apply(this,arguments)}return(0,t.jsxs)(N.Z,{drawerProps:{width:X.R_,destroyOnHidden:!0},requestLoading:Se,title:a?h.format("drawerTitle",{name:(xe=a==null?void 0:a.detail.name)!==null&&xe!==void 0?xe:""}):h.format("createTitle"),open:B,onOpenChange:function(r){r||(st(void 0),Ne(void 0),L.onClose&&L.onClose()),s(r)},submitter:!1,formRef:x,children:[a&&!(0,He.Z)(a.detail.imageList)&&(0,t.jsx)(tt.Z,{ref:oe,image:a.detail.imageList}),(0,t.jsx)(A.Z,{ref:ye}),(0,t.jsxs)(H.Z,{direction:"column",ghost:!0,gutter:[0,10],children:[a&&a.detail.setting.type=="dangling"&&(0,t.jsx)(l.Z,{type:"warning",showIcon:!0,description:(0,t.jsxs)("div",{children:[h.format("managerStatusDanglingAlert",{name:a.detail.name})," ",(0,t.jsx)("a",{href:"https://dpanel.cc/manual/compose-create-outpath",target:"_blank",children:j.FD.format("help")})]})}),a&&a.detail.setting.type!="dangling"&&(0,t.jsx)(H.Z,{title:(0,t.jsx)(je.Z,{}),subTitle:h.format("managerContainerTitle"),ghost:!0,children:(0,t.jsxs)(o.Z,{wrap:!0,split:(0,t.jsx)(w.Z,{type:"vertical"}),children:[(0,t.jsxs)(Ue.u,{access:"canSeeComposeListManage",space:{},children:[(0,t.jsx)(i.Z,{buttonProps:{icon:(0,t.jsx)(_.Z,{}),type:"primary"},confirmProps:{onOpenChange:function(r,m){var y;r&&(!((y=V.current)===null||y===void 0)&&y.resetFields)&&V.current.resetFields()},description:(0,t.jsxs)(o.Z,{style:{minWidth:300},direction:"vertical",wrap:!0,children:[(0,t.jsx)(n.Z.Text,{children:h.format("managerCreateTip")}),(0,t.jsx)(U.A,{name:"createForm",formRef:V,layout:"inline",submitter:!1,children:(0,t.jsxs)(et.Z,{vertical:!0,children:[(0,t.jsx)(Oe.Z.Group,{name:"pullImageUse",layout:"vertical",fieldProps:{style:{display:"flex",flexDirection:"column",gap:8}},options:h.option("managerCreatePullImageUseOption",["useCommand","useDPanel"])}),(0,t.jsx)(R.Z,{initialValue:!0,name:"createPath",valuePropName:"checked",children:(0,t.jsx)(Te.Z,{children:h.format("managerCreateCreatePath")})}),(0,t.jsx)(R.Z,{initialValue:!0,name:"removeOrphans",valuePropName:"checked",children:(0,t.jsx)(Te.Z,{defaultChecked:!0,children:h.format("managerCreateRemoveOrphans")})})]})})]})},action:O()(f()().mark(function v(){var r,m,y,D,re,P,Ze,Ee,Re,Ge,b,Me,qe;return f()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.prev=0,le.next=3,(Re=x.current)===null||Re===void 0?void 0:Re.validateFields();case 3:le.next=8;break;case 5:return le.prev=5,le.t0=le.catch(0),le.abrupt("return");case 8:return Ge=a?a.detail.id||a.detail.name:(r=x.current)===null||r===void 0?void 0:r.getFieldValue("name"),b={id:Ge,createPath:(m=(y=V.current)===null||y===void 0?void 0:y.getFieldValue("createPath"))!==null&&m!==void 0?m:!1,removeOrphans:(D=(re=V.current)===null||re===void 0?void 0:re.getFieldValue("removeOrphans"))!==null&&D!==void 0?D:!0},((P=V.current)===null||P===void 0?void 0:P.getFieldValue("pullImageUse"))=="useDPanel"&&(b.pullImage=!1,b.pullImageUseDPanel=!0),((Ze=V.current)===null||Ze===void 0?void 0:Ze.getFieldValue("pullImageUse"))=="useCommand"&&(b.pullImage=!0),Me=((Ee=x.current)===null||Ee===void 0?void 0:Ee.getFieldsFormatValue)&&x.current.getFieldsFormatValue(!0),b.environment=Me.environment,b.deployServiceName=Me.deployServiceName,le.next=17,(0,Q.im)({id:(a.detail.id||a.detail.name).toString(),name:a.detail.name,environment:Me.environment,type:a.detail.setting.type});case 17:if(!(a!=null&&a.detail.isDeploy&&b.deployServiceName)){le.next=23;break}if(qe=[],a.detail.containerList.forEach(function(dt){var ct;dt.status!=""&&!((ct=b.deployServiceName)!==null&&ct!==void 0&&ct.includes(dt.service))&&qe.push(dt.service)}),(0,He.Z)(qe)){le.next=23;break}return le.next=23,(0,Q.j6)({id:Ge,deleteImage:!1,deleteData:!1,deleteVolume:!1,deletePath:!1,destroyServiceName:qe});case 23:return le.abrupt("return",gt(b));case 24:case"end":return le.stop()}},v,null,[[0,5]])})),children:j.FD.format(a!=null&&a.detail.isDeploy?"listManageUpgrade":"listManageStart")},"deploy"),(a.detail.isDeploy||a.detail.isCreated)&&(0,t.jsx)(i.Z,{action:function(){var r;return(r=K.current)===null||r===void 0||r.show(),(0,Q.j6)({id:a.detail.id||a.detail.name,deleteImage:!1,deleteData:!1,deleteVolume:!1,deletePath:!1})},onSuccess:function(){g(T+1)},buttonProps:{type:"primary",danger:!0,icon:(0,t.jsx)(ae.Z,{})},confirmProps:{showCommonConfirm:!0},children:h.format("managerDeleteContainerButton")},"destroyContainer")]}),a.detail.isDeploy&&(0,t.jsxs)(Ue.u,{access:"canSeeComposeList",space:{direction:"horizontal"},children:[(0,t.jsx)(i.Z,{buttonProps:{icon:(0,t.jsx)(_.Z,{})},action:O()(f()().mark(function v(){var r;return f()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return(r=K.current)===null||r===void 0||r.show(),y.abrupt("return",(0,Q.GG)({id:a.detail.id||a.detail.name,op:"restart"}));case 2:case"end":return y.stop()}},v)})),onSuccess:function(){g(T+1)},children:h.format("managerRestartButton")},"restart"),(0,t.jsx)(i.Z,{action:function(){var r;return(r=K.current)===null||r===void 0||r.show(),(0,Q.GG)({id:a.detail.id||a.detail.name,op:"stop"})},buttonProps:{icon:(0,t.jsx)(pe.Z,{}),disabled:a.detail.isExited},onSuccess:function(){g(T+1)},children:h.format("managerStopButton")},"stop"),a.detail.isPaused&&(0,t.jsx)(i.Z,{action:function(){var r;return(r=K.current)===null||r===void 0||r.show(),(0,Q.GG)({id:a.detail.id||a.detail.name,op:"unpause"})},onSuccess:function(){g(T+1)},buttonProps:{icon:(0,t.jsx)(Y.Z,{})},children:h.format("managerUnpauseButton")},"unpause"),!a.detail.isPaused&&(0,t.jsx)(i.Z,{action:function(){var r;return(r=K.current)===null||r===void 0||r.show(),(0,Q.GG)({id:a.detail.id||a.detail.name,op:"pause"})},onSuccess:function(){g(T+1)},buttonProps:{icon:(0,t.jsx)(F.Z,{}),disabled:!a.detail.isRunning},children:h.format("managerPauseButton")},"pause"),a.detail.isDeploy&&(0,t.jsx)(it.Z,{composeItem:a.detail,showTriggerButton:!0},"composeLog")]}),a.detail.id>0&&ie.canSeeComposeListManageDelete&&(0,t.jsx)(i.Z,{buttonProps:{type:"dashed",danger:!0,icon:(0,t.jsx)(ae.Z,{})},confirmProps:{onOpenChange:function(r,m){var y;!((y=Pe.current)===null||y===void 0)&&y.resetFields&&Pe.current.resetFields()},description:(0,t.jsxs)(o.Z,{style:{width:280},direction:"vertical",children:[(0,t.jsx)(n.Z.Text,{children:h.format("managerDeleteTaskTip")}),(0,t.jsxs)(U.A,{formRef:Pe,layout:"inline",submitter:!1,children:[(0,t.jsx)(R.Z,{initialValue:!0,name:"deleteImage",valuePropName:"checked",children:(0,t.jsx)(Te.Z,{children:h.format("managerDeleteTaskDeleteImage")})}),(0,t.jsx)(R.Z,{addonAfter:(0,t.jsx)(ke.Z,{title:h.format("managerDeleteTaskDeleteVolumeTip"),children:(0,t.jsx)(he.Z,{})}),initialValue:!0,name:"deleteVolume",valuePropName:"checked",children:(0,t.jsx)(Te.Z,{children:h.format("managerDeleteTaskDeleteVolume")})}),(0,t.jsx)(R.Z,{initialValue:!0,name:"deletePath",valuePropName:"checked",children:(0,t.jsx)(Te.Z,{children:h.format("managerDeleteTaskDeletePath")})})]})]})},action:O()(f()().mark(function v(){var r,m,y,D,re,P,Ze,Ee,Re;return f()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return(r=K.current)===null||r===void 0||r.show(),b.next=3,(0,Q.j6)({id:(m=(y=a.detail)===null||y===void 0?void 0:y.id)!==null&&m!==void 0?m:a.detail.name,deleteImage:(D=(re=Pe.current)===null||re===void 0?void 0:re.getFieldValue("deleteImage"))!==null&&D!==void 0?D:!1,deleteVolume:(P=(Ze=Pe.current)===null||Ze===void 0?void 0:Ze.getFieldValue("deleteVolume"))!==null&&P!==void 0?P:!1,deletePath:(Ee=(Re=Pe.current)===null||Re===void 0?void 0:Re.getFieldValue("deletePath"))!==null&&Ee!==void 0?Ee:!1,deleteData:!0});case 3:s(!1),Ne(void 0),L.onClose&&L.onClose();case 6:case"end":return b.stop()}},v)})),children:j.FD.format("listManageDelete")},"deleteTask"),L.showBackListButton&&(0,t.jsx)(ze.Link,{to:"/compose/list",children:(0,t.jsx)(Ve.ZP,{children:j.Ob.format("compose.list")})})]})},"operator"),a&&a.detail.setting.type!="dangling"&&(0,t.jsx)(H.Z,{title:(0,t.jsx)(je.Z,{}),subTitle:h.format("managerTitle"),ghost:!0,children:(0,t.jsxs)(o.Z,{children:[ie.canSeeComposeListManage&&(0,t.jsx)(be.Z,{id:_e,onFinish:function(){var v=O()(f()().mark(function r(m){return f()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:st(m),g(T+1);case 2:case"end":return D.stop()}},r)}));return function(r){return v.apply(this,arguments)}}()}),ie.canSeeComposeListManageCreate&&(a==null?void 0:a.detail.setting.type)!="outPath"&&(0,t.jsx)(Ve.ZP,{icon:(0,t.jsx)(ue.Z,{}),onClick:O()(f()().mark(function v(){var r,m,y,D;return f()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,Ae.aF)();case 2:m=P.sent,m.data&&(r=m.data.dpanel.containerInfo)!==null&&r!==void 0&&r.Name?(y=ye.current)===null||y===void 0||y.showContainer((D=m.data.dpanel.containerInfo)===null||D===void 0?void 0:D.Name,"/dpanel/compose/".concat(a==null?void 0:a.detail.name)):ht.error(j.FD.format("commonNotFoundDPanel"));case 4:case"end":return P.stop()}},v)})),children:j.FD.format("listManageFilePath")}),(0,t.jsx)(w.Z,{type:"vertical"}),function(v){var r="";if((v=a.project)!==null&&v!==void 0&&v.networks){var m=Object.entries(a.project.networks).find(function(y){var D=M()(y,2),re=D[0],P=D[1];return P.external});m&&(r=m[1].name)}return r!=""&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(lt.Z,{ref:mt},"network-create"),(0,t.jsx)(Ve.ZP,{onClick:function(){var D;(D=mt.current)===null||D===void 0||D.show(r)},icon:(0,t.jsx)(q.Z,{}),children:h.format("joinContainerInNetwork")},"network")]})}(),(0,t.jsx)(Ve.ZP,{icon:(0,t.jsx)(_.Z,{}),onClick:function(){var r;(r=K.current)===null||r===void 0||r.close(),g(T+1)},children:j.FD.format("listManageRefresh")})]})},"manager"),a&&a.detail.setting.type!="dangling"&&(0,t.jsx)(at,{ref:K,id:(a==null?void 0:a.detail.id)||(a==null?void 0:a.detail.name)}),a&&a.containerList&&(0,t.jsx)(De,{containerList:a==null?void 0:a.containerList,enableSelectService:(a==null?void 0:a.detail.setting.type)!="dangling",selectServiceFinish:function(r){var m;(m=x.current)===null||m===void 0||m.setFieldValue("deployServiceName",r)}}),(0,t.jsx)(R.Z,{name:"deployServiceName",hidden:!0}),a&&a.detail.setting.type!="dangling"&&(0,t.jsx)(Ke.Z,{drawerProps:{ghost:!0,title:(0,t.jsx)(G.Z,{}),subTitle:"".concat(h.format("createEnvTitle"))},showDisableName:!0,showDeleteButton:!1,name:"environment",ref:ne})]})]})}),Qe=ce},75544:function(We,me,e){var fe=e(5574),d=e.n(fe),ve=e(12323),p=e(78267),$=e.n(p),f=e(75458),se=e.n(f),O=e(4244),J=e.n(O),M=e(24078),u=e(67294),X=e(85893),j,H,U,Oe=(0,u.forwardRef)(function(R,Q){var N,je=(0,u.useState)(!0),_=d()(je,2),ae=_[0],pe=_[1];return(0,u.useEffect)(function(){return j=new O.Terminal(ve.X),H=new f.SearchAddon,U=new p.FitAddon,window.addEventListener("resize",function(){R.showInModal||U.fit()}),R.style&&R.style.fontSize&&(j.options.fontSize=R.style.fontSize),j.loadAddon(U),j.loadAddon(H),j.open(document.getElementById(R.id?R.id:"terminal-container")),R.showInModal||U.fit(),j.onKey(function(Y){var F=Y.domEvent;if(F.ctrlKey&&F.key==="c"){var he=j.getSelection();he&&(navigator.clipboard.writeText(he).then(function(){}),F.preventDefault())}}),function(){j.reset(),pe(!0)}},[]),(0,u.useImperativeHandle)(Q,function(){return{write:function(F){ae&&(U.fit(),pe(!1)),j.write(F)},clear:function(){j.clear()},getTerminal:function(){return j},findNext:function(F){H.findNext(F)},findPrev:function(F){H.findPrevious(F)},fit:function(){U.fit()},onData:function(F){return j.onData(F)}}}),(0,X.jsx)("div",{id:R.id?R.id:"terminal-container",style:{width:R.width?R.width:"100%",height:R.height?R.height:"500px",marginTop:(N=R.style)===null||N===void 0?void 0:N.marginTop}})});me.Z=Oe},90098:function(We,me,e){e.d(me,{GG:function(){return Oe},MG:function(){return ae},Oh:function(){return X},Pn:function(){return M},Yz:function(){return Q},iE:function(){return he},im:function(){return f},j6:function(){return H},pm:function(){return O},tw:function(){return q},vf:function(){return je},zN:function(){return Y}});var fe=e(15009),d=e.n(fe),ve=e(99289),p=e.n(ve),$=e(63713);function f(l){return se.apply(this,arguments)}function se(){return se=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/create",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),se.apply(this,arguments)}function O(l){return J.apply(this,arguments)}function J(){return J=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/get-list",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),J.apply(this,arguments)}function M(l){return u.apply(this,arguments)}function u(){return u=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/get-task",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),u.apply(this,arguments)}function X(l){return j.apply(this,arguments)}function j(){return j=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/container-deploy",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),j.apply(this,arguments)}function H(l){return U.apply(this,arguments)}function U(){return U=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/container-destroy",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),U.apply(this,arguments)}function Oe(l){return R.apply(this,arguments)}function R(){return R=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/container-ctrl",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),R.apply(this,arguments)}function Q(l){return N.apply(this,arguments)}function N(){return N=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/container-log",{method:"POST",data:o}));case 2:case"end":return n.stop()}},l)})),N.apply(this,arguments)}function je(l){return _.apply(this,arguments)}function _(){return _=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.download=!0,o.id=String(o.id),n.next=4,(0,$.request)("/dpanel/api/app/compose/container-log",{method:"POST",data:o,responseType:"blob"});case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}},l)})),_.apply(this,arguments)}function ae(l){return pe.apply(this,arguments)}function pe(){return pe=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/get-from-uri",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),pe.apply(this,arguments)}function Y(l){return F.apply(this,arguments)}function F(){return F=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/get-from-git",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),F.apply(this,arguments)}function he(l){return ue.apply(this,arguments)}function ue(){return ue=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,$.request)("/dpanel/api/common/store/deploy",{method:"POST",data:o}));case 1:case"end":return n.stop()}},l)})),ue.apply(this,arguments)}function q(l){return G.apply(this,arguments)}function G(){return G=p()(d()().mark(function l(o){return d()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return o.id=String(o.id),n.abrupt("return",(0,$.request)("/dpanel/api/app/compose/download",{method:"POST",data:o,responseType:"blob"}));case 2:case"end":return n.stop()}},l)})),G.apply(this,arguments)}}}]);
