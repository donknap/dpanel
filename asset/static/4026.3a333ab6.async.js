!(function(){var oe=Object.defineProperty,le=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var q=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,de=Object.prototype.propertyIsEnumerable;var ee=(B,O,e)=>O in B?oe(B,O,{enumerable:!0,configurable:!0,writable:!0,value:e}):B[O]=e,te=(B,O)=>{for(var e in O||(O={}))ue.call(O,e)&&ee(B,e,O[e]);if(q)for(var e of q(O))de.call(O,e)&&ee(B,e,O[e]);return B},ne=(B,O)=>le(B,_e(O));(self.webpackChunk=self.webpackChunk||[]).push([[4026],{52688:function(B,O,e){"use strict";var j=e(1413),h=e(45987),L=e(67294),c=e(40284),p=e(85893),m=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],M=L.forwardRef(function(y,t){var n=y.fieldProps,o=y.unCheckedChildren,s=y.checkedChildren,a=y.proFieldProps,r=(0,h.Z)(y,m);return(0,p.jsx)(c.Z,(0,j.Z)({valueType:"switch",fieldProps:(0,j.Z)({unCheckedChildren:o,checkedChildren:s},n),ref:t,valuePropName:"checked",proFieldProps:a,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},r))});O.Z=M},90672:function(B,O,e){"use strict";var j=e(1413),h=e(45987),L=e(67294),c=e(40284),p=e(85893),m=["fieldProps","proFieldProps"],M=function(t,n){var o=t.fieldProps,s=t.proFieldProps,a=(0,h.Z)(t,m);return(0,p.jsx)(c.Z,(0,j.Z)({ref:n,valueType:"textarea",fieldProps:o,proFieldProps:s},a))};O.Z=L.forwardRef(M)},74026:function(B,O,e){"use strict";var j=e(15009),h=e.n(j),L=e(99289),c=e.n(L),p=e(5574),m=e.n(p),M=e(66554),y=e(184),t=e(86615),n=e(97462),o=e(90672),s=e(64317),a=e(5966),r=e(62370),l=e(52688),_=e(83622),f=e(42075),v=e(71230),u=e(15746),E=e(67294),T=e(12491),C=e(75544),b=e(77865),W=e(82346),P=e(3616),I=e(36146),D=e(85893),x=(0,E.forwardRef)(function(U,F){var R=(0,E.useState)(!1),d=m()(R,2),g=d[0],A=d[1],i=(0,E.useRef)(),z=(0,E.useRef)(),$=(0,E.useState)([]),Z=m()($,2),Y=Z[0],X=Z[1],re=(0,W.useModel)("subscriber"),se=(0,E.useState)(),Q=m()(se,2),ae=Q[0],J=Q[1],w=new I.Uo("components.appDomain");return re.addDataHandler("domain:apply",function(H){var K;(K=z.current)===null||K===void 0||K.write(H.data)}),(0,E.useImperativeHandle)(F,function(){return{edit:function(K){var S,V;J(K),(S=i.current)===null||S===void 0||S.resetFields(),(V=i.current)===null||V===void 0||V.setFieldsValue({type:K.CA=="import"?"upload":"apply",domain:K.domain,dnsApi:K.dnsApi,sslKeyContent:K.sslKeyContent,sslCrtContent:K.sslCrtContent}),A(!0)}}}),(0,E.useEffect)(function(){(0,M.q2)().then(function(H){X(H.data.setting.map(function(K){return{label:K.title,value:K.serverName}}))})},[]),(0,D.jsx)(D.Fragment,{children:(0,D.jsxs)(y.a,{title:w.format("certTitle"),drawerProps:{forceRender:!0,width:P.R_},trigger:(0,D.jsx)(_.ZP,{type:"primary",children:w.format("certTitle")}),formRef:i,onFinish:function(){var H=c()(h()().mark(function K(S){var V,k,N,ie;return h()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if((V=z.current)===null||V===void 0||V.clear(),S.type!="upload"){G.next=7;break}return G.next=4,(0,M.ui)({type:S.type,sslKeyContent:S.sslKeyContent,sslCrtContent:S.sslCrtContent});case 4:k=G.sent,G.next=11;break;case 7:return localStorage.setItem("email",(N=S.email)!==null&&N!==void 0?N:""),G.next=10,(0,M.Pf)({type:S.type,domain:S.domain,email:S.email,certServer:S.certServer,autoUpgrade:S.autoUpgrade,renew:S.renew,debug:S.debug,dnsApi:S.dnsApi});case 10:ie=G.sent;case 11:return U.onFinish&&U.onFinish(),G.abrupt("return",!0);case 13:case"end":return G.stop()}},K)}));return function(K){return H.apply(this,arguments)}}(),onOpenChange:function(K){var S,V;if(!K){var k;J(void 0),(k=i.current)===null||k===void 0||k.resetFields()}if(U.domain&&U.domain.length>0){var N;(N=i.current)===null||N===void 0||N.setFieldValue("domain",U.domain)}(S=i.current)===null||S===void 0||S.setFieldsValue({email:(V=localStorage.getItem("email"))!==null&&V!==void 0?V:""}),A(K)},open:g,children:[(0,D.jsx)(t.Z.Group,{label:w.format("certFormType"),name:"type",initialValue:"apply",disabled:!!ae,options:w.option("certFormTypeOption",["upload","apply"])}),(0,D.jsx)(n.Z,{name:["type"],children:function(K){var S=K.type;return S=="upload"?[(0,D.jsx)(o.Z,{fieldProps:{rows:10},label:w.format("certFormSslCrtContent"),name:"sslCrtContent",tooltip:w.format("certFormSslCrtContentTip"),placeholder:"-----BEGIN CERTIFICATE-----",required:!0},"sslCrt"),(0,D.jsx)(T.Z,{title:w.format("certFormImportCrt"),onImport:function(k){var N;return(N=i.current)===null||N===void 0||N.setFieldValue("sslCrtContent",k),!0},onLoad:function(k){if(k.indexOf("BEGIN CERTIFICATE")<0)throw new Error(I.FD.format("commonFileIncorrectFormat",{name:".crt"}));return!0}},"importCrt"),(0,D.jsx)(o.Z,{fieldProps:{rows:10},label:w.format("certFormSslKeyContent"),name:"sslKeyContent",tooltip:w.format("certFormSslKeyContentTip"),placeholder:"-----BEGIN PRIVATE KEY-----",required:!0},"sslKey"),(0,D.jsx)(T.Z,{title:w.format("certFormImportKey"),onImport:function(k){var N;return(N=i.current)===null||N===void 0||N.setFieldValue("sslKeyContent",k),!0},onLoad:function(k){if(k.indexOf("PRIVATE KEY")<0)throw new Error(I.FD.format("commonFileIncorrectFormat",{name:".key"}));return!0}},"importKey")]:(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(s.Z,{mode:"tags",name:"domain",label:w.format("certFormDomain"),placeholder:w.format("certFormDomainEmpty"),required:!0,rules:[{required:!0}]},"domain"),(0,D.jsx)(a.Z,{label:w.format("certFormEmail"),name:"email",required:!0,rules:[{required:!0}]}),(0,D.jsxs)(f.Z.Compact,{children:[(0,D.jsx)(s.Z,{label:w.format("certFormDnsApi"),tooltip:w.format("certFormDnsApiTip"),name:"dnsApi",width:"lg",required:!0,rules:[{required:!0}],options:Y}),(0,D.jsx)(r.Z,{label:" ",children:(0,D.jsx)(b.Z,{onFinish:function(k){X(k.map(function(N){return{label:N.title,value:N.serverName}}))}},"dns")})]}),(0,D.jsx)(s.Z,{label:w.format("certFormCertServer"),name:"certServer",tooltip:w.format("certFormCertServerTip"),initialValue:"letsencrypt",options:[{value:"letsencrypt",label:"Let's Encrypt"},{value:"zerossl",label:"ZeroSSL"}]}),(0,D.jsxs)(v.Z,{gutter:[20,10],children:[(0,D.jsx)(u.Z,{children:(0,D.jsx)(l.Z,{label:w.format("certFormAutoUpgrade"),name:"autoUpgrade",initialValue:!0})}),(0,D.jsx)(u.Z,{children:(0,D.jsx)(l.Z,{tooltip:w.format("certFormRenewTip"),label:w.format("certFormRenew"),name:"renew",initialValue:!1})}),(0,D.jsx)(u.Z,{children:(0,D.jsx)(l.Z,{tooltip:w.format("certFormDebugTip"),label:"Debug",name:"debug",initialValue:!1})}),(0,D.jsx)(u.Z,{})]}),(0,D.jsx)(C.Z,{height:"200px",style:{fontSize:12},ref:z})]})}})]})})});O.Z=x},77865:function(B,O,e){"use strict";var j=e(15009),h=e.n(j),L=e(99289),c=e.n(L),p=e(5574),m=e.n(p),M=e(184),y=e(86615),t=e(97462),n=e(5966),o=e(83622),s=e(67294),a=e(44349),r=e(52255),l=e(66554),_=e(3616),f=e(36146),v=e(85893),u=new f.Uo("components.appDomain"),E=[{value:"dns_cf",label:"CloudFlare",fields:[{name:"CF_Token"}],help:"https://dash.cloudflare.com/profile/api-tokens"},{value:"dns_dp",label:"DNSPod",fields:[{name:"DP_Id"},{name:"DP_Key"}],help:"https://console.dnspod.cn/account/token/token"},{value:"dns_tencent",label:u.format("dnsApiOption.dns_tencent"),fields:[{name:"Tencent_SecretId"},{name:"Tencent_SecretKey"}],help:"https://console.cloud.tencent.com/cam/capi"},{label:u.format("dnsApiOption.dns_ali"),value:"dns_ali",fields:[{name:"Ali_Key"},{name:"Ali_Secret"}],help:"https://ram.console.aliyun.com/users"},{label:u.format("dnsApiOption.dns_huaweicloud"),value:"dns_huaweicloud",fields:[{name:"HUAWEICLOUD_Username"},{name:"HUAWEICLOUD_Password"},{name:"HUAWEICLOUD_DomainName"}],help:"https://support.huaweicloud.com/api-iam/iam_01_0006.html"},{label:"GoDaddy",value:"dns_gd",fields:[{name:"GD_Key"},{name:"GD_Secret"}],help:"https://developer.godaddy.com/keys/"},{label:u.format("dnsApiOption.user"),value:"user",help:"https://github.com/acmesh-official/acme.sh/wiki/dnsapi"}],T=(0,s.forwardRef)(function(C,b){(0,s.useImperativeHandle)(b,function(){return{show:function(){D(!0)}}});var W=(0,s.useState)(!1),P=m()(W,2),I=P[0],D=P[1],x=(0,s.useRef)();return(0,v.jsxs)(M.a,{drawerProps:{width:_.R_},title:u.format("dnsApiTitle"),trigger:(0,v.jsx)(o.ZP,{children:u.format("dnsApiTitle")}),formRef:x,open:I,onFinish:function(){var U=c()(h()().mark(function F(R){var d,g;return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,l.q2)({account:Object.keys((d=R.account)!==null&&d!==void 0?d:{}).map(function(z){var $;return{title:($=E.find(function(Z){return Z.value==z}))===null||$===void 0?void 0:$.label,serverName:z,env:Object.keys(R.account[z]).map(function(Z){return{name:Z,value:R.account[z][Z]}})}}),user:R.user});case 2:return g=i.sent,C.onFinish&&C.onFinish(g.data.setting),i.abrupt("return",!0);case 5:case"end":return i.stop()}},F)}));return function(F){return U.apply(this,arguments)}}(),onOpenChange:function(){var U=c()(h()().mark(function F(R){var d,g,A,i;return h()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(D(R),!R){$.next=9;break}return(d=x.current)===null||d===void 0||d.resetFields(),$.next=5,(0,l.q2)();case 5:A=$.sent,i=[],A.data.setting&&A.data.setting.map(function(Z){E.find(function(Y){return Y.value==Z.serverName})?Z.env&&Z.env.map(function(Y){var X;(X=x.current)===null||X===void 0||X.setFieldValue(["account",Z.serverName,Y.name],Y.value)}):Z.env&&i.push(Z)}),(g=x.current)===null||g===void 0||g.setFieldValue("user",i);case 9:case"end":return $.stop()}},F)}));return function(F){return U.apply(this,arguments)}}(),children:[(0,v.jsx)(y.Z.Group,{label:u.format("dnsApiServerNameSelect"),name:"serverNameSelect",radioType:"button",initialValue:"dns_dp",options:E.map(function(U){return{label:U.label,value:U.value}})}),(0,v.jsx)(t.Z,{name:["serverNameSelect"],children:function(F){var R,d=F.serverNameSelect,g=(R=E.find(function(A){return A.value===d}))===null||R===void 0?void 0:R.help;return(0,v.jsxs)("div",{style:{marginBottom:20},children:[u.format("dnsApiServerNameTip"),": ",(0,v.jsx)("a",{href:g,target:"_blank",children:g})]})}}),(0,v.jsx)(t.Z,{name:["serverNameSelect"],children:function(F){var R=F.serverNameSelect;return(0,v.jsxs)(v.Fragment,{children:[E.map(function(d){if(d.fields)return(0,v.jsx)(r.Z,{show:R==d.value,children:d.fields.map(function(g,A){return(0,v.jsx)(n.Z,{label:g.name,name:["account",d.value,g.name]},"".concat(d.value,"-").concat(A,"-").concat(g.name))})},d.value)}),(0,v.jsx)(r.Z,{show:R=="user",children:(0,v.jsx)(a.Z,{gap:20,name:"user",label:u.format("dnsApiUser"),showAddButton:!0,hideCopyButton:!0,items:[{name:"serverName",label:u.format("dnsApiUserServerName")},{name:"env",render:function(g,A,i){return(0,v.jsx)(a.Z,{gap:20,name:"env",label:u.format("dnsApiUserEnv"),showAddButton:!0,hideCopyButton:!0,items:[{name:"name",label:u.format("dnsApiUserEnvName")},{name:"value",label:u.format("dnsApiUserEnvValue")}]},"env")}}]})},"user")]})}})]})});O.Z=T},52255:function(B,O,e){"use strict";e.d(O,{Z:function(){return L}});var j=e(67294),h=e(85893);function L(c){return(0,h.jsx)("div",{style:{display:c.show?"block":"none"},children:c.children})}},75544:function(B,O,e){"use strict";var j=e(5574),h=e.n(j),L=e(12323),c=e(78267),p=e.n(c),m=e(75458),M=e.n(m),y=e(67294),t=e(4244),n=e.n(t),o=e(24078),s=e(85893),a,r,l,_=(0,y.forwardRef)(function(f,v){var u,E=(0,y.useState)(!0),T=h()(E,2),C=T[0],b=T[1];return(0,y.useEffect)(function(){return a=new t.Terminal(L.X),r=new m.SearchAddon,l=new c.FitAddon,window.addEventListener("resize",function(){f.showInModal||l.fit()}),f.style&&f.style.fontSize&&(a.options.fontSize=f.style.fontSize),a.loadAddon(l),a.loadAddon(r),a.open(document.getElementById(f.id?f.id:"terminal-container")),f.showInModal||l.fit(),function(){a.reset(),b(!0)}},[]),(0,y.useImperativeHandle)(v,function(){return{write:function(P){C&&(l.fit(),b(!1)),a.write(P)},clear:function(){a.clear()},getTerminal:function(){return a},findNext:function(P){r.findNext(P)},findPrev:function(P){r.findPrevious(P)},fit:function(){l.fit()},onData:function(P){return a.onData(P)}}}),(0,s.jsx)("div",{id:f.id?f.id:"terminal-container",style:{width:f.width?f.width:"100%",height:f.height?f.height:"500px",marginTop:(u=f.style)===null||u===void 0?void 0:u.marginTop}})});O.Z=_},44349:function(B,O,e){"use strict";var j=e(97857),h=e.n(j),L=e(15009),c=e.n(L),p=e(99289),m=e.n(p),M=e(74763),y=e(17186),t=e(5966),n=e(86250),o=e(67294),s=e(85893),a=(0,o.forwardRef)(function(r,l){var _=(0,o.useRef)();(0,o.useImperativeHandle)(l,function(){return{addItem:function(v){function u(E,T,C){return v.apply(this,arguments)}return u.toString=function(){return v.toString()},u}(function(v,u,E){var T,C=(T=_.current)===null||T===void 0?void 0:T.getList(),b;if(C==null||C.forEach(function(I,D){I[v]==u[v]&&(b=D)}),!(0,M.k)(b)&&E){var W;(W=_.current)===null||W===void 0||W.remove(b),b=void 0}if(!b){var P;(P=_.current)===null||P===void 0||P.add(u)}}),removeItemByKey:function(u,E){return m()(c()().mark(function T(){var C,b;return c()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return b=(C=_.current)===null||C===void 0?void 0:C.getList(),b==null||b.forEach(function(I,D){if(I[u]==E){var x;(x=_.current)===null||x===void 0||x.remove(D);return}}),P.abrupt("return");case 3:case"end":return P.stop()}},T)}))()},clear:function(u){if(!u){var E;u=(E=_.current)===null||E===void 0||(E=E.getList())===null||E===void 0?void 0:E.map(function(C,b){return b})}if(u){var T;(T=_.current)===null||T===void 0||T.remove(u)}},getList:function(){var u;return(u=_.current)===null||u===void 0?void 0:u.getList()}}});var f={};return r.hideCopyButton===!0&&(f.copyIconProps=!1),r.hideDeleteButton===!0&&(f.deleteIconProps=!1),(0,s.jsx)(y.u,h()(h()({initialValue:r.initialValue,label:r.label,name:r.name,actionRef:_,creatorButtonProps:r.showAddButton?{creatorButtonText:r.label?r.label:r.showAddButtonLabel?r.showAddButtonLabel:r.name}:!1,min:r.min?r.min:0},f),{},{children:function(u,E,T){return(0,s.jsx)(n.Z,{justify:r.justify,gap:r.gap,children:r.items.map(function(C){return C.render?(0,s.jsx)("div",{children:C.render&&C.render(u,E,T)},"".concat(r.name,"-").concat(C.name,"-").concat(u.key)):(0,s.jsx)(t.Z,{width:C.width,name:C.name,label:C.label,required:C.required,rules:[{required:C.required}],disabled:C.disabled,placeholder:C.placeholder},"".concat(r.name,"-").concat(C.name,"-").concat(u.key))})})}}))});O.Z=a},12491:function(B,O,e){"use strict";e.d(O,{Z:function(){return l}});var j=e(5574),h=e.n(j),L=e(3616),c=e(24963),p=e(36146),m=e(88484),M=e(57546),y=e(62370),t=e(11106),n=e(42075),o=e(83622),s=e(85576),a=e(67294),r=e(85893);function l(_){var f=(0,a.useContext)(c.Z),v=f.message,u=f.notice,E=(0,a.useRef)(null),T=(0,a.useState)(!1),C=h()(T,2),b=C[0],W=C[1],P=(0,a.useState)(""),I=h()(P,2),D=I[0],x=I[1];(0,a.useEffect)(function(){_.data&&x(_.data)},[_.data]);var U=function(){E.current&&(E.current.click(),E.current.onchange=function(R){if(!R||!R.target)return"";var d=new FileReader;d.onload=function(i){var z,$,Z=(z=i.target)===null||z===void 0?void 0:z.result;if(_.onLoad)try{_.onLoad&&_.onLoad(Z)}catch(Y){u.error(Y);return}x(Z),typeof _.onImport=="function"&&(v.success(p.FD.format("finish")),_.onImport(Z)),($=E.current)!==null&&$!==void 0&&$.value&&(E.current.value="")};var g=R.target;if(g.files&&g.files[0]){var A=g.files[0];try{d.readAsText(A)}catch(i){u.error(p.FD.format("commonContentIncorrectFormat",{name:g.files[0].name}))}}})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(y.Z,{children:(0,r.jsxs)(n.Z.Compact,{block:!0,children:[(0,r.jsx)(o.ZP,{icon:(0,r.jsx)(m.Z,{}),block:!0,onClick:U,children:_.title}),_.showPaset&&(0,r.jsx)(o.ZP,{icon:(0,r.jsx)(M.Z,{}),onClick:function(){W(!0)}})]})}),(0,r.jsx)("input",{style:{display:"none"},type:"file",ref:E,name:"importFileInput"}),(0,r.jsx)(s.Z,{width:L.ob,open:b,onCancel:function(){W(!1)},onOk:function(){typeof _.onImport=="function"&&(v.success(p.FD.format("finish")),_.onImport(D)),W(!1)},children:(0,r.jsx)(t.ZP,{height:L.Ed,theme:"dark",value:D,onChange:function(R){x(R)}})})]})}},3616:function(B,O,e){"use strict";e.d(O,{Ed:function(){return c},FK:function(){return h},R_:function(){return j},ob:function(){return L}});var j=window.innerWidth<=1024?"90vw":"65vw",h="90vw",L="60vw",c="50vh"},12323:function(B,O,e){"use strict";e.d(O,{X:function(){return j},n:function(){return h}});var j={convertEol:!0,fontFamily:'Menlo, Monaco, "Courier New", monospace',fontWeight:400,fontSize:16,lineHeight:1,cursorStyle:"block",cursorInactiveStyle:"outline",cursorBlink:!0,letterSpacing:0,theme:{foreground:"#bfbfbf",cursor:"gray",selectionForeground:"#ffffff"}},h=["black","red","green","yellow","blue","magenta","cyan","white","brightBlack","brightRed","brightGreen","brightYellow","brightBlue","brightMagenta","brightCyan","brightWhite"]},66554:function(B,O,e){"use strict";e.d(O,{Fj:function(){return y},KK:function(){return x},Pf:function(){return _},Ss:function(){return C},dZ:function(){return I},dj:function(){return s},hZ:function(){return E},i7:function(){return m},lQ:function(){return r},ll:function(){return F},q2:function(){return W},ui:function(){return v}});var j=e(15009),h=e.n(j),L=e(99289),c=e.n(L),p=e(82346);function m(d){return M.apply(this,arguments)}function M(){return M=c()(h()().mark(function d(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/dpanel/api/app/site-domain/get-list",{method:"POST",data:g}));case 1:case"end":return i.stop()}},d)})),M.apply(this,arguments)}function y(d){return t.apply(this,arguments)}function t(){return t=c()(h()().mark(function d(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/dpanel/api/app/site-domain/create",{method:"POST",data:g}));case 1:case"end":return i.stop()}},d)})),t.apply(this,arguments)}function n(d){return o.apply(this,arguments)}function o(){return o=_asyncToGenerator(_regeneratorRuntime().mark(function d(g){return _regeneratorRuntime().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",request("/dpanel/api/app/site-domain/update",{method:"POST",data:g}));case 1:case"end":return i.stop()}},d)})),o.apply(this,arguments)}function s(d){return a.apply(this,arguments)}function a(){return a=c()(h()().mark(function d(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/dpanel/api/app/site-domain/delete",{method:"POST",data:g}));case 1:case"end":return i.stop()}},d)})),a.apply(this,arguments)}function r(d){return l.apply(this,arguments)}function l(){return l=c()(h()().mark(function d(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/dpanel/api/app/site-domain/get-detail",{method:"POST",data:g}));case 1:case"end":return i.stop()}},d)})),l.apply(this,arguments)}function _(d){return f.apply(this,arguments)}function f(){return f=c()(h()().mark(function d(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/dpanel/api/app/site-cert/apply",{method:"POST",data:g}));case 1:case"end":return i.stop()}},d)})),f.apply(this,arguments)}function v(d){return u.apply(this,arguments)}function u(){return u=c()(h()().mark(function d(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/dpanel/api/app/site-cert/import",{method:"POST",data:g}));case 1:case"end":return i.stop()}},d)})),u.apply(this,arguments)}function E(){return T.apply(this,arguments)}function T(){return T=c()(h()().mark(function d(){return h()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,p.request)("/dpanel/api/app/site-domain/restart-nginx",{method:"POST"}));case 1:case"end":return A.stop()}},d)})),T.apply(this,arguments)}function C(d){return b.apply(this,arguments)}function b(){return b=c()(h()().mark(function d(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/dpanel/api/app/site-domain/update-vhost",{method:"POST",data:g}));case 1:case"end":return i.stop()}},d)})),b.apply(this,arguments)}function W(d){return P.apply(this,arguments)}function P(){return P=c()(h()().mark(function d(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/dpanel/api/app/site-cert/dns-api",{method:"POST",data:g}));case 1:case"end":return i.stop()}},d)})),P.apply(this,arguments)}function I(d){return D.apply(this,arguments)}function D(){return D=c()(h()().mark(function d(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/dpanel/api/app/site-cert/get-list",{method:"POST",data:g}));case 1:case"end":return i.stop()}},d)})),D.apply(this,arguments)}function x(d){return U.apply(this,arguments)}function U(){return U=c()(h()().mark(function d(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/dpanel/api/app/site-cert/delete",{method:"POST",data:g}));case 1:case"end":return i.stop()}},d)})),U.apply(this,arguments)}function F(d){return R.apply(this,arguments)}function R(){return R=c()(h()().mark(function d(g){return h()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,p.request)("/dpanel/api/app/site-cert/download",{method:"POST",data:g,responseType:"blob"}));case 1:case"end":return i.stop()}},d)})),R.apply(this,arguments)}},75458:function(B){(function(O,e){B.exports=e()})(self,()=>(()=>{"use strict";var O={345:(L,c)=>{Object.defineProperty(c,"__esModule",{value:!0}),c.runAndSubscribe=c.forwardEvent=c.EventEmitter=void 0,c.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=p=>(this._listeners.push(p),{dispose:()=>{if(!this._disposed){for(let m=0;m<this._listeners.length;m++)if(this._listeners[m]===p)return void this._listeners.splice(m,1)}}})),this._event}fire(p,m){const M=[];for(let y=0;y<this._listeners.length;y++)M.push(this._listeners[y]);for(let y=0;y<M.length;y++)M[y].call(void 0,p,m)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},c.forwardEvent=function(p,m){return p(M=>m.fire(M))},c.runAndSubscribe=function(p,m){return m(void 0),p(M=>m(M))}},859:(L,c)=>{function p(m){for(const M of m)M.dispose();m.length=0}Object.defineProperty(c,"__esModule",{value:!0}),c.getDisposeArrayDisposable=c.disposeArray=c.toDisposable=c.MutableDisposable=c.Disposable=void 0,c.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const m of this._disposables)m.dispose();this._disposables.length=0}register(m){return this._disposables.push(m),m}unregister(m){const M=this._disposables.indexOf(m);M!==-1&&this._disposables.splice(M,1)}},c.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(m){var M;this._isDisposed||m===this._value||((M=this._value)==null||M.dispose(),this._value=m)}clear(){this.value=void 0}dispose(){var m;this._isDisposed=!0,(m=this._value)==null||m.dispose(),this._value=void 0}},c.toDisposable=function(m){return{dispose:m}},c.disposeArray=p,c.getDisposeArrayDisposable=function(m){return{dispose:()=>p(m)}}}},e={};function j(L){var c=e[L];if(c!==void 0)return c.exports;var p=e[L]={exports:{}};return O[L](p,p.exports,j),p.exports}var h={};return(()=>{var L=h;Object.defineProperty(L,"__esModule",{value:!0}),L.SearchAddon=void 0;const c=j(345),p=j(859),m=" ~!@#$%^&*()+`-=[]{}|\\;:\"',./<>?";class M extends p.Disposable{constructor(t){var n;super(),this._highlightedLines=new Set,this._highlightDecorations=[],this._selectedDecoration=this.register(new p.MutableDisposable),this._linesCacheTimeoutId=0,this._linesCacheDisposables=new p.MutableDisposable,this._onDidChangeResults=this.register(new c.EventEmitter),this.onDidChangeResults=this._onDidChangeResults.event,this._highlightLimit=(n=t==null?void 0:t.highlightLimit)!=null?n:1e3}activate(t){this._terminal=t,this.register(this._terminal.onWriteParsed(()=>this._updateMatches())),this.register(this._terminal.onResize(()=>this._updateMatches())),this.register((0,p.toDisposable)(()=>this.clearDecorations()))}_updateMatches(){var t;this._highlightTimeout&&window.clearTimeout(this._highlightTimeout),this._cachedSearchTerm&&((t=this._lastSearchOptions)!=null&&t.decorations)&&(this._highlightTimeout=setTimeout(()=>{const n=this._cachedSearchTerm;this._cachedSearchTerm=void 0,this.findPrevious(n,ne(te({},this._lastSearchOptions),{incremental:!0,noScroll:!0}))},200))}clearDecorations(t){this._selectedDecoration.clear(),(0,p.disposeArray)(this._highlightDecorations),this._highlightDecorations=[],this._highlightedLines.clear(),t||(this._cachedSearchTerm=void 0)}clearActiveDecoration(){this._selectedDecoration.clear()}findNext(t,n){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const o=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,n);this._lastSearchOptions=n,n!=null&&n.decorations&&(this._cachedSearchTerm===void 0||t!==this._cachedSearchTerm||o)&&this._highlightAllMatches(t,n);const s=this._findNextAndSelect(t,n);return this._fireResults(n),this._cachedSearchTerm=t,s}_highlightAllMatches(t,n){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!t||t.length===0)return void this.clearDecorations();n=n||{},this.clearDecorations(!0);const o=[];let s,a=this._find(t,0,0,n);for(;a&&((s==null?void 0:s.row)!==a.row||(s==null?void 0:s.col)!==a.col)&&!(o.length>=this._highlightLimit);)s=a,o.push(s),a=this._find(t,s.col+s.term.length>=this._terminal.cols?s.row+1:s.row,s.col+s.term.length>=this._terminal.cols?0:s.col+1,n);for(const r of o){const l=this._createResultDecoration(r,n.decorations);l&&(this._highlightedLines.add(l.marker.line),this._highlightDecorations.push({decoration:l,match:r,dispose(){l.dispose()}}))}}_find(t,n,o,s){var l;if(!this._terminal||!t||t.length===0)return(l=this._terminal)==null||l.clearSelection(),void this.clearDecorations();if(o>this._terminal.cols)throw new Error(`Invalid col: ${o} to search in terminal of ${this._terminal.cols} cols`);let a;this._initLinesCache();const r={startRow:n,startCol:o};if(a=this._findInLine(t,r,s),!a)for(let _=n+1;_<this._terminal.buffer.active.baseY+this._terminal.rows&&(r.startRow=_,r.startCol=0,a=this._findInLine(t,r,s),!a);_++);return a}_findNextAndSelect(t,n){var _;if(!this._terminal||!t||t.length===0)return(_=this._terminal)==null||_.clearSelection(),this.clearDecorations(),!1;const o=this._terminal.getSelectionPosition();this._terminal.clearSelection();let s=0,a=0;o&&(this._cachedSearchTerm===t?(s=o.end.x,a=o.end.y):(s=o.start.x,a=o.start.y)),this._initLinesCache();const r={startRow:a,startCol:s};let l=this._findInLine(t,r,n);if(!l)for(let f=a+1;f<this._terminal.buffer.active.baseY+this._terminal.rows&&(r.startRow=f,r.startCol=0,l=this._findInLine(t,r,n),!l);f++);if(!l&&a!==0)for(let f=0;f<a&&(r.startRow=f,r.startCol=0,l=this._findInLine(t,r,n),!l);f++);return!l&&o&&(r.startRow=o.start.y,r.startCol=0,l=this._findInLine(t,r,n)),this._selectResult(l,n==null?void 0:n.decorations,n==null?void 0:n.noScroll)}findPrevious(t,n){if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");const o=!this._lastSearchOptions||this._didOptionsChange(this._lastSearchOptions,n);this._lastSearchOptions=n,n!=null&&n.decorations&&(this._cachedSearchTerm===void 0||t!==this._cachedSearchTerm||o)&&this._highlightAllMatches(t,n);const s=this._findPreviousAndSelect(t,n);return this._fireResults(n),this._cachedSearchTerm=t,s}_didOptionsChange(t,n){return!!n&&(t.caseSensitive!==n.caseSensitive||t.regex!==n.regex||t.wholeWord!==n.wholeWord)}_fireResults(t){if(t!=null&&t.decorations){let n=-1;if(this._selectedDecoration.value){const o=this._selectedDecoration.value.match;for(let s=0;s<this._highlightDecorations.length;s++){const a=this._highlightDecorations[s].match;if(a.row===o.row&&a.col===o.col&&a.size===o.size){n=s;break}}}this._onDidChangeResults.fire({resultIndex:n,resultCount:this._highlightDecorations.length})}}_findPreviousAndSelect(t,n){var f;if(!this._terminal)throw new Error("Cannot use addon until it has been loaded");if(!this._terminal||!t||t.length===0)return(f=this._terminal)==null||f.clearSelection(),this.clearDecorations(),!1;const o=this._terminal.getSelectionPosition();this._terminal.clearSelection();let s=this._terminal.buffer.active.baseY+this._terminal.rows-1,a=this._terminal.cols;const r=!0;this._initLinesCache();const l={startRow:s,startCol:a};let _;if(o&&(l.startRow=s=o.start.y,l.startCol=a=o.start.x,this._cachedSearchTerm!==t&&(_=this._findInLine(t,l,n,!1),_||(l.startRow=s=o.end.y,l.startCol=a=o.end.x))),_||(_=this._findInLine(t,l,n,r)),!_){l.startCol=Math.max(l.startCol,this._terminal.cols);for(let v=s-1;v>=0&&(l.startRow=v,_=this._findInLine(t,l,n,r),!_);v--);}if(!_&&s!==this._terminal.buffer.active.baseY+this._terminal.rows-1)for(let v=this._terminal.buffer.active.baseY+this._terminal.rows-1;v>=s&&(l.startRow=v,_=this._findInLine(t,l,n,r),!_);v--);return this._selectResult(_,n==null?void 0:n.decorations,n==null?void 0:n.noScroll)}_initLinesCache(){const t=this._terminal;this._linesCache||(this._linesCache=new Array(t.buffer.active.length),this._linesCacheDisposables.value=(0,p.getDisposeArrayDisposable)([t.onLineFeed(()=>this._destroyLinesCache()),t.onCursorMove(()=>this._destroyLinesCache()),t.onResize(()=>this._destroyLinesCache())])),window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=window.setTimeout(()=>this._destroyLinesCache(),15e3)}_destroyLinesCache(){this._linesCache=void 0,this._linesCacheDisposables.clear(),this._linesCacheTimeoutId&&(window.clearTimeout(this._linesCacheTimeoutId),this._linesCacheTimeoutId=0)}_isWholeWord(t,n,o){return(t===0||m.includes(n[t-1]))&&(t+o.length===n.length||m.includes(n[t+o.length]))}_findInLine(t,n,o={},s=!1){var W;const a=this._terminal,r=n.startRow,l=n.startCol,_=a.buffer.active.getLine(r);if(_!=null&&_.isWrapped)return s?void(n.startCol+=a.cols):(n.startRow--,n.startCol+=a.cols,this._findInLine(t,n,o));let f=(W=this._linesCache)==null?void 0:W[r];f||(f=this._translateBufferLineToStringWithWrap(r,!0),this._linesCache&&(this._linesCache[r]=f));const[v,u]=f,E=this._bufferColsToStringOffset(r,l),T=o.caseSensitive?t:t.toLowerCase(),C=o.caseSensitive?v:v.toLowerCase();let b=-1;if(o.regex){const P=RegExp(T,"g");let I;if(s)for(;I=P.exec(C.slice(0,E));)b=P.lastIndex-I[0].length,t=I[0],P.lastIndex-=t.length-1;else I=P.exec(C.slice(E)),I&&I[0].length>0&&(b=E+(P.lastIndex-I[0].length),t=I[0])}else s?E-T.length>=0&&(b=C.lastIndexOf(T,E-T.length)):b=C.indexOf(T,E);if(b>=0){if(o.wholeWord&&!this._isWholeWord(b,C,t))return;let P=0;for(;P<u.length-1&&b>=u[P+1];)P++;let I=P;for(;I<u.length-1&&b+t.length>=u[I+1];)I++;const D=b-u[P],x=b+t.length-u[I],U=this._stringLengthToBufferSize(r+P,D);return{term:t,col:U,row:r+P,size:this._stringLengthToBufferSize(r+I,x)-U+a.cols*(I-P)}}}_stringLengthToBufferSize(t,n){const o=this._terminal.buffer.active.getLine(t);if(!o)return 0;for(let s=0;s<n;s++){const a=o.getCell(s);if(!a)break;const r=a.getChars();r.length>1&&(n-=r.length-1);const l=o.getCell(s+1);l&&l.getWidth()===0&&n++}return n}_bufferColsToStringOffset(t,n){const o=this._terminal;let s=t,a=0,r=o.buffer.active.getLine(s);for(;n>0&&r;){for(let l=0;l<n&&l<o.cols;l++){const _=r.getCell(l);if(!_)break;_.getWidth()&&(a+=_.getCode()===0?1:_.getChars().length)}if(s++,r=o.buffer.active.getLine(s),r&&!r.isWrapped)break;n-=o.cols}return a}_translateBufferLineToStringWithWrap(t,n){var l;const o=this._terminal,s=[],a=[0];let r=o.buffer.active.getLine(t);for(;r;){const _=o.buffer.active.getLine(t+1),f=!!_&&_.isWrapped;let v=r.translateToString(!f&&n);if(f&&_){const u=r.getCell(r.length-1);u&&u.getCode()===0&&u.getWidth()===1&&((l=_.getCell(0))==null?void 0:l.getWidth())===2&&(v=v.slice(0,-1))}if(s.push(v),!f)break;a.push(a[a.length-1]+v.length),t++,r=_}return[s.join(""),a]}_selectResult(t,n,o){const s=this._terminal;if(this._selectedDecoration.clear(),!t)return s.clearSelection(),!1;if(s.select(t.col,t.row,t.size),n){const a=s.registerMarker(-s.buffer.active.baseY-s.buffer.active.cursorY+t.row);if(a){const r=s.registerDecoration({marker:a,x:t.col,width:t.size,backgroundColor:n.activeMatchBackground,layer:"top",overviewRulerOptions:{color:n.activeMatchColorOverviewRuler}});if(r){const l=[];l.push(a),l.push(r.onRender(_=>this._applyStyles(_,n.activeMatchBorder,!0))),l.push(r.onDispose(()=>(0,p.disposeArray)(l))),this._selectedDecoration.value={decoration:r,match:t,dispose(){r.dispose()}}}}}if(!o&&(t.row>=s.buffer.active.viewportY+s.rows||t.row<s.buffer.active.viewportY)){let a=t.row-s.buffer.active.viewportY;a-=Math.floor(s.rows/2),s.scrollLines(a)}return!0}_applyStyles(t,n,o){t.classList.contains("xterm-find-result-decoration")||(t.classList.add("xterm-find-result-decoration"),n&&(t.style.outline=`1px solid ${n}`)),o&&t.classList.add("xterm-find-active-result-decoration")}_createResultDecoration(t,n){const o=this._terminal,s=o.registerMarker(-o.buffer.active.baseY-o.buffer.active.cursorY+t.row);if(!s)return;const a=o.registerDecoration({marker:s,x:t.col,width:t.size,backgroundColor:n.matchBackground,overviewRulerOptions:this._highlightedLines.has(s.line)?void 0:{color:n.matchOverviewRuler,position:"center"}});if(a){const r=[];r.push(s),r.push(a.onRender(l=>this._applyStyles(l,n.matchBorder,!1))),r.push(a.onDispose(()=>(0,p.disposeArray)(r)))}return a}}L.SearchAddon=M})(),h})())}}]);
}());