"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4214],{44349:function(N,I,e){var x=e(97857),a=e.n(x),U=e(15009),s=e.n(U),m=e(99289),l=e.n(m),E=e(74763),P=e(17186),R=e(5966),T=e(86250),g=e(67294),Z=e(85893),W=(0,g.forwardRef)(function(o,O){var p=(0,g.useRef)();(0,g.useImperativeHandle)(O,function(){return{addItem:function(b){function r(L,y,j){return b.apply(this,arguments)}return r.toString=function(){return b.toString()},r}(function(b,r,L){var y,j=(y=p.current)===null||y===void 0?void 0:y.getList(),C;if(j==null||j.forEach(function(_,v){_[b]==r[b]&&(C=v)}),!(0,E.k)(C)&&L){var k;(k=p.current)===null||k===void 0||k.remove(C),C=void 0}if(!C){var K;(K=p.current)===null||K===void 0||K.add(r)}}),removeItemByKey:function(r,L){return l()(s()().mark(function y(){var j,C;return s()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return C=(j=p.current)===null||j===void 0?void 0:j.getList(),C==null||C.forEach(function(_,v){if(_[r]==L){var D;(D=p.current)===null||D===void 0||D.remove(v);return}}),K.abrupt("return");case 3:case"end":return K.stop()}},y)}))()},clear:function(r){if(!r){var L;r=(L=p.current)===null||L===void 0||(L=L.getList())===null||L===void 0?void 0:L.map(function(j,C){return C})}if(r){var y;(y=p.current)===null||y===void 0||y.remove(r)}},getList:function(){var r;return(r=p.current)===null||r===void 0?void 0:r.getList()}}});var d={};return o.hideCopyButton===!0&&(d.copyIconProps=!1),o.hideDeleteButton===!0&&(d.deleteIconProps=!1),(0,Z.jsx)(P.u,a()(a()({initialValue:o.initialValue,label:o.label,name:o.name,actionRef:p,creatorButtonProps:o.showAddButton?{creatorButtonText:o.label?o.label:o.showAddButtonLabel?o.showAddButtonLabel:o.name}:!1,min:o.min?o.min:0},d),{},{children:function(r,L,y){return(0,Z.jsx)(T.Z,{justify:o.justify,gap:o.gap,children:o.items.map(function(j){return j.render?(0,Z.jsx)("div",{children:j.render&&j.render(r,L,y)},"".concat(o.name,"-").concat(j.name,"-").concat(r.key)):(0,Z.jsx)(R.Z,{width:j.width,name:j.name,label:j.label,required:j.required,rules:[{required:j.required}],disabled:j.disabled,placeholder:j.placeholder},"".concat(o.name,"-").concat(j.name,"-").concat(r.key))})})}}))});I.Z=W},78451:function(N,I,e){e.d(I,{Z:function(){return U}});var x=e(67294),a=e(85893);function U(s){var m;return(0,a.jsx)("span",{style:{width:s.width?s.width:"auto",wordBreak:"break-word"},children:(m=s.content)!==null&&m!==void 0?m:s.children})}},51100:function(N,I,e){e.d(I,{Z:function(){return m}});var x=e(4813),a=e(91604),U=e(1677),s=e(85893);function m(l){return l.showDragger?(0,s.jsx)(a.Z,{max:l.max?l.max:1,title:l.title,label:l.label,required:l.required,rules:[{required:l.required}],fieldProps:{multiple:!!(l.max&&l.max>1),name:"file",accept:l.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(P){return new Promise(function(R){var T;(0,x._)({path:(T=P.response.data.path)!==null&&T!==void 0?T:""}).then(function(g){R(!0)})})},onChange:function(P){P.file.status=="done"&&l.onFinish&&l.onFinish(P.fileList)}},name:l.name}):(0,s.jsx)(U.Z,{max:l.max?l.max:1,title:l.title,label:l.label,required:l.required,rules:[{required:l.required}],fieldProps:{multiple:!!(l.max&&l.max>1),name:"file",accept:l.accept,action:"/api/common/attach/upload",headers:{Authorization:"Bearer "+localStorage.getItem("token")},onRemove:function(P){return new Promise(function(R){var T;(0,x._)({path:(T=P.response.data.path)!==null&&T!==void 0?T:""}).then(function(g){R(!0)})})},onChange:function(P){P.file.status=="done"&&l.onFinish&&l.onFinish(P.fileList)}},name:l.name})}},3616:function(N,I,e){e.d(I,{Ed:function(){return s},FK:function(){return a},R_:function(){return x},ob:function(){return U}});var x=window.innerWidth<=1024?"90vw":"65vw",a="90vw",U="60vw",s="50vh"},65913:function(N,I,e){var x=e(5574),a=e.n(x),U=e(74330),s=e(67294),m=e(85893),l=(0,s.forwardRef)(function(E,P){(0,s.useImperativeHandle)(P,function(){return{show:function(){Z(!0)},destroy:function(){Z(!1)}}});var R=(0,s.useState)(!1),T=a()(R,2),g=T[0],Z=T[1];return(0,m.jsx)(U.Z,{spinning:g,size:"default",children:E.children})});I.Z=l},17550:function(N,I,e){e.r(I),e.d(I,{default:function(){return Re}});var x=e(19632),a=e.n(x),U=e(15009),s=e.n(U),m=e(99289),l=e.n(m),E=e(5574),P=e.n(E),R=e(74453),T=e(97269),g=e(62370),Z=e(37476),W=e(5966),o=e(42075),O=e(25593),p=e(66309),d=e(84567),b=e(83622),r=e(67294),L=e(82346),y=e(73813),j=e(5251),C=e(80821),k=e(58638),K=e(1912),_=e(52645),v=e(2205),D=e(67255),t=e(78914),J=e(1699),me=e(184),re=e(44349),oe=e(51100),A=e(36146),ue=e(3616),ne=e(57546),n=e(85893),fe=(0,r.forwardRef)(function(ie,S){(0,r.useImperativeHandle)(S,function(){return{}});var te=(0,r.useRef)(),H=new A.Uo("components.image");return(0,n.jsxs)(me.a,{drawerProps:{width:ue.R_},title:H.format("importTitle"),trigger:(0,n.jsx)(b.ZP,{icon:(0,n.jsx)(ne.Z,{}),children:H.format("importTitle")},"create"),formRef:te,onFinish:function(){var de=l()(s()().mark(function le(X){var Q,q;return s()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,(0,y.GH)({localUrl:X.imageTarUpload?X.imageTarUpload.map(function(ae){return ae.response.data.path}):[],remoteUrl:X.remoteUrl?X.remoteUrl.map(function(ae){return ae.url}):[]});case 2:return q=G.sent,!((Q=te.current)===null||Q===void 0)&&Q.resetFields&&te.current.resetFields(),ie.onFinish&&ie.onFinish(),G.abrupt("return",!0);case 6:case"end":return G.stop()}},le)}));return function(le){return de.apply(this,arguments)}}(),children:[(0,n.jsx)(oe.Z,{label:H.format("importLocal"),showDragger:!0,max:10,title:H.format("importLocalTip"),name:"imageTarUpload",accept:".tar"}),(0,n.jsx)(re.Z,{label:H.format("importRemote"),name:"remoteUrl",showAddButton:!0,hideCopyButton:!0,min:1,items:[{width:"lg",name:"url",placeholder:H.format("importRemoteEmpty")}]})]})}),he=fe,ge=e(47248),ve=e(96486),je=e.n(ve),Y=e(55375),Pe=e(98510),Ee=e(68297),be=e(97841);function Re(){var ie=(0,L.useAccess)(),S=(0,r.useRef)(),te=(0,r.useState)({force:!1}),H=P()(te,2),de=H[0],le=H[1],X=(0,r.useRef)(),Q=(0,r.useRef)(),q=(0,r.useRef)(),$=new A.Uo("image"),G=(0,r.useRef)(),ae=(0,r.useRef)(),Te=(0,r.useState)(1),_e=P()(Te,2),ee=_e[0],se=_e[1];return(0,r.useEffect)(function(){var B;!((B=S.current)===null||B===void 0)&&B.reloadAndRest&&S.current.reloadAndRest().then(function(){var M,i;!((M=S.current)===null||M===void 0)&&M.setPageInfo&&S.current.setPageInfo({current:(0,D.G$)(Y.CM,(i=S.current)===null||i===void 0?void 0:i.pageInfo)})})},[ee]),(0,n.jsxs)(R._z,{header:{extra:[(0,n.jsx)(J.u,{access:"canSeeImageListPull",children:(0,n.jsx)(ge.Z,{onFinish:function(){se(ee+1)}},"remote")},"remote"),(0,n.jsx)(J.u,{access:"canSeeImageListManageCreate",children:(0,n.jsx)(he,{onFinish:function(){se(ee+1)}})},"import")]},children:[(0,n.jsx)(t.Z,{ref:Q,onClose:function(){se(ee+1)}}),(0,n.jsx)(Pe.C,{rowKey:"Id",onChange:function(M,i,w){!je().isArray(w)&&(0,D.LX)(Y.CM,w.columnKey,w.order),(0,D.MJ)(Y.CM,M.current)},columns:[{title:"Id",dataIndex:"title",search:!1,render:function(M,i,w,V,f){var u=i.Id.substring(7,19);return i.Title&&(u=i.Title),(0,n.jsxs)(o.Z,{children:[(0,n.jsx)(O.Z.Link,{copyable:!0,onClick:function(){var h;!((h=Q.current)===null||h===void 0)&&h.show&&Q.current.show(i.Id)},children:u},"title-".concat(w)),i.Containers==0&&(0,n.jsx)(p.Z,{color:"warning",children:A.FD.format("listNotUse")},"use-".concat(w))]})}},{title:A.FD.format("listTitle"),dataIndex:"tag",render:function(M,i,w,V){return(0,n.jsx)(o.Z,{direction:"vertical",style:{textAlign:"left"},children:i.RepoTags.map(function(f,u){return(0,n.jsx)(o.Z,{children:(0,n.jsx)(p.Z,{color:"#2db7f5",children:(0,n.jsx)(O.Z.Text,{copyable:!0,title:f,style:{color:"#ffffff"},children:f},"tag-"+u)},"tag-".concat(u))},u)})},i.Id)}},{title:"Digest",search:!1,tooltip:A.FD.format("listDigestTip"),render:function(M,i,w,V,f){return(0,n.jsx)(o.Z,{direction:"vertical",style:{textAlign:"left"},children:i.RepoTags&&i.RepoTags.map(function(u,c){var h,z=(h=i.RepoDigests)===null||h===void 0?void 0:h.find(function(F){var ce=F.split("@"),pe=P()(ce,2),Oe=pe[0],ye=pe[1];return u.includes(Oe)});return(0,n.jsx)("span",{children:z?z.substring(z.indexOf("@")+8).substring(0,12):(0,n.jsx)(p.Z,{color:"warning",children:new A.Uo("components.appDetail").format("checkImageUpgradeOption.-3")})},c)})})}},{title:A.FD.format("listArch"),width:80,search:!1,render:function(M,i,w,V,f){if(i.Labels&&i.Labels["com.dpanel.image.arch"])return(0,n.jsx)(p.Z,{children:i.Labels["com.dpanel.image.arch"]},"arch"+i.Id)}},{title:A.FD.format("listSize"),dataIndex:"size",ellipsis:!0,width:"120px",search:!1,sorter:function(M,i){return parseFloat(M.Size)-parseFloat(i.Size)},sortDirections:D.h5,defaultSortOrder:(0,D.rj)(Y.CM,"size"),render:function(M,i,w,V){return(0,n.jsx)("div",{children:(0,j.FI)(parseFloat(i.Size))},i.Id)}},{title:A.FD.format("listCreatedAt"),dataIndex:"Created",key:"created",ellipsis:!0,search:!1,width:"180px",render:function(M,i,w,V){return(0,n.jsx)("div",{children:(0,j.ZM)(i.Created*1e3)},i.Id)},sorter:function(M,i){return M.Created-i.Created},sortDirections:D.h5,defaultSortOrder:(0,D.rj)(Y.CM,"created")}],request:function(){var B=l()(s()().mark(function M(i,w,V){var f;return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,y.KG)({tag:i.tag,title:i.title,use:i.use?i.use=="1"?1:2:0});case 2:if(f=c.sent,!(!f||!f.data||!f.data.list)){c.next=5;break}return c.abrupt("return",{data:[],success:!0,total:0});case 5:return f.data.list.map(function(h){var z="";h.RepoTags.map(function(F){f.data.title[F]&&(z=f.data.title[F])}),h.Title=z}),c.abrupt("return",{data:f.data.list,success:!0,total:f.data.list.length});case 7:case"end":return c.stop()}},M)}));return function(M,i,w){return B.apply(this,arguments)}}(),rowSelection:ie.canSeeImageListManage?{defaultSelectedRowKeys:[],alwaysShowAlert:!0}:void 0,actionRef:S,quickToolbarRender:function(M){var i=M.selectedRows,w=M.finish,V=M.loading;return(0,n.jsxs)(o.Z,{size:16,children:[(0,n.jsx)(C.Z,{buttonProps:{icon:(0,n.jsx)(k.Z,{}),disabled:i.length==0},confirmProps:{onOpenChange:function(u,c){var h;!((h=q.current)===null||h===void 0)&&h.resetFields&&q.current.resetFields()},description:(0,n.jsxs)(o.Z,{style:{width:500,marginTop:"10px",paddingRight:"10px"},direction:"vertical",size:20,children:[(0,n.jsx)(O.Z.Text,{children:(0,n.jsx)("ul",{children:$.prefix("listManageExportTipOption",2).map(function(f,u){return(0,n.jsx)("li",{children:f},u)})})}),(0,n.jsx)(T.A,{layout:"horizontal",formRef:q,submitter:!1,children:(0,n.jsx)(g.Z,{valuePropName:"checked",name:"enableExportToPath",children:(0,n.jsx)(d.Z,{children:$.format("listManageExportOptionToHost")})},"enableExportToPath")})]})},onSuccess:function(){var u;!((u=S.current)===null||u===void 0)&&u.reset&&S.current.reset()},action:function(){var u,c,h=[];return i.map(function(z){h.push.apply(h,a()(z.RepoTags))}),(0,y.Rb)({md5:h,enableExportToPath:(u=(c=q.current)===null||c===void 0?void 0:c.getFieldValue("enableExportToPath"))!==null&&u!==void 0?u:!1})},children:A.FD.format("listManageExport")}),(0,n.jsxs)(Z.Y,{modalProps:{width:ue.ob},onOpenChange:function(){var u;(u=X.current)===null||u===void 0||u.resetFields()},formRef:X,title:$.format("listManagePushTip"),trigger:(0,n.jsx)(b.ZP,{disabled:i.length==0,icon:(0,n.jsx)(K.Z,{}),children:$.format("listManagePush")}),onFinish:function(){var f=l()(s()().mark(function u(c){var h;return s()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,(0,Ee.fy)({md5:i.map(function(ce){return ce.Id}),registryServerAddress:c.registryServerAddress,newNamespace:c.newNamespace});case 2:return h=F.sent,se(ee+1),F.abrupt("return",!0);case 5:case"end":return F.stop()}},u)}));return function(u){return f.apply(this,arguments)}}(),children:[(0,n.jsx)(g.Z,{name:"registryServerAddress",hidden:!0}),(0,n.jsx)(g.Z,{label:$.format("listManagePushImageRespo"),name:"imageRespo",tooltip:$.format("listManagePushImageRespoTip"),children:(0,n.jsx)(v.Z,{multiple:!0,top:!0,onChangeList:function(u){var c;(c=X.current)===null||c===void 0||c.setFieldValue("registryServerAddress",u.map(function(h){return h.serverAddress}))}})}),(0,n.jsx)(W.Z,{tooltip:$.format("listManagePushNewNamespaceTip"),label:$.format("listManagePushNewNamespace"),name:"newNamespace"})]}),(0,n.jsx)(J.u,{access:"canSeeImageListManageDelete",children:(0,n.jsx)(C.Z,{buttonProps:{icon:(0,n.jsx)(_.Z,{})},action:l()(s()().mark(function f(){var u,c,h;return s()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return V(),h=[],(u=G.current)!==null&&u!==void 0&&u.getFieldValue("enableBuildCache")&&h.push((0,be.c5)()),h.push((0,y.Xz)({enableUnuseTag:(c=G.current)===null||c===void 0?void 0:c.getFieldValue("enableUnuseTag")})),F.abrupt("return",Promise.all(h).finally(function(){w(!0)}));case 5:case"end":return F.stop()}},f)})),onSuccess:function(){var u;return!((u=S.current)===null||u===void 0)&&u.reloadAndRest&&S.current.reloadAndRest(),!0},onError:function(){return se(ee+1),!0},confirmProps:{onOpenChange:function(u,c){var h;!((h=G.current)===null||h===void 0)&&h.resetFields&&G.current.resetFields()},description:(0,n.jsx)(T.A,{submitter:!1,formRef:G,layout:"inline",children:(0,n.jsxs)(o.Z,{direction:"vertical",style:{width:600},children:[(0,n.jsx)(O.Z.Text,{children:$.format("listManagePruneTip")}),(0,n.jsx)(g.Z,{name:"enableUnuseTag",valuePropName:"checked",children:(0,n.jsxs)(d.Z,{children:[$.format("listManagePruneOption.enableUnuseTag"),"?"]})}),(0,n.jsx)(g.Z,{initialValue:!0,name:"enableBuildCache",valuePropName:"checked",children:(0,n.jsxs)(d.Z,{children:[$.format("listManagePruneOption.enableBuildCache"),"?"]})})]})})},children:A.FD.format("listManagePrune")})},"prune"),(0,n.jsx)(J.u,{access:"canSeeImageListManageDelete",children:(0,n.jsx)(C.Z,{buttonProps:{danger:!0,type:"primary"},action:l()(s()().mark(function f(){return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return V(),c.abrupt("return",(0,y.ao)({md5:i.map(function(h){return h.Id}),force:de.force}).finally(function(){w(!0)}));case 2:case"end":return c.stop()}},f)})),onSuccess:function(){var u,c;return!((u=S.current)===null||u===void 0)&&u.reloadAndRest&&((c=S.current)===null||c===void 0||c.reloadAndRest()),!0},onError:function(){var u,c;return!((u=S.current)===null||u===void 0)&&u.reloadAndRest&&((c=S.current)===null||c===void 0||c.reloadAndRest()),!0},confirmProps:{description:(0,n.jsx)(T.A,{submitter:!1,formRef:ae,children:(0,n.jsxs)(o.Z,{style:{width:280},direction:"vertical",children:[(0,n.jsx)(O.Z.Text,{children:A.FD.format("confirm.title")}),(0,n.jsxs)(d.Z,{name:"deleteVolume",onChange:function(u){return le({force:u.target.checked})},children:[A.FD.format("listManageDeleteForce"),"?"]})]})})},children:A.FD.format("listManageDeleteBatch")})})]})},columnsState:(0,D.j_)(Y.CM)})]})}},4813:function(N,I,e){e.d(I,{_:function(){return l}});var x=e(15009),a=e.n(x),U=e(99289),s=e.n(U),m=e(82346);function l(P){return E.apply(this,arguments)}function E(){return E=s()(a()().mark(function P(R){return a()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,(0,m.request)("/api/common/attach/delete",{method:"POST",data:R});case 2:return g.abrupt("return",g.sent);case 3:case"end":return g.stop()}},P)})),E.apply(this,arguments)}},97841:function(N,I,e){e.d(I,{Xr:function(){return Z},bJ:function(){return T},c5:function(){return o},hf:function(){return l},l9:function(){return P}});var x=e(15009),a=e.n(x),U=e(99289),s=e.n(U),m=e(82346);function l(p){return E.apply(this,arguments)}function E(){return E=s()(a()().mark(function p(d){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,m.request)("/api/app/image-build/delete",{method:"POST",data:d});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},p)})),E.apply(this,arguments)}function P(p){return R.apply(this,arguments)}function R(){return R=s()(a()().mark(function p(d){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/image-build/create",{method:"POST",data:d}));case 1:case"end":return r.stop()}},p)})),R.apply(this,arguments)}function T(p){return g.apply(this,arguments)}function g(){return g=s()(a()().mark(function p(d){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,m.request)("/api/app/image-build/get-list",{method:"POST",data:d}));case 1:case"end":return r.stop()}},p)})),g.apply(this,arguments)}function Z(p){return W.apply(this,arguments)}function W(){return W=s()(a()().mark(function p(d){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,m.request)("/api/app/image-build/get-detail",{method:"POST",data:d});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}},p)})),W.apply(this,arguments)}function o(){return O.apply(this,arguments)}function O(){return O=s()(a()().mark(function p(){return a()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(0,m.request)("/api/app/image-build/prune",{method:"POST"});case 2:return b.abrupt("return",b.sent);case 3:case"end":return b.stop()}},p)})),O.apply(this,arguments)}},73813:function(N,I,e){e.d(I,{Ck:function(){return l},Fj:function(){return p},GH:function(){return P},KG:function(){return Z},Rb:function(){return L},Xz:function(){return T},YU:function(){return b},ZQ:function(){return j},ao:function(){return o},cD:function(){return k}});var x=e(15009),a=e.n(x),U=e(99289),s=e.n(U),m=e(82346);function l(_){return E.apply(this,arguments)}function E(){return E=s()(a()().mark(function _(v){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("/api/app/image/import-by-container-tar",{method:"POST",data:v}));case 1:case"end":return t.stop()}},_)})),E.apply(this,arguments)}function P(_){return R.apply(this,arguments)}function R(){return R=s()(a()().mark(function _(v){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("/api/app/image/import-by-image-tar",{method:"POST",data:v}));case 1:case"end":return t.stop()}},_)})),R.apply(this,arguments)}function T(_){return g.apply(this,arguments)}function g(){return g=s()(a()().mark(function _(v){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.request)("/api/app/image/prune",{method:"POST"});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_)})),g.apply(this,arguments)}function Z(_){return W.apply(this,arguments)}function W(){return W=s()(a()().mark(function _(v){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("/api/app/image/get-list",{method:"POST",data:v}));case 1:case"end":return t.stop()}},_)})),W.apply(this,arguments)}function o(_){return O.apply(this,arguments)}function O(){return O=s()(a()().mark(function _(v){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.request)("/api/app/image/delete",{method:"POST",data:v});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_)})),O.apply(this,arguments)}function p(_){return d.apply(this,arguments)}function d(){return d=s()(a()().mark(function _(v){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.request)("/api/app/image/update-title",{method:"POST",data:v});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},_)})),d.apply(this,arguments)}function b(_){return r.apply(this,arguments)}function r(){return r=s()(a()().mark(function _(v){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("/api/app/image/get-detail",{method:"POST",data:v}));case 1:case"end":return t.stop()}},_)})),r.apply(this,arguments)}function L(_){return y.apply(this,arguments)}function y(){return y=s()(a()().mark(function _(v){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!v.enableExportToPath){t.next=2;break}return t.abrupt("return",(0,m.request)("/api/app/image/export",{method:"POST",data:v}));case 2:return t.abrupt("return",new Promise(function(J,me){var re,oe=localStorage.getItem("token"),A=new URLSearchParams;A.append("token",oe||""),v.md5&&v.md5.forEach(function(n){A.append("md5",n)}),A.append("enableExportToPath",String((re=v.enableExportToPath)!==null&&re!==void 0?re:!1));var ue="/api/app/image/export?".concat(A.toString()),ne=document.createElement("iframe");ne.style.display="none",ne.src=ue,document.body.appendChild(ne),J({code:200,data:"success",error:""})}));case 3:case"end":return t.stop()}},_)})),y.apply(this,arguments)}function j(_){return C.apply(this,arguments)}function C(){return C=s()(a()().mark(function _(v){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("/api/app/image/check-upgrade",{method:"POST",data:v}));case 1:case"end":return t.stop()}},_)})),C.apply(this,arguments)}function k(_){return K.apply(this,arguments)}function K(){return K=s()(a()().mark(function _(v){return a()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(0,m.request)("/api/pro/image/get-rootfs",{method:"POST",data:v}));case 1:case"end":return t.stop()}},_)})),K.apply(this,arguments)}},75870:function(N,I,e){e.d(I,{Ot:function(){return l},ZH:function(){return P},ix:function(){return T},t1:function(){return Z}});var x=e(15009),a=e.n(x),U=e(99289),s=e.n(U),m=e(82346);function l(o){return E.apply(this,arguments)}function E(){return E=s()(a()().mark(function o(O){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,m.request)("/api/common/registry/get-list",{method:"POST",data:O}));case 1:case"end":return d.stop()}},o)})),E.apply(this,arguments)}function P(o){return R.apply(this,arguments)}function R(){return R=s()(a()().mark(function o(O){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,m.request)("/api/common/registry/create",{method:"POST",data:O}));case 1:case"end":return d.stop()}},o)})),R.apply(this,arguments)}function T(o){return g.apply(this,arguments)}function g(){return g=s()(a()().mark(function o(O){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,m.request)("/api/common/registry/delete",{method:"POST",data:O}));case 1:case"end":return d.stop()}},o)})),g.apply(this,arguments)}function Z(o){return W.apply(this,arguments)}function W(){return W=s()(a()().mark(function o(O){return a()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,m.request)("/api/common/registry/get-detail",{method:"POST",data:O}));case 1:case"end":return d.stop()}},o)})),W.apply(this,arguments)}}}]);
